if ((typeof(basics$ElabTopdec$$9)) == "undefined") {basics$ElabTopdec$$9 = {};
};
(function(){basics$ElabTopdec$$9.map_Some_on_2nd$5366 = function(v$8323,v$8324){return [v$8323,[0,v$8324]];
};
basics$ElabTopdec$$9.map_Some_on_2nd$$5373 = function(v$8325,v$8326,v$8327){return [v$8325,[0,v$8326],v$8327];
};
basics$ElabTopdec$$9.map_Some_on_3nd$5382 = function(v$8328,v$8329,v$8330){return [v$8328,v$8329,[0,v$8330]];
};
basics$ElabTopdec$$9.elab_X_opt$5391 = function(v$8331,v$8332,v$8333){return function(v$5397){return function(v$5400){switch (v$8333[0]) { case 0: {var v$5419 = v$8333[1];
var v$7542 = v$5397([v$8331,v$8332,v$5419]);
return [v$7542[0],[0,v$7542[1]]];
 break; }default: {return [v$5400,[1]];
} };
};
};
};
basics$ElabTopdec$$9.elab_X_opt$$5426 = function(v$8334,v$8335){return function(v$5432){return function(v$5435){return function(v$5438){switch (v$8335[0]) { case 0: {var v$5456 = v$8335[1];
var v$7543 = v$5432([v$8334,v$5456]);
return [v$7543[0],v$7543[1],[0,v$7543[2]]];
 break; }default: {return [v$5435,v$5438,[1]];
} };
};
};
};
};
basics$ElabTopdec$$9.elab_X_opt$$$5464 = function(v$8336,v$8337,v$8338){return function(v$5470){return function(v$5473){switch (v$8337[0]) { case 0: {var v$5491 = v$8337[1];
var v$7544 = v$5470([v$8336,v$5491,v$8338]);
return [v$7544[0],[0,v$7544[1]],v$7544[2]];
 break; }default: {return [v$5473,[1],v$8338];
} };
};
};
};
basics$ElabTopdec$$9.Phi_match_via$5499 = function(a$5502){return basics$ModuleStatObject$.match_via$833(a$5502[0],a$5502[1]);
};
basics$ElabTopdec$$9.Sigma_to_T_and_E$5503 = function(a$5506){return basics$ModuleStatObject$.to_T_and_E$475(a$5506);
};
basics$ElabTopdec$$9.VE_close$5507 = function(a$5510){return basics$Environments$.close$1379(a$5510);
};
basics$ElabTopdec$$9.maximise_equality_in_VE_and_TE$5511 = function(a$5514){return basics$Environments$.maximise_equality_in_VE_and_TE$3728(a$5514[0],a$5514[1]);
};
basics$ElabTopdec$$9.lookup_longstrid$5515 = function(a$5518){return basics$ModuleEnvironments$.lookup_longstrid$564(a$5518);
};
basics$ElabTopdec$$9.lookup_funid$5519 = function(a$5522){return basics$ModuleEnvironments$.lookup_funid$637(a$5522);
};
basics$ElabTopdec$$9.lookup_sigid$5523 = function(a$5526){return basics$ModuleEnvironments$.lookup_sigid$601(a$5526);
};
basics$ElabTopdec$$9.lookup_longtycon$5527 = function(a$5530){return function(v$8346){return basics$Environments$.lookup_longtycon$2497(a$5530,v$8346);
};
};
basics$ElabTopdec$$9.lookup_longtycon$$5531 = function(a$5534){return basics$ModuleEnvironments$.lookup_longtycon$565(a$5534);
};
basics$ElabTopdec$$9.lookup_longstrid$$5535 = function(a$5538){return function(v$8348){return basics$Environments$.lookup_longstrid$2504(a$5538,v$8348);
};
};
basics$ElabTopdec$$9.lookup_tycon$5539 = function(a$5542){return basics$Environments$.lookup_tycon$3256(a$5542);
};
basics$ElabTopdec$$9.out_i_for_exdesc$5549 = function(excon$7110,VE$7113,i$7116,error$7119){if (error$7119) {return basics$ElabTopdec$$1.repeatedIdsError$234(i$7116,[[7,excon$7110],null]);
} else {if (basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(excon$7110)) {return basics$ElabTopdec$$1.errorConv$220(i$7116,[17,[excon$7110,null]]);
} else {if (basics$PreElabDecGrammar$$2.is_$it$$1843(excon$7110)) {return basics$ElabTopdec$$1.errorConv$220(i$7116,[18]);
} else {return basics$ElabTopdec$$1.okConv$219(i$7116);
};
};
};
};
var fix$8360 = {};
fix$8360.$elab_exdesc = function(v$7105,v$7106,v$7107){var v$7037 = v$7106[1];
var v$7038 = v$7037[2];
switch (v$7038[0]) { case 1: {var v$7053 = v$7037[0];
var v$7054 = v$7037[1];
var v$7055 = v$7037[3];
var v$7050 = basics$ElabTopdec$$8.add_ids_vid$5324(v$7107,v$7054);
var v$7051 = v$7050[0];
var v$7052 = v$7050[1];
var v$7046;
switch (v$7055[0]) { case 0: {var v$7552 = v$7055[1];
var v$7555 = fix$8360.$elab_exdesc(v$7105,v$7552,v$7052);
v$7046 = [v$7555[0],[0,v$7555[1]],v$7555[2]];
 break; }default: {v$7046 = [basics$Environments$.empty$1031,[1],v$7052];
} };
var v$7047 = v$7046[0];
var v$7048 = v$7046[1];
var v$7049 = v$7046[2];
return [basics$Environments$.plus$1080(basics$Environments$.singleton_excon$1053(v$7054,basics$StatObject$.Exn$2075),v$7047),[0,[v$7051?(basics$ElabTopdec$$1.repeatedIdsError$234(v$7053,[[7,v$7054],null])):((basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(v$7054))?(basics$ElabTopdec$$1.errorConv$220(v$7053,[17,[v$7054,null]])):((basics$PreElabDecGrammar$$2.is_$it$$1843(v$7054))?(basics$ElabTopdec$$1.errorConv$220(v$7053,[18])):(basics$ElabTopdec$$1.okConv$219(v$7053)))),v$7054,[1],v$7048]],v$7049];
 break; }default: {var v$7101 = v$7037[0];
var v$7102 = v$7037[1];
var v$7103 = v$7038[1];
var v$7104 = v$7037[3];
var v$7098 = basics$ElabTopdec$$8.add_ids_vid$5324(v$7107,v$7102);
var v$7099 = v$7098[0];
var v$7100 = v$7098[1];
var v$7094;
switch (v$7104[0]) { case 0: {var v$7567 = v$7104[1];
var v$7570 = fix$8360.$elab_exdesc(v$7105,v$7567,v$7100);
v$7094 = [v$7570[0],[0,v$7570[1]],v$7570[2]];
 break; }default: {v$7094 = [basics$Environments$.empty$1031,[1],v$7100];
} };
var v$7095 = v$7094[0];
var v$7096 = v$7094[1];
var v$7097 = v$7094[2];
var v$7079 = basics$ElabDec$.elab_ty$795(v$7105,v$7103);
var v$7080 = v$7079[0];
switch (v$7080[0]) { case 0: {var v$7090 = v$7080[1];
var v$7091 = v$7079[1];
var tyvars$7082 = basics$ElabTopdec$$1.tyvars_Type$207(v$7090);
var arrow$7083 = basics$StatObject$.mk_Arrow$2095(v$7090,basics$StatObject$.Exn$2075);
var out_i$7084 = (tyvars$7082 == null)?(v$7099?(basics$ElabTopdec$$1.repeatedIdsError$234(v$7101,[[7,v$7102],null])):((basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(v$7102))?(basics$ElabTopdec$$1.errorConv$220(v$7101,[17,[v$7102,null]])):((basics$PreElabDecGrammar$$2.is_$it$$1843(v$7102))?(basics$ElabTopdec$$1.errorConv$220(v$7101,[18])):(basics$ElabTopdec$$1.okConv$219(v$7101))))):(basics$ElabTopdec$$1.errorConv$220(v$7101,[36]));
return [basics$Environments$.plus$1080(basics$Environments$.singleton_excon$1053(v$7102,arrow$7083),v$7095),[0,[out_i$7084,v$7102,[0,v$7091],v$7096]],v$7097];
 break; }default: {var v$7093 = v$7079[1];
return [v$7095,[0,[v$7099?(basics$ElabTopdec$$1.repeatedIdsError$234(v$7101,[[7,v$7102],null])):((basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(v$7102))?(basics$ElabTopdec$$1.errorConv$220(v$7101,[17,[v$7102,null]])):((basics$PreElabDecGrammar$$2.is_$it$$1843(v$7102))?(basics$ElabTopdec$$1.errorConv$220(v$7101,[18])):(basics$ElabTopdec$$1.okConv$219(v$7101)))),v$7102,[0,v$7093],v$7096]],v$7097];
} };
} };
};
basics$ElabTopdec$$9.elab_exdesc$5550 = fix$8360.$elab_exdesc;
basics$ElabTopdec$$9.out_i_for_condesc$5552 = function(con$6981,constructor_map$6984,i$6987,error$6990){if (error$6990) {return basics$ElabTopdec$$1.repeatedIdsError$234(i$6987,[[8,con$6981],null]);
} else {if (basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(con$6981)) {return basics$ElabTopdec$$1.errorConv$220(i$6987,[17,[con$6981,null]]);
} else {if (basics$PreElabDecGrammar$$2.is_$it$$1843(con$6981)) {return basics$ElabTopdec$$1.errorConv$220(i$6987,[18]);
} else {return basics$ElabTopdec$$1.okConv$219(i$6987);
};
};
};
};
var fix$8361 = {};
fix$8361.$elab_condesc = function(v$6975,v$6976,v$6977,v$6978){var v$6915 = v$6977[1];
var v$6916 = v$6915[2];
switch (v$6916[0]) { case 1: {var v$6932 = v$6915[0];
var v$6933 = v$6915[1];
var v$6934 = v$6915[3];
var sigma$6917 = [null,v$6976];
var v$6929 = basics$ElabTopdec$$8.add_ids_vid$5324(v$6978,v$6933);
var v$6930 = v$6929[0];
var v$6931 = v$6929[1];
var v$6925 = fix$8361.$elab_condesc_opt(v$6975,v$6976,v$6934,v$6931);
var v$6926 = v$6925[0];
var v$6927 = v$6925[1];
var v$6928 = v$6925[2];
return [basics$Environments$.add$3543(function(v$8339){return syntax_objects$Ident$.eq_id$237(v$8339[0],v$8339[1]);
},v$6933,sigma$6917,v$6926),[0,[v$6930?(basics$ElabTopdec$$1.repeatedIdsError$234(v$6932,[[8,v$6933],null])):((basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(v$6933))?(basics$ElabTopdec$$1.errorConv$220(v$6932,[17,[v$6933,null]])):((basics$PreElabDecGrammar$$2.is_$it$$1843(v$6933))?(basics$ElabTopdec$$1.errorConv$220(v$6932,[18])):(basics$ElabTopdec$$1.okConv$219(v$6932)))),v$6933,[1],v$6927]],v$6928];
 break; }default: {var v$6971 = v$6915[0];
var v$6972 = v$6915[1];
var v$6973 = v$6916[1];
var v$6974 = v$6915[3];
var v$6968 = basics$ElabTopdec$$8.add_ids_vid$5324(v$6978,v$6972);
var v$6969 = v$6968[0];
var v$6970 = v$6968[1];
var v$6964 = fix$8361.$elab_condesc_opt(v$6975,v$6976,v$6974,v$6970);
var v$6965 = v$6964[0];
var v$6966 = v$6964[1];
var v$6967 = v$6964[2];
var v$6955 = basics$ElabDec$.elab_ty$795(v$6975,v$6973);
var v$6956 = v$6955[0];
switch (v$6956[0]) { case 0: {var v$6961 = v$6956[1];
var v$6962 = v$6955[1];
var arrow$6958 = basics$StatObject$.mk_Arrow$2095(v$6961,v$6976);
var sigma$6959 = [null,arrow$6958];
return [basics$Environments$.add$3543(function(v$8340){return syntax_objects$Ident$.eq_id$237(v$8340[0],v$8340[1]);
},v$6972,sigma$6959,v$6965),[0,[v$6969?(basics$ElabTopdec$$1.repeatedIdsError$234(v$6971,[[8,v$6972],null])):((basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(v$6972))?(basics$ElabTopdec$$1.errorConv$220(v$6971,[17,[v$6972,null]])):((basics$PreElabDecGrammar$$2.is_$it$$1843(v$6972))?(basics$ElabTopdec$$1.errorConv$220(v$6971,[18])):(basics$ElabTopdec$$1.okConv$219(v$6971)))),v$6972,[0,v$6962],v$6966]],v$6967];
 break; }default: {var v$6963 = v$6955[1];
return [v$6965,[0,[v$6969?(basics$ElabTopdec$$1.repeatedIdsError$234(v$6971,[[8,v$6972],null])):((basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(v$6972))?(basics$ElabTopdec$$1.errorConv$220(v$6971,[17,[v$6972,null]])):((basics$PreElabDecGrammar$$2.is_$it$$1843(v$6972))?(basics$ElabTopdec$$1.errorConv$220(v$6971,[18])):(basics$ElabTopdec$$1.okConv$219(v$6971)))),v$6972,[0,v$6963],v$6966]],v$6967];
} };
} };
};
fix$8361.$elab_condesc_opt = function(v$7017,v$7018,v$7019,v$7020){switch (v$7019[0]) { case 0: {var v$7592 = v$7019[1];
var v$7595 = fix$8361.$elab_condesc(v$7017,v$7018,v$7592,v$7020);
return [v$7595[0],[0,v$7595[1]],v$7595[2]];
 break; }default: {return [basics$Environments$.empty$3542,[1],v$7020];
} };
};
basics$ElabTopdec$$9.elab_condesc$5553 = fix$8361.$elab_condesc;
basics$ElabTopdec$$9.elab_condesc_opt$5551 = fix$8361.$elab_condesc_opt;
var fix$8362 = {};
fix$8362.$elab_datdesc = function(v$6895,v$6896,v$6897){var v$6889 = v$6896[1];
var v$6890 = v$6889[0];
var v$6891 = v$6889[1];
var v$6892 = v$6889[2];
var v$6893 = v$6889[3];
var v$6894 = v$6889[4];
basics$StatObject$.push$143(0);
var v$6886 = basics$Environments$.plus_U$$3087(v$6895,v$6891);
var v$6887 = v$6886[0];
var v$6888 = v$6886[1];
var v$6884 = basics$Environments$.to_theta_and_VE$1659(basics$ElabTopdec$$1.noSome$57((basics$Environments$.lookup_tycon$3256(v$6895))(v$6892),"datdesc(1)"));
var v$6885 = v$6884[0];
var t$6825 = basics$ElabTopdec$$1.noSome$57(basics$StatObject$.to_TyName$3950(v$6885),"datdesc(2)");
var taus$6826;
var fix$8434 = {};
fix$8434.$map = function(v$7610){if (v$7610 == null) {return null;
} else {var v$7611 = v$7610;
var v$7612 = v$7611[0];
var v$7613 = v$7611[1];
return [basics$StatObject$.from_TyVar$1509(v$7612),fix$8434.$map(v$7613)];
};
};
var map$7609 = fix$8434.$map;
taus$6826 = (map$7609(v$6887));
var tau$6827 = basics$StatObject$.mk_ConsType$2050(taus$6826,t$6825);
var v$6880 = basics$ElabTopdec$$9.elab_condesc$5553(v$6888,tau$6827,v$6893,v$6897);
var v$6881 = v$6880[0];
var v$6882 = v$6880[1];
var v$6883 = v$6880[2];
var VE$6832 = basics$Environments$.to_VE$3560(v$6881);
var tyvars_repeated$6833 = basics$ElabTopdec$$1.repeaters$241(function(v$7616){var v$7617 = v$7616[0];
var v$7618 = v$7616[1];
return syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$7617,v$7618);
},v$6891);
var tyvars_not_bound$6834;
var fix$8435 = {};
fix$8435.$filter = function(v$7623){if (v$7623 == null) {return null;
} else {var v$7624 = v$7623;
var v$7625 = v$7624[0];
var v$7626 = v$7624[1];
var t$8439;
var t$8438;
var fix$8436 = {};
fix$8436.$exists = function(v$7641){lab$exists: while (true) {if (v$7641 == null) {return false;
} else {var v$7642 = v$7641;
var v$7643 = v$7642[0];
var v$7644 = v$7642[1];
if (syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$7625,v$7643)) {return true;
} else {var t$8437 = v$7644;
var v$7641 = t$8437;
continue lab$exists;
};
};
};
};
var exists$7640 = fix$8436.$exists;
t$8438 = (exists$7640(v$6891));
t$8439 = (t$8438?false:true);
if (t$8439) {return [v$7625,fix$8435.$filter(v$7626)];
} else {return fix$8435.$filter(v$7626);
};
};
};
var filter$7622 = fix$8435.$filter;
tyvars_not_bound$6834 = (filter$7622(basics$PreElabTopdecGrammar$$1.getExplicitTyVarsCondesc$794(v$6893)));
basics$StatObject$.pop$146(0);
var VE_closed$6838 = basics$Environments$.close$1379(VE$6832);
var theta$6839 = basics$StatObject$.from_TyName$3930(t$6825);
var tystr$6840 = basics$Environments$.from_theta_and_VE$1650(theta$6839,VE_closed$6838);
var v$6877 = basics$ElabTopdec$$8.add_ids_tycon$5311(v$6883,v$6892);
var v$6878 = v$6877[0];
var v$6879 = v$6877[1];
var v$6871;
var v$7647 = [basics$Environments$.empty$1031,basics$Environments$.empty$1765];
switch (v$6894[0]) { case 0: {var v$7652 = v$6894[1];
var v$7655 = fix$8362.$elab_datdesc(v$6895,v$7652,v$6879);
v$6871 = [v$7655[0],[0,v$7655[1]],v$7655[2]];
 break; }default: {v$6871 = [v$7647,[1],v$6879];
} };
var v$6872 = v$6871[0];
var v$6873 = v$6872[0];
var v$6874 = v$6872[1];
var v$6875 = v$6871[1];
var v$6876 = v$6871[2];
var v$6853;
var t$8445 = basics$ElabTopdec$$1.s$n$191;
var t$8444;
var t$8443 = v$6878?[[1,v$6892],null]:null;
var t$8441;
var l$7657;
var fix$8440 = {};
fix$8440.$map = function(v$7666){if (v$7666 == null) {return null;
} else {var v$7667 = v$7666;
var v$7668 = v$7667[0];
var v$7669 = v$7667[1];
return [basics$StatObject$.from_ExplicitTyVar$620(v$7668),fix$8440.$map(v$7669)];
};
};
var map$7665 = fix$8440.$map;
l$7657 = (map$7665(tyvars_repeated$6833));
var fix$8442 = {};
fix$8442.$map = function(v$7659){if (v$7659 == null) {return null;
} else {var v$7660 = v$7659;
var v$7661 = v$7660[0];
var v$7662 = v$7660[1];
return [[0,v$7661],fix$8442.$map(v$7662)];
};
};
var map$7658 = fix$8442.$map;
t$8441 = (map$7658(l$7657));
t$8444 = [t$8443,t$8441];
v$6853 = (t$8445(t$8444));
if (v$6853 == null) {if (tyvars_not_bound$6834 == null) {return [[basics$Environments$.plus$1080(VE_closed$6838,v$6873),basics$Environments$.plus$1769(basics$Environments$.singleton$1767([v$6892,tystr$6840]),v$6874)],[0,[(syntax_objects$TyCon$.is_$true$_$nil$_etc$157(v$6892))?(basics$ElabTopdec$$1.errorConv$220(v$6890,[17,null])):((syntax_objects$TyCon$.is_$it$$174(v$6892))?(basics$ElabTopdec$$1.errorConv$220(v$6890,[18])):(basics$ElabTopdec$$1.okConv$219(v$6890))),v$6891,v$6892,v$6882,v$6875]],v$6876];
} else {var t$8454 = [v$6873,v$6874];
var t$8453;
var t$8452;
var t$8451;
var t$8450 = basics$ElabTopdec$$1.errorConv$220;
var t$8449 = v$6890;
var t$8448;
var t$8447;
var fix$8446 = {};
fix$8446.$map = function(v$7673){if (v$7673 == null) {return null;
} else {var v$7674 = v$7673;
var v$7675 = v$7674[0];
var v$7676 = v$7674[1];
return [syntax_objects$SyntaxTyVar$.pr_tyvar$51(v$7675),fix$8446.$map(v$7676)];
};
};
var map$7672 = fix$8446.$map;
t$8447 = (map$7672(tyvars_not_bound$6834));
t$8448 = [15,t$8447];
t$8451 = (t$8450(t$8449,t$8448));
t$8452 = [t$8451,v$6891,v$6892,v$6882,v$6875];
t$8453 = [0,t$8452];
return [t$8454,t$8453,v$6876];
};
} else {return [[v$6873,v$6874],[0,[basics$ElabTopdec$$1.repeatedIdsError$234(v$6890,v$6853),v$6891,v$6892,v$6882,v$6875]],v$6876];
};
};
basics$ElabTopdec$$9.elab_datdesc$5554 = fix$8362.$elab_datdesc;
var fix$8363 = {};
fix$8363.$elab_typdesc = function(equality$6737,v$6742){var v$6805 = v$6742[0];
var v$6806 = v$6742[1];
var v$6807 = v$6742[2];
var v$6800 = v$6806[1];
var v$6801 = v$6800[0];
var v$6802 = v$6800[1];
var v$6803 = v$6800[2];
var v$6804 = v$6800[3];
var fix$8425 = {};
fix$8425.$map = function(v$7680){if (v$7680 == null) {return null;
} else {var v$7681 = v$7680;
var v$7682 = v$7681[0];
var v$7683 = v$7681[1];
return [basics$StatObject$.from_ExplicitTyVar$620(v$7682),fix$8425.$map(v$7683)];
};
};
var map$7679 = fix$8425.$map;
map$7679(v$6802);
var tyvars_repeated$6750 = basics$ElabTopdec$$1.repeaters$241(function(v$7685){var v$7686 = v$7685[0];
var v$7687 = v$7685[1];
return syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$7686,v$7687);
},v$6802);
var arity$6751;
var fix$8426 = {};
fix$8426.$acc = function(v$7690,v$7691){lab$acc: while (true) {if (v$7690 == null) {return v$7691;
} else {var v$7692 = v$7690;
var v$7693 = v$7692[1];
var t$8427 = v$7693;
var t$8428 = SmlPrims.chk_ovf_i32(v$7691 + 1);
var v$7690 = t$8427;
var v$7691 = t$8428;
continue lab$acc;
};
};
};
var acc$7689 = fix$8426.$acc;
arity$6751 = (acc$7689(v$6802,0));
var t$6752 = special_objects$TyName$$1.freshTyName$132(arity$6751,equality$6737,v$6803);
var theta$6756 = basics$StatObject$.from_TyName$3930(t$6752);
var tystr$6757 = basics$Environments$.from_theta_and_VE$1650(theta$6756,basics$Environments$.empty$1031);
var v$6797 = basics$ElabTopdec$$8.add_ids_tycon$5311(v$6807,v$6803);
var v$6798 = v$6797[0];
var v$6799 = v$6797[1];
var v$6776;
switch (v$6804[0]) { case 1: {v$6776 = [null,basics$Environments$.empty$1765,[1],v$6799];
 break; }default: {var v$6796 = v$6804[1];
var v$6791 = fix$8363.$elab_typdesc(equality$6737,[v$6805,v$6796,v$6799]);
v$6776 = [v$6791[0],v$6791[1],[0,v$6791[2]],v$6791[3]];
} };
var v$6777 = v$6776[0];
var v$6778 = v$6776[1];
var v$6779 = v$6776[2];
var v$6780 = v$6776[3];
var out_i$6766;
if (v$6798) {out_i$6766 = (basics$ElabTopdec$$1.repeatedIdsError$234(v$6801,[[1,v$6803],null]));
} else {if (tyvars_repeated$6750 == null) {out_i$6766 = (basics$ElabTopdec$$1.okConv$219(v$6801));
} else {var t$8433 = basics$ElabTopdec$$1.repeatedIdsError$234;
var t$8432 = v$6801;
var t$8430;
var l$7695;
var fix$8429 = {};
fix$8429.$map = function(v$7704){if (v$7704 == null) {return null;
} else {var v$7705 = v$7704;
var v$7706 = v$7705[0];
var v$7707 = v$7705[1];
return [basics$StatObject$.from_ExplicitTyVar$620(v$7706),fix$8429.$map(v$7707)];
};
};
var map$7703 = fix$8429.$map;
l$7695 = (map$7703(tyvars_repeated$6750));
var fix$8431 = {};
fix$8431.$map = function(v$7697){if (v$7697 == null) {return null;
} else {var v$7698 = v$7697;
var v$7699 = v$7698[0];
var v$7700 = v$7698[1];
return [[0,v$7699],fix$8431.$map(v$7700)];
};
};
var map$7696 = fix$8431.$map;
t$8430 = (map$7696(l$7695));
out_i$6766 = (t$8433(t$8432,t$8430));
};
};
return [[t$6752,v$6777],basics$Environments$.plus$1769(basics$Environments$.singleton$1767([v$6803,tystr$6757]),v$6778),[0,[out_i$6766,v$6802,v$6803,v$6779]],v$6780];
};
basics$ElabTopdec$$9.elab_typdesc$5555 = fix$8363.$elab_typdesc;
var fix$8364 = {};
fix$8364.$elab_valdesc = function(v$6732,v$6733,v$6734){var v$6727 = v$6733[1];
var v$6728 = v$6727[0];
var v$6729 = v$6727[1];
var v$6730 = v$6727[2];
var v$6731 = v$6727[3];
var v$6724 = basics$ElabTopdec$$8.add_ids_vid$5324(v$6734,v$6729);
var v$6725 = v$6724[0];
var v$6726 = v$6724[1];
var explicittyvars$6686 = edlib$EqSet$.list$98(basics$Environments$.ExplicitTyVarsTy$179(v$6730));
var C$$6687 = basics$Environments$.plus_U$3121([v$6732,explicittyvars$6686]);
var out_i$6688 = v$6725?(basics$ElabTopdec$$1.repeatedIdsError$234(v$6728,[[5,v$6729],null])):((basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(v$6729))?(basics$ElabTopdec$$1.errorConv$220(v$6728,[17,[v$6729,null]])):(basics$ElabTopdec$$1.okConv$219(v$6728)));
var v$8124 = basics$ElabDec$.elab_ty$795(C$$6687,v$6730);
var v$8125;
switch (v$6731[0]) { case 0: {var v$7715 = v$6731[1];
var v$7718 = fix$8364.$elab_valdesc(v$6732,v$7715,v$6726);
v$8125 = [v$7718[0],[0,v$7718[1]],v$7718[2]];
 break; }default: {v$8125 = [basics$Environments$.empty$1031,[1],v$6726];
} };
var v$6711 = v$8124[0];
switch (v$6711[0]) { case 0: {var v$6713 = v$6711[1];
var v$6714 = v$8124[1];
var v$6716 = v$8125[0];
var v$6717 = v$8125[1];
var v$6718 = v$8125[2];
return [basics$Environments$.plus$1080(basics$Environments$.singleton_var$1037(v$6729,[null,v$6713]),v$6716),[0,[out_i$6688,v$6729,v$6714,v$6717]],v$6718];
 break; }default: {return [v$8125[0],[0,[out_i$6688,v$6729,v$8124[1],v$8125[1]]],v$8125[2]];
} };
};
basics$ElabTopdec$$9.elab_valdesc$5556 = fix$8364.$elab_valdesc;
var fix$8365 = {};
fix$8365.$elab_spec = function(v$6669,v$6670,v$6671){switch (v$6670[0]) { case 0: {var v$6604 = v$6670[1];
var v$6605 = v$6604[0];
var v$6606 = v$6604[1];
basics$StatObject$.push$143(0);
var v$6600 = basics$ElabTopdec$$9.elab_valdesc$5556(basics$ModuleEnvironments$.to_C$497(v$6669),v$6606,v$6671);
var v$6601 = v$6600[0];
var v$6602 = v$6600[1];
var v$6603 = v$6600[2];
basics$StatObject$.pop$146(0);
return [null,basics$Environments$.from_VE$2342(basics$Environments$.close$1379(v$6601)),[0,[basics$ElabTopdec$$1.okConv$219(v$6605),v$6602]],v$6603];
 break; }case 1: {var v$6592 = v$6670[1];
var v$6593 = v$6592[0];
var v$6594 = v$6592[1];
var v$6587 = basics$ElabTopdec$$9.elab_typdesc$5555(false,[basics$ModuleEnvironments$.to_C$497(v$6669),v$6594,v$6671]);
var v$6588 = v$6587[0];
var v$6589 = v$6587[1];
var v$6590 = v$6587[2];
var v$6591 = v$6587[3];
return [v$6588,basics$Environments$.from_TE$2355(v$6589),[1,[basics$ElabTopdec$$1.okConv$219(v$6593),v$6590]],v$6591];
 break; }case 8: {var v$6578 = v$6670[1];
var v$6579 = v$6578[0];
var v$6580 = v$6578[1];
var v$6573 = basics$ElabTopdec$$9.elab_typdesc$5555(true,[basics$ModuleEnvironments$.to_C$497(v$6669),v$6580,v$6671]);
var v$6574 = v$6573[0];
var v$6575 = v$6573[1];
var v$6576 = v$6573[2];
var v$6577 = v$6573[3];
return [v$6574,basics$Environments$.from_TE$2355(v$6575),[8,[basics$ElabTopdec$$1.okConv$219(v$6579),v$6576]],v$6577];
 break; }case 10: {var v$6564 = v$6670[1];
var v$6565 = v$6564[0];
var v$6566 = v$6564[1];
var TE$6532 = basics$ElabTopdec$$1.initial_TE$328(v$6566);
var v$6558 = basics$ElabTopdec$$9.elab_datdesc$5554(basics$Environments$.plus_TE$3191(basics$ModuleEnvironments$.to_C$497(v$6669),TE$6532),v$6566,v$6671);
var v$6559 = v$6558[0];
var v$6560 = v$6559[0];
var v$6561 = v$6559[1];
var v$6562 = v$6558[1];
var v$6563 = v$6558[2];
var v$6555 = basics$Environments$.maximise_equality_in_VE_and_TE$3728(v$6560,v$6561);
var v$6556 = v$6555[0];
var v$6557 = v$6555[1];
return [basics$Environments$.fold$1817(function(tystr$6544){return function(T$6547){var v$6552 = basics$StatObject$.to_TyName$3950(basics$Environments$.to_theta$1670(tystr$6544));
switch (v$6552[0]) { case 0: {return [v$6552[1],T$6547];
 break; }default: {return basics$ElabTopdec$$1.impossible$53("IG.DATATYPEspec.theta not tyname");
} };
};
},null,v$6557),basics$Environments$.from_VE_and_TE$2335(v$6556,v$6557),[10,[basics$ElabTopdec$$1.okConv$219(v$6565),v$6562]],v$6563];
 break; }case 11: {var v$6527 = v$6670[1];
var v$6528 = v$6527[0];
var v$6529 = v$6527[1];
var v$6530 = v$6527[2];
var v$6472 = (basics$ModuleEnvironments$.lookup_longtycon$565(v$6669))(v$6530);
switch (v$6472[0]) { case 0: {var v$6526 = v$6472[1];
var v$6523 = basics$Environments$.to_theta_and_VE$1659(v$6526);
var v$6525 = v$6523[1];
var TE$6477 = basics$Environments$.singleton$1767([v$6529,v$6526]);
var v$6511;
var v$6519 = basics$ElabTopdec$$8.add_ids_tycon$5311(v$6671,v$6529);
v$6511 = (v$6519[0]?[[[1,v$6529],null],v$6519[1]]:[null,v$6519[1]]);
var v$6512 = v$6511[0];
var v$6513 = v$6511[1];
var v$6489 = basics$Environments$.Fold$1294(function(v$6494){var v$6510 = v$6494[0];
return function(v$6498){var v$6508 = v$6498[0];
var v$6509 = v$6498[1];
var v$6504 = basics$ElabTopdec$$8.add_ids_vid$5324(v$6509,v$6510);
return v$6504[0]?[[[5,v$6510],v$6508],v$6504[1]]:[v$6508,v$6504[1]];
};
},[v$6512,v$6513],v$6525);
var v$6490 = v$6489[0];
var v$6491 = v$6489[1];
var out_i$6484 = (v$6490 == null)?(basics$ElabTopdec$$1.okConv$219(v$6528)):(basics$ElabTopdec$$1.repeatedIdsError$234(v$6528,v$6490));
return [null,basics$Environments$.from_VE_and_TE$2335(v$6525,TE$6477),[11,[out_i$6484,v$6529,v$6530]],v$6491];
 break; }default: {return [null,basics$Environments$.bogus$2528,[11,[basics$ElabTopdec$$1.errorConv$220(v$6528,[31,v$6530]),v$6529,v$6530]],v$6671];
} };
 break; }case 7: {var v$6464 = v$6670[1];
var v$6465 = v$6464[0];
var v$6466 = v$6464[1];
var v$6460 = basics$ElabTopdec$$9.elab_exdesc$5550(basics$ModuleEnvironments$.to_C$497(v$6669),v$6466,v$6671);
var v$6461 = v$6460[0];
var v$6462 = v$6460[1];
var v$6463 = v$6460[2];
return [null,basics$Environments$.from_VE$2342(v$6461),[7,[basics$ElabTopdec$$1.okConv$219(v$6465),v$6462]],v$6463];
 break; }case 2: {var v$6452 = v$6670[1];
var v$6453 = v$6452[0];
var v$6454 = v$6452[1];
var v$6447 = fix$8365.$elab_strdesc(v$6669,v$6454,v$6671);
var v$6448 = v$6447[0];
var v$6449 = v$6447[1];
var v$6450 = v$6447[2];
var v$6451 = v$6447[3];
return [v$6448,basics$Environments$.from_SE$2368(v$6449),[2,[basics$ElabTopdec$$1.okConv$219(v$6453),v$6450]],v$6451];
 break; }case 6: {var v$6438 = v$6670[1];
var v$6439 = v$6438[0];
var v$6440 = v$6438[1];
var v$6434 = fix$8365.$elab_sigexp$(v$6669,v$6440);
var v$6435 = v$6434[0];
var v$6436 = v$6434[1];
var v$6437 = v$6434[2];
var v$6431 = basics$Environments$.un$2322(v$6436);
var v$6432 = v$6431[0];
var v$6433 = v$6431[1];
var strids$6375 = edlib$EqSet$.list$98(basics$Environments$.dom$2141(v$6432));
var v$6410;
var fix$8406 = {};
fix$8406.$foldl = function(v$7795,v$7796){lab$foldl: while (true) {if (v$7796 == null) {return v$7795;
} else {var v$7797 = v$7796;
var v$7798 = v$7797[0];
var v$7799 = v$7797[1];
var t$8407;
var v$7803 = v$7795[0];
var v$7804 = v$7795[1];
var v$7805 = basics$ElabTopdec$$8.add_ids_strid$5298(v$7804,v$7798);
t$8407 = (v$7805[0]?[[[2,v$7798],v$7803],v$7805[1]]:[v$7803,v$7805[1]]);
var t$8408 = t$8407;
var t$8409 = v$7799;
var v$7795 = t$8408;
var v$7796 = t$8409;
continue lab$foldl;
};
};
};
var foldl$7794 = fix$8406.$foldl;
var v$8349 = [null,v$6671];
v$6410 = (foldl$7794(v$8349,strids$6375));
var v$6411 = v$6410[0];
var v$6412 = v$6410[1];
var tycons$6379 = edlib$EqSet$.list$98(basics$Environments$.dom$1795(v$6433));
var v$6389;
var fix$8410 = {};
fix$8410.$foldl = function(v$7822,v$7823){lab$foldl: while (true) {if (v$7823 == null) {return v$7822;
} else {var v$7824 = v$7823;
var v$7825 = v$7824[0];
var v$7826 = v$7824[1];
var t$8411;
var v$7830 = v$7822[0];
var v$7831 = v$7822[1];
var v$7832 = basics$ElabTopdec$$8.add_ids_tycon$5311(v$7831,v$7825);
t$8411 = (v$7832[0]?[[[1,v$7825],v$7830],v$7832[1]]:[v$7830,v$7832[1]]);
var t$8412 = t$8411;
var t$8413 = v$7826;
var v$7822 = t$8412;
var v$7823 = t$8413;
continue lab$foldl;
};
};
};
var foldl$7821 = fix$8410.$foldl;
var v$8351 = [v$6411,v$6412];
v$6389 = (foldl$7821(v$8351,tycons$6379));
var v$6390 = v$6389[0];
var v$6391 = v$6389[1];
var out_i$6383 = (v$6390 == null)?(basics$ElabTopdec$$1.okConv$219(v$6439)):(basics$ElabTopdec$$1.repeatedIdsError$234(v$6439,v$6390));
return [v$6435,v$6436,[6,[basics$ElabInfo$.plus_TypeInfo$118(out_i$6383,[11,[strids$6375,tycons$6379]]),v$6437]],v$6391];
 break; }case 9: {var v$6366 = v$6670[1];
return [null,basics$Environments$.empty$2527,[9,basics$ElabTopdec$$1.okConv$219(v$6366)],v$6671];
 break; }case 5: {var v$6361 = v$6670[1];
var v$6362 = v$6361[0];
var v$6363 = v$6361[1];
var v$6364 = v$6361[2];
var v$6356 = fix$8365.$elab_spec(v$6669,v$6363,v$6671);
var v$6357 = v$6356[0];
var v$6358 = v$6356[1];
var v$6359 = v$6356[2];
var v$6360 = v$6356[3];
var v$6351 = fix$8365.$elab_spec(basics$ElabTopdec$$1.B_plus_E$134(v$6669,v$6358),v$6364,v$6360);
var v$6352 = v$6351[0];
var v$6353 = v$6351[1];
var v$6354 = v$6351[2];
var v$6355 = v$6351[3];
var out_i$6350 = basics$ElabTopdec$$1.okConv$219(v$6362);
return [basics$ElabTopdec$$1.s$n$191([v$6357,v$6352]),basics$Environments$.plus$2381(v$6358,v$6353),[5,[out_i$6350,v$6359,v$6354]],v$6355];
 break; }case 4: {var v$6335 = v$6670[1];
var v$6336 = v$6335[0];
var v$6337 = v$6335[1];
var v$6338 = v$6335[2];
var v$6330 = fix$8365.$elab_spec(v$6669,v$6337,v$6671);
var v$6331 = v$6330[0];
var v$6332 = v$6330[1];
var v$6333 = v$6330[2];
var v$6334 = v$6330[3];
var v$6284;
var t$8392;
var v$8239 = [null,null,false];
var fix$8393 = {};
fix$8393.$foldr = function(v$8241){if (v$8241 == null) {return v$8239;
} else {var v$8242 = v$8241;
var v$8243 = v$8242[0];
var v$8244 = v$8242[1];
var v$8246 = fix$8393.$foldr(v$8244);
var v$8248 = v$8243[1];
var v$8249 = v$8248[0];
var v$8250 = v$8248[1];
var v$8252 = v$8246[0];
var v$8253 = v$8246[1];
var v$8254 = v$8246[2];
var v$8255;
var v$8256 = basics$Environments$.lookup_longtycon$2497(v$6332,v$8250);
switch (v$8256[0]) { case 0: {var v$8257 = v$8256[1];
var theta_i$8258 = basics$Environments$.to_theta$1670(v$8257);
var v$8259 = basics$StatObject$.to_TyName$3950(theta_i$8258);
switch (v$8259[0]) { case 0: {var v$8260 = v$8259[1];
v$8255 = (((special_objects$TyName$$3.member$2542(v$8260[0],v$8260[1],v$8260[2],v$8260[3],v$8260[4],v$8260[5]))(special_objects$TyName$$3.fromList$2946(v$6331)))?[[v$8260,v$8252],basics$ElabTopdec$$1.okConv$219(v$8249),v$8254]:[v$8252,basics$ElabTopdec$$1.errorConv$220(v$8249,[20,[v$8250,v$8260]]),true]);
 break; }default: {v$8255 = [v$8252,basics$ElabTopdec$$1.errorConv$220(v$8249,[21,[v$8250,theta_i$8258]]),true];
} };
 break; }default: {v$8255 = [v$8252,basics$ElabTopdec$$1.errorConv$220(v$8249,[31,v$8250]),true];
} };
return [v$8255[0],[[0,[v$8255[1],v$8250]],v$8253],v$8255[2]];
};
};
var foldr$8240 = fix$8393.$foldr;
t$8392 = (function(v$8357){return foldr$8240(v$8357);
});
v$6284 = (t$8392(v$6338));
var v$6285 = v$6284[0];
var v$6286 = v$6284[1];
if (v$6284[2]) {return [null,basics$Environments$.bogus$2528,[4,[basics$ElabTopdec$$1.okConv$219(v$6336),v$6333,v$6286]],v$6334];
} else {var T$6233 = special_objects$TyName$$3.list$2937(special_objects$TyName$$3.fromList$2946(v$6285));
var fix$8394 = {};
fix$8394.$find = function(v$6250,v$8341){lab$find: while (true) {if (v$6250 == null) {return basics$ElabTopdec$$1.impossible$53("IG.SHARING_TYPEspec.find");
} else {var v$6252 = v$6250;
var v$6253 = v$6252[1];
if (v$6253 == null) {return [v$6252[0],v$8341];
} else {var v$6260 = v$6252[0];
if (v$6260[1]) {return [v$6260,basics$ElabTopdec$$1.s$n$191([v$6253,v$8341])];
} else {var t$8395 = v$6253;
var t$8396 = [v$6260,v$8341];
var v$6250 = t$8395;
var v$8341 = t$8396;
continue lab$find;
};
};
};
};
};
var find$6234 = fix$8394.$find;
var v$6281 = find$6234(T$6233,null);
var v$6282 = v$6281[0];
var v$6283 = v$6281[1];
var arity$6265 = v$6282[0];
var T0$$6266;
var fix$8397 = {};
fix$8397.$all = function(v$7890){if (v$7890 == null) {return null;
} else {var v$7891 = v$7890;
var v$7892 = v$7891[0];
var v$7893 = v$7891[1];
var t$8402;
var t$8401;
var fix$8398 = {};
fix$8398.$exists = function(v$8263){lab$exists: while (true) {if (v$8263 == null) {return false;
} else {var v$8264 = v$8263;
var v$8265 = v$8264[0];
var v$8266 = v$8264[1];
var t$8399;
var v$8267 = v$7892[2];
var v$8268 = v$8265[2];
var v$8269 = v$8267[0][1];
var v$8270 = v$8268[0][1];
t$8399 = ((v$8269[0] == v$8270[0])?(v$8269[1] == v$8270[1]):false);
if (t$8399) {return true;
} else {var t$8400 = v$8266;
var v$8263 = t$8400;
continue lab$exists;
};
};
};
};
var exists$8262 = fix$8398.$exists;
t$8401 = (exists$8262(v$6283));
t$8402 = (t$8401?false:true);
if (t$8402) {return [v$7892,fix$8397.$all(v$7893)];
} else {return fix$8397.$all(v$7893);
};
};
};
var all$7889 = fix$8397.$all;
T0$$6266 = (all$7889(v$6331));
var t$8405;
var fix$8403 = {};
fix$8403.$all = function(v$7921){lab$all: while (true) {if (v$7921 == null) {return true;
} else {var v$7922 = v$7921;
var v$7923 = v$7922[0];
var v$7924 = v$7922[1];
if (v$7923[0] == arity$6265) {var t$8404 = v$7924;
var v$7921 = t$8404;
continue lab$all;
} else {return false;
};
};
};
};
var all$7920 = fix$8403.$all;
t$8405 = (all$7920(v$6283));
if (t$8405) {var phi$6277 = basics$StatObject$.from_T_and_tyname$4228(special_objects$TyName$$3.fromList$2946(v$6283),v$6282);
return [T0$$6266,basics$Environments$.on_Env$3631(phi$6277,v$6332),[4,[basics$ElabTopdec$$1.okConv$219(v$6336),v$6333,v$6286]],v$6334];
} else {return [T0$$6266,v$6332,[4,[basics$ElabTopdec$$1.errorConv$220(v$6336,[22,T$6233]),v$6333,v$6286]],v$6334];
};
};
 break; }default: {var v$6665 = v$6670[1];
var v$6666 = v$6665[0];
var v$6667 = v$6665[1];
var v$6668 = v$6665[2];
var v$6660 = fix$8365.$elab_spec(v$6669,v$6667,v$6671);
var v$6661 = v$6660[0];
var v$6662 = v$6660[1];
var v$6663 = v$6660[2];
var v$6664 = v$6660[3];
var v$6637;
var t$8414;
var v$8271 = [null,null];
var fix$8415 = {};
fix$8415.$foldr = function(v$8273){if (v$8273 == null) {return v$8271;
} else {var v$8274 = v$8273;
var v$8275 = v$8274[0];
var v$8276 = v$8274[1];
var v$8278 = fix$8415.$foldr(v$8276);
var v$8280 = v$8275[1];
var v$8281 = v$8280[0];
var v$8282 = v$8280[1];
var v$8284 = v$8278[0];
var v$8285 = v$8278[1];
var v$8286 = basics$Environments$.lookup_longstrid$2504(v$6662,v$8282);
switch (v$8286[0]) { case 0: {return [[v$8286[1],v$8284],[[0,[basics$ElabTopdec$$1.okConv$219(v$8281),v$8282]],v$8285]];
 break; }default: {return [v$8284,[[0,[basics$ElabTopdec$$1.errorConv$220(v$8281,[32,v$8282]),v$8282]],v$8285]];
} };
};
};
var foldr$8272 = fix$8415.$foldr;
t$8414 = (function(v$8358){return foldr$8272(v$8358);
});
v$6637 = (t$8414(v$6668));
var v$6638 = v$6637[0];
var v$6639 = v$6637[1];
var T0_set$6615 = special_objects$TyName$$3.fromList$2946(v$6661);
try {var v$6630 = basics$ElabTopdec$$1.share$723([function(t$7960){return (special_objects$TyName$$3.member$2542(t$7960[0],t$7960[1],t$7960[2],t$7960[3],t$7960[4],t$7960[5]))(T0_set$6615);
},v$6638]);
var v$6631 = v$6630[0];
var v$6632 = v$6630[1];
var t$8418;
var fix$8417 = {};
fix$8417.$all = function(v$7963){if (v$7963 == null) {return null;
} else {var v$7964 = v$7963;
var v$7965 = v$7964[0];
var v$7966 = v$7964[1];
var t$8423;
var t$8422;
var fix$8419 = {};
fix$8419.$exists = function(v$8289){lab$exists: while (true) {if (v$8289 == null) {return false;
} else {var v$8290 = v$8289;
var v$8291 = v$8290[0];
var v$8292 = v$8290[1];
var t$8420;
var v$8293 = v$7965[2];
var v$8294 = v$8291[2];
var v$8295 = v$8293[0][1];
var v$8296 = v$8294[0][1];
t$8420 = ((v$8295[0] == v$8296[0])?(v$8295[1] == v$8296[1]):false);
if (t$8420) {return true;
} else {var t$8421 = v$8292;
var v$8289 = t$8421;
continue lab$exists;
};
};
};
};
var exists$8288 = fix$8419.$exists;
t$8422 = (exists$8288(v$6631));
t$8423 = (t$8422?false:true);
if (t$8423) {return [v$7965,fix$8417.$all(v$7966)];
} else {return fix$8417.$all(v$7966);
};
};
};
var all$7962 = fix$8417.$all;
t$8418 = (all$7962(v$6661));
return [t$8418,basics$Environments$.on_Env$3631(v$6632,v$6662),[3,[basics$ElabTopdec$$1.okConv$219(v$6666),v$6663,v$6639]],v$6664];
} catch(v$8416) {return (function(v$6636){var t$8424 = v$6636;
if (t$8424[0] == basics$ElabTopdec$$1.en$Share$411) {var error_info$6633 = v$6636[1];
return [v$6661,v$6662,[3,[basics$ElabTopdec$$1.errorConv$220(v$6666,error_info$6633),v$6663,v$6639]],v$6664];
} else {throw v$6636;
};
})(v$8416);
};
} };
};
fix$8365.$elab_sigexp$ = function(v$6076,v$6077){switch (v$6077[0]) { case 1: {var v$5979 = v$6077[1];
var v$5980 = v$5979[0];
var v$5981 = v$5979[1];
var v$5975 = fix$8365.$elab_spec(v$6076,v$5981,basics$ElabTopdec$$8.ids_empty$5297);
var v$5976 = v$5975[0];
var v$5977 = v$5975[1];
var v$5978 = v$5975[2];
return [v$5976,v$5977,[1,[basics$ElabTopdec$$1.okConv$219(v$5980),v$5978]]];
 break; }case 2: {var v$5967 = v$6077[1];
var v$5968 = v$5967[0];
var v$5969 = v$5967[1];
var v$5958 = (basics$ModuleEnvironments$.lookup_sigid$601(v$6076))(v$5969);
switch (v$5958[0]) { case 0: {var v$5966 = v$5958[1];
var v$5963 = basics$ElabTopdec$$1.Sigma_instance$$349(v$5966);
var v$5964 = v$5963[0];
var v$5965 = v$5963[1];
return [special_objects$TyName$$3.list$2937(v$5964),v$5965,[2,[basics$ElabTopdec$$1.okConv$219(v$5968),v$5969]]];
 break; }default: {return [null,basics$Environments$.bogus$2528,[2,[basics$ElabTopdec$$1.errorConv$220(v$5968,[30,v$5969]),v$5969]]];
} };
 break; }default: {var v$6070 = v$6077[1];
var v$6071 = v$6070[0];
var v$6072 = v$6070[1];
var v$6073 = v$6070[2];
var v$6074 = v$6070[3];
var v$6075 = v$6070[4];
var v$6066 = fix$8365.$elab_sigexp$(v$6076,v$6072);
var v$6067 = v$6066[0];
var v$6068 = v$6066[1];
var v$6069 = v$6066[2];
basics$StatObject$.push$143(0);
var v$6063 = basics$Environments$.plus_U$$3087(basics$ModuleEnvironments$.to_C$497(v$6076),v$6073);
var v$6064 = v$6063[0];
var v$6065 = v$6063[1];
var v$6013 = basics$ElabDec$.elab_ty$795(v$6065,v$6075);
var v$6014 = v$6013[0];
switch (v$6014[0]) { case 0: {var v$6060 = v$6014[1];
var v$6061 = v$6013[1];
basics$StatObject$.pop$146(0);
var v$6020 = basics$Environments$.lookup_longtycon$2497(v$6068,v$6074);
switch (v$6020[0]) { case 1: {var v$8129 = [31,v$6074];
return [v$6067,v$6068,[0,[basics$ElabTopdec$$1.errorConv$220(v$6071,v$8129),v$6069,v$6073,v$6074,v$6061]]];
 break; }default: {var v$6059 = v$6020[1];
var v$6056 = basics$Environments$.to_theta_and_VE$1659(v$6059);
var v$6057 = v$6056[0];
var v$6028 = basics$StatObject$.to_TyName$3950(v$6057);
switch (v$6028[0]) { case 1: {var v$8135 = [3,[v$6074,v$6057,v$6060]];
return [v$6067,v$6068,[0,[basics$ElabTopdec$$1.errorConv$220(v$6071,v$8135),v$6069,v$6073,v$6074,v$6061]]];
 break; }default: {var v$6055 = v$6028[1];
if (((special_objects$TyName$$3.member$2542(v$6055[0],v$6055[1],v$6055[2],v$6055[3],v$6055[4],v$6055[5]))(special_objects$TyName$$3.fromList$2946(v$6067)))?false:true) {var v$8141 = [1,[v$6074,v$6055]];
return [v$6067,v$6068,[0,[basics$ElabTopdec$$1.errorConv$220(v$6071,v$8141),v$6069,v$6073,v$6074,v$6061]]];
} else {var t$8383;
var v$8147 = v$6055[0];
var v$8148;
var fix$8384 = {};
fix$8384.$acc = function(v$7743,v$7744){lab$acc: while (true) {if (v$7743 == null) {return v$7744;
} else {var v$7745 = v$7743;
var v$7746 = v$7745[1];
var t$8385 = v$7746;
var t$8386 = SmlPrims.chk_ovf_i32(v$7744 + 1);
var v$7743 = t$8385;
var v$7744 = t$8386;
continue lab$acc;
};
};
};
var acc$7742 = fix$8384.$acc;
v$8148 = (acc$7742(v$6064,0));
t$8383 = ((v$8147 == v$8148)?false:true);
if (t$8383) {var v$8149 = [5,[v$6064,[v$6074,v$6055]]];
return [v$6067,v$6068,[0,[basics$ElabTopdec$$1.errorConv$220(v$6071,v$8149),v$6069,v$6073,v$6074,v$6061]]];
} else {var theta$$6037 = basics$StatObject$.from_TyVars_and_Type$3855(v$6064,v$6060);
var phi$6038 = basics$StatObject$.singleton$4221(v$6055,theta$$6037);
var phi_E$6039 = basics$Environments$.on_Env$3631(phi$6038,v$6068);
if (v$6055[1]?((basics$StatObject$.admits_equality$3895(theta$$6037))?false:true):false) {var v$8155 = [4,[v$6074,v$6055,v$6060]];
return [v$6067,v$6068,[0,[basics$ElabTopdec$$1.errorConv$220(v$6071,v$8155),v$6069,v$6073,v$6074,v$6061]]];
} else {if ((basics$ElabTopdec$$1.wellformed_E$356(phi_E$6039))?false:true) {var v$8161 = [2,[v$6074,v$6055,v$6060]];
return [v$6067,v$6068,[0,[basics$ElabTopdec$$1.errorConv$220(v$6071,v$8161),v$6069,v$6073,v$6074,v$6061]]];
} else {var t$8391;
var fix$8387 = {};
fix$8387.$all = function(v$7765){lab$all: while (true) {if (v$7765 == null) {return null;
} else {var v$7766 = v$7765;
var v$7767 = v$7766[0];
var v$7768 = v$7766[1];
var t$8389;
var t$8388;
var v$8235 = v$6055[2];
var v$8236 = v$7767[2];
var v$8237 = v$8235[0][1];
var v$8238 = v$8236[0][1];
t$8388 = ((v$8237[0] == v$8238[0])?(v$8237[1] == v$8238[1]):false);
t$8389 = (t$8388?false:true);
if (t$8389) {return [v$7767,fix$8387.$all(v$7768)];
} else {var t$8390 = v$7768;
var v$7765 = t$8390;
continue lab$all;
};
};
};
};
var all$7764 = fix$8387.$all;
t$8391 = (all$7764(v$6067));
return [t$8391,phi_E$6039,[0,[basics$ElabTopdec$$1.okConv$219(v$6071),v$6069,v$6073,v$6074,v$6061]]];
};
};
};
};
} };
} };
 break; }default: {var v$6062 = v$6013[1];
return [v$6067,v$6068,[0,[basics$ElabTopdec$$1.okConv$219(v$6071),v$6069,v$6073,v$6074,v$6062]]];
} };
} };
};
fix$8365.$elab_strdesc = function(v$7205,v$7206,v$7207){var v$7148 = v$7206[1];
var v$7149 = v$7148[3];
switch (v$7149[0]) { case 1: {var v$7169 = v$7148[0];
var v$7170 = v$7148[1];
var v$7171 = v$7148[2];
var v$7165 = fix$8365.$elab_sigexp$(v$7205,v$7171);
var v$7166 = v$7165[0];
var v$7167 = v$7165[1];
var v$7168 = v$7165[2];
var v$7162 = basics$ElabTopdec$$8.add_ids_strid$5298(v$7207,v$7170);
var v$7163 = v$7162[0];
var v$7164 = v$7162[1];
var out_i$7157 = v$7163?(basics$ElabTopdec$$1.repeatedIdsError$234(v$7169,[[2,v$7170],null])):(basics$ElabTopdec$$1.okConv$219(v$7169));
return [v$7166,basics$Environments$.singleton$2113([v$7170,v$7167]),[0,[out_i$7157,v$7170,v$7168,[1]]],v$7164];
 break; }default: {var v$7201 = v$7148[0];
var v$7202 = v$7148[1];
var v$7203 = v$7148[2];
var v$7204 = v$7149[1];
var v$7197 = fix$8365.$elab_sigexp$(v$7205,v$7203);
var v$7198 = v$7197[0];
var v$7199 = v$7197[1];
var v$7200 = v$7197[2];
var v$7194 = basics$ElabTopdec$$8.add_ids_strid$5298(v$7207,v$7202);
var v$7195 = v$7194[0];
var v$7196 = v$7194[1];
var v$7189 = fix$8365.$elab_strdesc(v$7205,v$7204,v$7196);
var v$7190 = v$7189[0];
var v$7191 = v$7189[1];
var v$7192 = v$7189[2];
var v$7193 = v$7189[3];
var out_i$7184 = v$7195?(basics$ElabTopdec$$1.repeatedIdsError$234(v$7201,[[2,v$7202],null])):(basics$ElabTopdec$$1.okConv$219(v$7201));
return [basics$ElabTopdec$$1.s$n$191([v$7198,v$7190]),basics$ElabTopdec$$1.SE_plus_SE$183(basics$Environments$.singleton$2113([v$7202,v$7199]),v$7191),[0,[out_i$7184,v$7202,v$7200,[0,v$7192]]],v$7193];
} };
};
basics$ElabTopdec$$9.elab_spec$5557 = fix$8365.$elab_spec;
basics$ElabTopdec$$9.elab_sigexp$$5561 = fix$8365.$elab_sigexp$;
basics$ElabTopdec$$9.elab_strdesc$5548 = fix$8365.$elab_strdesc;
basics$ElabTopdec$$9.elab_sigexp$5560 = function(v$6090,v$6091){var v$6086 = basics$ElabTopdec$$9.elab_sigexp$$5561(v$6090,v$6091);
var v$6087 = v$6086[0];
var v$6088 = v$6086[1];
var v$6089 = v$6086[2];
return [basics$ModuleStatObject$.from_T_and_E$486(special_objects$TyName$$3.fromList$2946(v$6087),v$6088),v$6089];
};
var fix$8366 = {};
fix$8366.$elab_strdecs = function(v$5894,v$5895){switch (v$5895[0]) { case 1: {var v$5882 = v$5895[1];
var v$5883 = v$5882[0];
var v$5884 = v$5882[1];
var v$5885 = v$5882[2];
var v$5877 = fix$8366.$elab_strdecs(v$5894,v$5884);
var v$5878 = v$5877[0];
var v$5879 = v$5877[1];
var v$5880 = v$5877[2];
var v$5881 = v$5877[3];
var v$5873 = fix$8366.$elab_strdec(v$5880,v$5885);
var v$5874 = v$5873[0];
var v$5875 = v$5873[1];
var v$5876 = v$5873[2];
return [basics$ElabTopdec$$1.s$n$191([v$5878,v$5874]),basics$ElabTopdec$$1.E_plus_E$162(v$5879,v$5875),basics$ElabTopdec$$1.B_plus_E$134(v$5880,v$5875),[1,[basics$ElabTopdec$$1.okConv$219(v$5883),v$5881,v$5876]]];
 break; }default: {var v$5890 = fix$8366.$elab_strdec(v$5894,v$5895);
var v$5891 = v$5890[0];
var v$5892 = v$5890[1];
var v$5893 = v$5890[2];
return [v$5891,v$5892,basics$ElabTopdec$$1.B_plus_E$134(v$5894,v$5892),v$5893];
} };
};
fix$8366.$elab_strdec = function(v$5849,v$5850){switch (v$5850[0]) { case 4: {var v$5832 = v$5850[1];
var v$5833 = v$5832[0];
var v$5834 = v$5832[1];
var v$5828 = basics$ElabDec$.elab_dec$4059(basics$ModuleEnvironments$.to_C$497(v$5849),v$5834);
var v$5829 = v$5828[0];
var v$5830 = v$5828[1];
var v$5831 = v$5828[2];
return [v$5829,v$5830,[4,[basics$ElabTopdec$$1.okConv$219(v$5833),v$5831]]];
 break; }case 0: {var v$5820 = v$5850[1];
var v$5821 = v$5820[0];
var v$5822 = v$5820[1];
var v$5816 = fix$8366.$elab_strbind(v$5849,v$5822);
var v$5817 = v$5816[0];
var v$5818 = v$5816[1];
var v$5819 = v$5816[2];
return [v$5817,basics$Environments$.from_SE$2368(v$5818),[0,[basics$ElabTopdec$$1.okConv$219(v$5821),v$5819]]];
 break; }case 2: {var v$5807 = v$5850[1];
var v$5808 = v$5807[0];
var v$5809 = v$5807[1];
var v$5810 = v$5807[2];
var v$5803 = fix$8366.$elab_strdec(v$5849,v$5809);
var v$5804 = v$5803[0];
var v$5805 = v$5803[1];
var v$5806 = v$5803[2];
var v$5799 = fix$8366.$elab_strdec(basics$ElabTopdec$$1.B_plus_E$134(v$5849,v$5805),v$5810);
var v$5800 = v$5799[0];
var v$5801 = v$5799[1];
var v$5802 = v$5799[2];
return [basics$ElabTopdec$$1.s$n$191([v$5804,v$5800]),v$5801,[2,[basics$ElabTopdec$$1.okConv$219(v$5808),v$5806,v$5802]]];
 break; }case 3: {var v$5789 = v$5850[1];
return [null,basics$Environments$.empty$2527,[3,basics$ElabTopdec$$1.okConv$219(v$5789)]];
 break; }default: {var v$5840 = fix$8366.$elab_strdecs(v$5849,v$5850);
return [v$5840[0],v$5840[1],v$5840[3]];
} };
};
fix$8366.$elab_strexp = function(v$5761,v$5762){switch (v$5762[0]) { case 1: {var v$5738 = v$5762[1];
var v$5739 = v$5738[0];
var v$5740 = v$5738[1];
var v$5734 = fix$8366.$elab_strdec(v$5761,v$5740);
var v$5735 = v$5734[0];
var v$5736 = v$5734[1];
var v$5737 = v$5734[2];
return [v$5735,v$5736,[1,[basics$ElabTopdec$$1.okConv$219(v$5739),v$5737]]];
 break; }case 3: {var v$5726 = v$5762[1];
var v$5727 = v$5726[0];
var v$5728 = v$5726[1];
var v$5723 = (basics$ModuleEnvironments$.lookup_longstrid$564(v$5761))(v$5728);
switch (v$5723[0]) { case 0: {return [null,v$5723[1],[3,[basics$ElabTopdec$$1.okConv$219(v$5727),v$5728]]];
 break; }default: {return [null,basics$Environments$.bogus$2528,[3,[basics$ElabTopdec$$1.errorConv$220(v$5727,[32,v$5728]),v$5728]]];
} };
 break; }case 0: {var v$5714 = v$5762[1];
var v$5715 = v$5714[0];
var v$5716 = v$5714[1];
var v$5717 = v$5714[2];
var v$5710 = fix$8366.$elab_strexp(v$5761,v$5716);
var v$5711 = v$5710[0];
var v$5712 = v$5710[1];
var v$5713 = v$5710[2];
var v$5707;
var v$8005 = basics$ElabTopdec$$9.elab_sigexp$$5561(v$5761,v$5717);
var v$8006 = v$8005[0];
var v$8007 = v$8005[1];
var v$8008 = v$8005[2];
v$5707 = [basics$ModuleStatObject$.from_T_and_E$486(special_objects$TyName$$3.fromList$2946(v$8006),v$8007),v$8008];
var v$5708 = v$5707[0];
var v$5709 = v$5707[1];
var v$5704 = basics$ElabTopdec$$1.Sigma_match$286(v$5715,v$5708,v$5712);
var v$5705 = v$5704[0];
var v$5706 = v$5704[1];
return [v$5711,v$5706,[0,[basics$ElabInfo$.plus_TypeInfo$118(v$5705,[3,v$5706]),v$5713,v$5709]]];
 break; }case 2: {var v$5688 = v$5762[1];
var v$5689 = v$5688[0];
var v$5690 = v$5688[1];
var v$5691 = v$5688[2];
var v$5684 = fix$8366.$elab_strexp(v$5761,v$5690);
var v$5686 = v$5684[1];
var v$5687 = v$5684[2];
var v$5681;
var v$8012 = basics$ElabTopdec$$9.elab_sigexp$$5561(v$5761,v$5691);
var v$8013 = v$8012[0];
var v$8014 = v$8012[1];
var v$8015 = v$8012[2];
v$5681 = [basics$ModuleStatObject$.from_T_and_E$486(special_objects$TyName$$3.fromList$2946(v$8013),v$8014),v$8015];
var v$5682 = v$5681[0];
var v$5683 = v$5681[1];
var v$5675 = basics$ElabTopdec$$1.Sigma_match$$299(v$5689,v$5682,v$5686);
var v$5676 = v$5675[0];
var v$5677 = v$5675[1];
var v$5678 = v$5675[2];
var v$5679 = v$5675[3];
var v$5680 = v$5675[4];
var out_i$5674 = basics$ElabInfo$.plus_TypeInfo$118(v$5676,[8,[v$5677,v$5680]]);
return [special_objects$TyName$$3.list$2937(v$5678),v$5679,[2,[out_i$5674,v$5687,v$5683]]];
 break; }case 5: {var v$5656 = v$5762[1];
var v$5657 = v$5656[0];
var v$5658 = v$5656[1];
var v$5659 = v$5656[2];
var v$5652 = fix$8366.$elab_strexp(v$5761,v$5659);
var v$5653 = v$5652[0];
var v$5654 = v$5652[1];
var v$5655 = v$5652[2];
var v$5608 = (basics$ModuleEnvironments$.lookup_funid$637(v$5761))(v$5658);
switch (v$5608[0]) { case 0: {var v$5649 = v$5608[1];
var v$5651 = v$5649[1];
try {var v$5624 = basics$ModuleStatObject$.match_via$833(v$5651,v$5654);
var v$5625 = v$5624[0];
var v$5626 = v$5624[1];
var v$5627 = v$5624[2];
var v$5621 = basics$ModuleStatObject$.to_T_and_E$475(v$5625);
var v$5622 = v$5621[0];
var v$5623 = v$5621[1];
var out_i$5617 = basics$ElabTopdec$$1.typeConv$227(v$5657,[12,[v$5623,v$5627,v$5626]]);
return [basics$ElabTopdec$$1.s$n$191([v$5653,special_objects$TyName$$3.list$2937(v$5622)]),v$5623,[5,[out_i$5617,v$5658,v$5655]]];
} catch(v$8381) {return (function(v$5631){var t$8382 = v$5631;
if (t$8382[0] == basics$ModuleStatObject$.en$No_match$88) {var reason$5628 = v$5631[1];
var v$5645 = basics$ModuleStatObject$.to_T_and_E_and_Sigma$722(v$5651);
var v$5646 = v$5645[0];
var v$5648 = v$5645[2];
var v$5642 = basics$ModuleStatObject$.to_T_and_E$475(v$5648);
var v$5643 = v$5642[0];
var v$5644 = v$5642[1];
var T$E$$5639 = basics$ModuleStatObject$.from_T_and_E$486(special_objects$TyName$$3.difference$2679(basics$ElabTopdec$$1.tynames_E$195(v$5644),special_objects$TyName$$3.union$2587(v$5646,v$5643)),v$5644);
var out_i$5640 = basics$ElabTopdec$$1.errorConv$220(v$5657,[19,reason$5628]);
var E$$5641 = basics$ModuleStatObject$.instance$513(T$E$$5639);
return [basics$ElabTopdec$$1.s$n$191([v$5653,special_objects$TyName$$3.list$2937(v$5643)]),E$$5641,[5,[out_i$5640,v$5658,v$5655]]];
} else {throw v$5631;
};
})(v$8381);
};
 break; }default: {return [v$5653,basics$Environments$.bogus$2528,[5,[basics$ElabTopdec$$1.errorConv$220(v$5657,[34,v$5658]),v$5658,v$5655]]];
} };
 break; }default: {var v$5757 = v$5762[1];
var v$5758 = v$5757[0];
var v$5759 = v$5757[1];
var v$5760 = v$5757[2];
var v$5753 = fix$8366.$elab_strdec(v$5761,v$5759);
var v$5754 = v$5753[0];
var v$5755 = v$5753[1];
var v$5756 = v$5753[2];
var v$5749 = fix$8366.$elab_strexp(basics$ElabTopdec$$1.B_plus_E$134(v$5761,v$5755),v$5760);
var v$5750 = v$5749[0];
var v$5751 = v$5749[1];
var v$5752 = v$5749[2];
return [basics$ElabTopdec$$1.s$n$191([v$5754,v$5750]),v$5751,[4,[basics$ElabTopdec$$1.okConv$219(v$5758),v$5756,v$5752]]];
} };
};
fix$8366.$elab_strbind = function(v$5932,v$5933){var v$5927 = v$5933[1];
var v$5928 = v$5927[0];
var v$5929 = v$5927[1];
var v$5930 = v$5927[2];
var v$5931 = v$5927[3];
var v$5923 = fix$8366.$elab_strexp(v$5932,v$5930);
var v$5924 = v$5923[0];
var v$5925 = v$5923[1];
var v$5926 = v$5923[2];
var v$5919;
var v$7992 = null;
switch (v$5931[0]) { case 0: {var v$7998 = v$5931[1];
var v$8000 = fix$8366.$elab_strbind(v$5932,v$7998);
v$5919 = [v$8000[0],v$8000[1],[0,v$8000[2]]];
 break; }default: {v$5919 = [v$7992,basics$Environments$.empty$2112,[1]];
} };
var v$5920 = v$5919[0];
var v$5921 = v$5919[1];
var v$5922 = v$5919[2];
var out_i$5914 = (edlib$EqSet$.member$119(function(v$8342){return syntax_objects$StrId$.eq_strid$172(v$8342[0],v$8342[1]);
},v$5929,basics$Environments$.dom$2141(v$5921)))?(basics$ElabTopdec$$1.repeatedIdsError$234(v$5928,[[2,v$5929],null])):(basics$ElabTopdec$$1.okConv$219(v$5928));
return [basics$ElabTopdec$$1.s$n$191([v$5920,v$5924]),basics$ElabTopdec$$1.SE_plus_SE$183(basics$Environments$.singleton$2113([v$5929,v$5925]),v$5921),[0,[out_i$5914,v$5929,v$5926,v$5922]]];
};
basics$ElabTopdec$$9.elab_strdecs$5563 = fix$8366.$elab_strdecs;
basics$ElabTopdec$$9.elab_strdec$5564 = fix$8366.$elab_strdec;
basics$ElabTopdec$$9.elab_strexp$5565 = fix$8366.$elab_strexp;
basics$ElabTopdec$$9.elab_strbind$5562 = fix$8366.$elab_strbind;
var fix$8367 = {};
fix$8367.$elab_funbind = function(v$7288,v$7289,v$7290){var v$7281 = v$7290[1];
var v$7282 = v$7281[0];
var v$7283 = v$7281[1];
var v$7284 = v$7281[2];
var v$7285 = v$7281[3];
var v$7286 = v$7281[4];
var v$7287 = v$7281[5];
var v$7278;
var v$8022 = basics$ElabTopdec$$9.elab_sigexp$$5561(v$7289,v$7285);
var v$8023 = v$8022[0];
var v$8024 = v$8022[1];
var v$8025 = v$8022[2];
v$7278 = [basics$ModuleStatObject$.from_T_and_E$486(special_objects$TyName$$3.fromList$2946(v$8023),v$8024),v$8025];
var v$7279 = v$7278[0];
var v$7280 = v$7278[1];
var v$7275 = basics$ModuleStatObject$.to_T_and_E$475(v$7279);
var v$7276 = v$7275[0];
var v$7277 = v$7275[1];
var B$$7248 = basics$ElabTopdec$$1.B_plus_E$134(v$7289,basics$Environments$.from_SE$2368(basics$Environments$.singleton$2113([v$7284,v$7277])));
var v$7271 = basics$ElabTopdec$$9.elab_strexp$5565(B$$7248,v$7286);
var v$7272 = v$7271[0];
var v$7273 = v$7271[1];
var v$7274 = v$7271[2];
var T$$7253 = special_objects$TyName$$3.intersect$2726(basics$ElabTopdec$$1.tynames_E$195(v$7273),special_objects$TyName$$3.fromList$2946(v$7272));
var T$E$$7254 = basics$ModuleStatObject$.from_T_and_E$486(T$$7253,v$7273);
var v$7268;
switch (v$7287[0]) { case 0: {var v$8034 = v$7287[1];
var v$8036 = fix$8367.$elab_funbind(v$7288,v$7289,v$8034);
v$7268 = [v$8036[0],[0,v$8036[1]]];
 break; }default: {v$7268 = [basics$ModuleEnvironments$.empty$232,[1]];
} };
var v$7269 = v$7268[0];
var v$7270 = v$7268[1];
var out_i$7258;
if (edlib$EqSet$.member$119(function(v$8343){return syntax_objects$FunId$.eq_funid$100(v$8343[0],v$8343[1]);
},v$7283,basics$ModuleEnvironments$.dom$300(v$7269))) {out_i$7258 = (basics$ElabTopdec$$1.repeatedIdsError$234(v$7282,[[6,v$7283],null]));
} else {var t$8380 = basics$ElabInfo$.plus_TypeInfo$118;
var t$8379 = basics$ElabTopdec$$1.okConv$219(v$7282);
var t$8378;
var t$8377;
var v$7264 = [B$$7248];
t$8377 = [special_objects$TyName$$3.fromList$2946(v$7272),v$7277,v$7264,[1],v$7273];
t$8378 = [13,t$8377];
out_i$7258 = (t$8380(t$8379,t$8378));
};
return [basics$ElabTopdec$$1.F_plus_F$169(basics$ModuleEnvironments$.singleton$233([v$7283,[v$7288,basics$ModuleStatObject$.from_T_and_E_and_Sigma$710(v$7276,v$7277,T$E$$7254)]]),v$7269),[0,[out_i$7258,v$7283,v$7284,v$7280,v$7274,v$7270]]];
};
basics$ElabTopdec$$9.elab_funbind$5546 = fix$8367.$elab_funbind;
basics$ElabTopdec$$9.elab_fundec$5547 = function(v$7226,v$7227,v$7228){var v$7223 = v$7228[1];
var v$7224 = v$7223[0];
var v$7225 = v$7223[1];
var v$7220 = basics$ElabTopdec$$9.elab_funbind$5546(v$7226,v$7227,v$7225);
var v$7221 = v$7220[0];
var v$7222 = v$7220[1];
return [v$7221,[0,[basics$ElabTopdec$$1.okConv$219(v$7224),v$7222]]];
};
var fix$8368 = {};
fix$8368.$elab_sigbind = function(v$6161,v$6162){var v$6126 = v$6162[1];
var v$6127 = v$6126[3];
switch (v$6127[0]) { case 1: {var v$6136 = v$6126[0];
var v$6137 = v$6126[1];
var v$6138 = v$6126[2];
var v$6133;
var v$8040 = basics$ElabTopdec$$9.elab_sigexp$$5561(v$6161,v$6138);
var v$8041 = v$8040[0];
var v$8042 = v$8040[1];
var v$8043 = v$8040[2];
v$6133 = [basics$ModuleStatObject$.from_T_and_E$486(special_objects$TyName$$3.fromList$2946(v$8041),v$8042),v$8043];
var v$6134 = v$6133[0];
var v$6135 = v$6133[1];
return [basics$ModuleEnvironments$.singleton$73([v$6137,v$6134]),[0,[basics$ElabInfo$.plus_TypeInfo$118(basics$ElabTopdec$$1.okConv$219(v$6136),[4,basics$ModuleStatObject$.tynames$502(v$6134)]),v$6137,v$6135,[1]]]];
 break; }default: {var v$6157 = v$6126[0];
var v$6158 = v$6126[1];
var v$6159 = v$6126[2];
var v$6160 = v$6127[1];
var v$6154;
var v$8047 = basics$ElabTopdec$$9.elab_sigexp$$5561(v$6161,v$6159);
var v$8048 = v$8047[0];
var v$8049 = v$8047[1];
var v$8050 = v$8047[2];
v$6154 = [basics$ModuleStatObject$.from_T_and_E$486(special_objects$TyName$$3.fromList$2946(v$8048),v$8049),v$8050];
var v$6155 = v$6154[0];
var v$6156 = v$6154[1];
var G1$6142 = basics$ModuleEnvironments$.singleton$73([v$6158,v$6155]);
var v$6151 = fix$8368.$elab_sigbind(v$6161,v$6160);
var v$6152 = v$6151[0];
var v$6153 = v$6151[1];
var out_i$6146 = (edlib$EqSet$.member$119(function(v$8344){return syntax_objects$SigId$.eq_sigid$100(v$8344[0],v$8344[1]);
},v$6158,basics$ModuleEnvironments$.dom$109(v$6152)))?(basics$ElabTopdec$$1.repeatedIdsError$234(v$6157,[[3,v$6158],null])):(basics$ElabInfo$.plus_TypeInfo$118(basics$ElabTopdec$$1.okConv$219(v$6157),[4,basics$ModuleStatObject$.tynames$502(v$6155)]));
return [basics$ElabTopdec$$1.G_plus_G$148(G1$6142,v$6152),[0,[out_i$6146,v$6158,v$6156,[0,v$6153]]]];
} };
};
basics$ElabTopdec$$9.elab_sigbind$5558 = fix$8368.$elab_sigbind;
basics$ElabTopdec$$9.elab_sigdec$5559 = function(v$6109,v$6110){var v$6106 = v$6110[1];
var v$6107 = v$6106[0];
var v$6108 = v$6106[1];
var v$6103 = basics$ElabTopdec$$9.elab_sigbind$5558(v$6109,v$6108);
var v$6104 = v$6103[0];
var v$6105 = v$6103[1];
return [v$6104,[0,[basics$ElabTopdec$$1.okConv$219(v$6107),v$6105]]];
};
var fix$8369 = {};
fix$8369.$elab_topdec_opt = function(v$7404,v$7405,v$7406){switch (v$7406[0]) { case 0: {var v$7403 = v$7406[1];
var v$7400 = fix$8369.$elab_topdec(v$7404,v$7405,v$7403);
return [v$7400[0],[0,v$7400[1]]];
 break; }default: {return [basics$ModuleEnvironments$.empty$395,[1]];
} };
};
fix$8369.$elab_topdec = function(v$7383,v$7384,v$7385){switch (v$7385[0]) { case 0: {var v$7334 = v$7385[1];
var v$7335 = v$7334[2];
switch (v$7335[0]) { case 0: {var v$7346 = fix$8369.$elab_topdec_seq(v$7383,v$7384,v$7385);
var v$7347 = v$7346[0];
var v$7348 = v$7346[1];
var t$8376;
var fix$8373 = {};
fix$8373.$foldl = function(v$8062,v$8063){lab$foldl: while (true) {if (v$8063 == null) {return v$8062;
} else {var v$8064 = v$8063;
var v$8065 = v$8064[0];
var v$8066 = v$8064[1];
var t$8374 = basics$ElabTopdec$$1.B_plus_B$141(v$8062,v$8065);
var t$8375 = v$8066;
var v$8062 = t$8374;
var v$8063 = t$8375;
continue lab$foldl;
};
};
};
var foldl$8061 = fix$8373.$foldl;
t$8376 = (foldl$8061(basics$ModuleEnvironments$.empty$395,v$7347));
return [t$8376,v$7348];
 break; }default: {var v$7364 = v$7334[0];
var v$7365 = v$7334[1];
var v$7361 = basics$ElabTopdec$$9.elab_strdec$5564(v$7384,v$7365);
var v$7362 = v$7361[1];
var v$7363 = v$7361[2];
var v$7358 = fix$8369.$elab_topdec_opt(v$7383,basics$ElabTopdec$$1.B_plus_E$134(v$7384,v$7362),v$7335);
var v$7359 = v$7358[0];
var v$7360 = v$7358[1];
return [basics$ElabTopdec$$1.B_plus_B$141(basics$ModuleEnvironments$.from_E$547(v$7362),v$7359),[0,[basics$ElabTopdec$$1.okConv$219(v$7364),v$7363,v$7360]]];
} };
 break; }case 1: {var v$7329 = v$7385[1];
var v$7330 = v$7329[0];
var v$7331 = v$7329[1];
var v$7332 = v$7329[2];
var v$7326;
var v$8073 = v$7331[1];
var v$8074 = v$8073[0];
var v$8075 = v$8073[1];
var v$8076 = basics$ElabTopdec$$9.elab_sigbind$5558(v$7384,v$8075);
var v$8077 = v$8076[0];
var v$8078 = v$8076[1];
v$7326 = [v$8077,[0,[basics$ElabTopdec$$1.okConv$219(v$8074),v$8078]]];
var v$7327 = v$7326[0];
var v$7328 = v$7326[1];
var v$7323 = fix$8369.$elab_topdec_opt(v$7383,basics$ElabTopdec$$1.B_plus_G$155(v$7384,v$7327),v$7332);
var v$7324 = v$7323[0];
var v$7325 = v$7323[1];
return [basics$ElabTopdec$$1.B_plus_B$141(basics$ModuleEnvironments$.from_G$566(v$7327),v$7324),[1,[basics$ElabTopdec$$1.okConv$219(v$7330),v$7328,v$7325]]];
 break; }default: {var v$7379 = v$7385[1];
var v$7380 = v$7379[0];
var v$7381 = v$7379[1];
var v$7382 = v$7379[2];
var v$7376;
var v$8083 = v$7381[1];
var v$8084 = v$8083[0];
var v$8085 = v$8083[1];
var v$8086 = basics$ElabTopdec$$9.elab_funbind$5546(v$7383,v$7384,v$8085);
var v$8087 = v$8086[0];
var v$8088 = v$8086[1];
v$7376 = [v$8087,[0,[basics$ElabTopdec$$1.okConv$219(v$8084),v$8088]]];
var v$7377 = v$7376[0];
var v$7378 = v$7376[1];
var v$7373 = fix$8369.$elab_topdec_opt(v$7383,basics$ElabTopdec$$1.B_plus_F$176(v$7384,v$7377),v$7382);
var v$7374 = v$7373[0];
var v$7375 = v$7373[1];
return [basics$ElabTopdec$$1.B_plus_B$141(basics$ModuleEnvironments$.from_F$602(v$7377),v$7374),[2,[basics$ElabTopdec$$1.okConv$219(v$7380),v$7378,v$7375]]];
} };
};
fix$8369.$elab_topdec_seq = function(v$7448,v$7449,v$7450){switch (v$7450[0]) { case 0: {var v$7422 = v$7450[1];
var v$7423 = v$7422[2];
switch (v$7423[0]) { case 0: {var v$7438 = v$7422[0];
var v$7439 = v$7422[1];
var v$7440 = v$7423[1];
var v$7435 = basics$ElabTopdec$$9.elab_strdec$5564(v$7449,v$7439);
var v$7436 = v$7435[1];
var v$7437 = v$7435[2];
var B1$7428 = basics$ModuleEnvironments$.from_E$547(v$7436);
var v$7432 = fix$8369.$elab_topdec_seq(v$7448,basics$ElabTopdec$$1.B_plus_B$141(v$7449,B1$7428),v$7440);
var v$7433 = v$7432[0];
var v$7434 = v$7432[1];
return [[B1$7428,v$7433],[0,[basics$ElabTopdec$$1.okConv$219(v$7438),v$7437,[0,v$7434]]]];
 break; }default: {var v$8052 = fix$8369.$elab_topdec(v$7448,v$7449,v$7450);
return [[v$8052[0],null],v$8052[1]];
} };
 break; }default: {var v$8054 = fix$8369.$elab_topdec(v$7448,v$7449,v$7450);
return [[v$8054[0],null],v$8054[1]];
} };
};
basics$ElabTopdec$$9.elab_topdec_opt$5544 = fix$8369.$elab_topdec_opt;
var elab_topdec$5545 = fix$8369.$elab_topdec;
basics$ElabTopdec$$9.elab_topdec_seq$5543 = fix$8369.$elab_topdec_seq;
basics$ElabTopdec$$9.modify_info_topdec$7451 = function(v$7479,v$7480){switch (v$7479[0]) { case 0: {var v$7473 = v$7479[1];
return [0,[v$7480,v$7473[1],v$7473[2]]];
 break; }case 1: {var v$7469 = v$7479[1];
return [1,[v$7480,v$7469[1],v$7469[2]]];
 break; }default: {var v$7476 = v$7479[1];
return [2,[v$7480,v$7476[1],v$7476[2]]];
} };
};
basics$ElabTopdec$$9.elab_topdec$$7481 = function(v$7506,v$7507,v$7508){var res$7503 = elab_topdec$5545(v$7506,v$7507,v$7508);
var v$7504 = res$7503[0];
var v$7505 = res$7503[1];
var v$7495 = basics$ElabTopdec$$1.tyvars_B$$211(v$7504);
if (v$7495 == null) {return res$7503;
} else {var i$7496 = basics$PreElabTopdecGrammar$$1.info_on_topdec$597(v$7508);
var ids$7497;
var fix$8370 = {};
fix$8370.$map = function(v$8092){if (v$8092 == null) {return null;
} else {var v$8093 = v$8092;
var v$8094 = v$8093[0];
var v$8095 = v$8093[1];
return [v$8094[0],fix$8370.$map(v$8095)];
};
};
var map$8091 = fix$8370.$map;
ids$7497 = (map$8091(v$7495));
var out_i$7502 = basics$ElabTopdec$$1.errorConv$220(i$7496,[13,ids$7497]);
var t$8372 = v$7504;
var t$8371;
switch (v$7505[0]) { case 0: {var v$8099 = v$7505[1];
t$8371 = [0,[out_i$7502,v$8099[1],v$8099[2]]];
 break; }case 1: {var v$8100 = v$7505[1];
t$8371 = [1,[out_i$7502,v$8100[1],v$8100[2]]];
 break; }default: {var v$8101 = v$7505[1];
t$8371 = [2,[out_i$7502,v$8101[1],v$8101[2]]];
} };
return [t$8372,t$8371];
};
};
basics$ElabTopdec$$9.elab_topdec$7509 = function(a$7512){special_objects$TyName$$1.reset$90(0);
var res$7513 = basics$ElabTopdec$$9.elab_topdec$$7481(a$7512[0],a$7512[1],a$7512[2]);
special_objects$TyName$$1.reset$90(0);
return res$7513;
};
basics$ElabTopdec$$9.layoutStaticBasis$7514 = function(v$8359){return basics$ModuleEnvironments$.layout$510(v$8359);
};
return 0;
})();
