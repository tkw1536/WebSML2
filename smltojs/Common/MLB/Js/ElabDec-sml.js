if ((typeof(basics$ElabDec$)) == "undefined") {basics$ElabDec$ = {};
};
(function(){basics$ElabDec$.eq_flexresResult$4103 = function(v$4105,v$4106){switch (v$4105) { case 0: {switch (v$4106) { case 0: {return true;
 break; }default: {return false;
} };
 break; }case 1: {switch (v$4106) { case 1: {return true;
 break; }default: {return false;
} };
 break; } };
};
var getRepeatedElements$236 = function(equal$239,ls$242){var fix$6256 = {};
fix$6256.$filter = function(v$4270){if (v$4270 == null) {return null;
} else {var v$4271 = v$4270;
var v$4272 = v$4271[0];
var v$4273 = v$4271[1];
var t$6260;
var t$6259;
var fix$6257 = {};
fix$6257.$NoOfOccurences = function(v$6152){lab$NoOfOccurences: while (true) {if (v$6152 == null) {return 0;
} else {var v$6153 = v$6152;
var v$6154 = v$6153[0];
var v$6155 = v$6153[1];
if (equal$239([v$4272,v$6154])) {return SmlPrims.chk_ovf_i32(1 + (fix$6257.$NoOfOccurences(v$6155)));
} else {var t$6258 = v$6155;
var v$6152 = t$6258;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6151 = fix$6257.$NoOfOccurences;
t$6259 = (NoOfOccurences$6151(ls$242));
t$6260 = (t$6259 > 1);
if (t$6260) {return [v$4272,fix$6256.$filter(v$4273)];
} else {return fix$6256.$filter(v$4273);
};
};
};
var filter$4269 = fix$6256.$filter;
return filter$4269(ls$242);
};
var addTypeInfo_CON$341 = function(v$357,v$358,v$359,v$360){var v$355 = syntax_objects$Ident$.decompose$87(v$360);
var v$356 = v$355[1];
var cons$350 = (basics$Environments$.lookup_fellow_constructors$3253(v$358))(v$360);
var t$6271 = basics$ElabInfo$.plus_TypeInfo$118;
var t$6270 = v$357;
var t$6269;
var t$6264;
var v$351;
var fix$6261 = {};
fix$6261.$acc = function(v$4285,v$4286){lab$acc: while (true) {if (v$4285 == null) {return v$4286;
} else {var v$4287 = v$4285;
var v$4288 = v$4287[1];
var t$6262 = v$4288;
var t$6263 = SmlPrims.chk_ovf_i32(v$4286 + 1);
var v$4285 = t$6262;
var v$4286 = t$6263;
continue lab$acc;
};
};
};
var acc$4284 = fix$6261.$acc;
v$351 = (acc$4284(cons$350,0));
var t$6268;
var v$4292;
var fix$6265 = {};
fix$6265.$count = function(v$6159,v$6160){lab$count: while (true) {if (v$6159 == null) {return [1];
} else {var v$6161 = v$6159;
var v$6162 = v$6161[0];
var v$6163 = v$6161[1];
if (syntax_objects$Ident$.eq_id$237(v$6162,v$356)) {return [0,v$6160];
} else {var t$6266 = v$6163;
var t$6267 = SmlPrims.chk_ovf_i32(v$6160 + 1);
var v$6159 = t$6266;
var v$6160 = t$6267;
continue lab$count;
};
};
};
};
var count$6158 = fix$6265.$count;
v$4292 = (count$6158(cons$350,0));
switch (v$4292[0]) { case 0: {t$6268 = v$4292[1];
 break; }default: {t$6268 = (tools$Crash$.impossible$50("ElabDec.where'"));
} };
t$6264 = [t$6268,v$359,v$360,v$351];
t$6269 = [18,t$6264];
return t$6271(t$6270,t$6269);
};
var UnifyWithTexts$467 = function(v$487,v$488,v$489,v$490,v$491){var v$482 = basics$StatObject$.unify$3287(v$488,v$490);
switch (v$482[0]) { case 1: {return [basics$StatObject$.Id$836,basics$ElabInfo$.from_ParseInfo$221(v$491)];
 break; }case 2: {var t$6273 = basics$StatObject$.Id$836;
var t$6272;
var v$5816 = [9,[v$487,v$488,v$489,v$490]];
t$6272 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$491),v$5816));
return [t$6273,t$6272];
 break; }default: {var v$484 = v$482[1];
var v$485 = v$484[0];
var v$486 = v$484[1];
var t$6275 = basics$StatObject$.Id$836;
var t$6274;
var v$5818 = [10,[v$488,v$490,v$485,v$486]];
t$6274 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$491),v$5818));
return [t$6275,t$6274];
} };
};
var fix$6276 = {};
fix$6276.$dom_vb = function(v$517,v$518){lab$dom_vb: while (true) {switch (v$518[0]) { case 1: {var v$512 = v$518[1];
var v$513 = v$512[1];
var v$514 = v$512[3];
var t$6280 = basis$List$.s$n$645;
var t$6279;
var t$6278 = basics$Environments$.dom_pat$3257(v$517,v$513,true);
var t$6277;
switch (v$514[0]) { case 0: {var v$511 = v$514[1];
t$6277 = (fix$6276.$dom_vb(v$517,v$511));
 break; }default: {t$6277 = null;
} };
t$6279 = [t$6278,t$6277];
return t$6280(t$6279);
 break; }default: {var v$515 = v$518[1];
var v$516 = v$515[1];
var t$6281 = v$517;
var t$6282 = v$516;
var v$517 = t$6281;
var v$518 = t$6282;
continue lab$dom_vb;
} };
};
};
var dom_vb$492 = fix$6276.$dom_vb;
var fix$6283 = {};
fix$6283.$initial_TE = function(v$522){lab$initial_TE: while (true) {var v$532 = v$522[1];
var v$533 = v$532[4];
switch (v$533[0]) { case 1: {var v$534 = v$532[1];
var v$535 = v$532[2];
return basics$Environments$.init$1986(v$534,v$535);
 break; }default: {var v$536 = v$532[1];
var v$537 = v$532[2];
var v$538 = v$533[1];
return basics$Environments$.plus$1769(basics$Environments$.init$1986(v$536,v$537),fix$6283.$initial_TE(v$538));
} };
};
};
var initial_TE$519 = fix$6283.$initial_TE;
var fix$6284 = {};
fix$6284.$elab_ty = function(v$3223,v$3224){switch (v$3224[0]) { case 0: {var v$3211 = v$3224[1];
var v$3212 = v$3211[0];
var v$3213 = v$3211[1];
var ty_opt$3204 = basics$Environments$.ExplicitTyVar_lookup$3141(v$3223,v$3213);
var t$6638 = ty_opt$3204;
var t$6637;
var t$6636;
var t$6635;
switch (ty_opt$3204[0]) { case 0: {t$6635 = (basics$ElabInfo$.from_ParseInfo$221(v$3212));
 break; }default: {var v$5830 = [15,[syntax_objects$SyntaxTyVar$.pr_tyvar$51(v$3213),null]];
t$6635 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$3212),v$5830));
} };
t$6636 = [t$6635,v$3213];
t$6637 = [0,t$6636];
return [t$6638,t$6637];
 break; }case 1: {var v$3186 = v$3224[1];
var v$3187 = v$3186[1];
switch (v$3187[0]) { case 1: {var v$3188 = v$3186[0];
return [[0,basics$StatObject$.Unit$1980],[1,[basics$ElabInfo$.from_ParseInfo$221(v$3188),[1]]]];
 break; }default: {var v$3201 = v$3186[0];
var v$3202 = v$3187[1];
var v$3195 = fix$6284.$elab_tyrow(v$3223,v$3202);
var v$3196 = v$3195[0];
switch (v$3196[0]) { case 0: {var v$3198 = v$3196[1];
var v$3199 = v$3195[1];
return [[0,basics$StatObject$.from_RecType$1530(v$3198)],[1,[basics$ElabInfo$.from_ParseInfo$221(v$3201),[0,v$3199]]]];
 break; }default: {var v$3200 = v$3195[1];
return [[1],[1,[basics$ElabInfo$.from_ParseInfo$221(v$3201),[0,v$3200]]]];
} };
} };
 break; }case 4: {var v$3181 = v$3224[1];
var v$3182 = v$3181[0];
var v$3183 = v$3181[1];
var v$3184 = v$3181[2];
var res_list$3116;
var fix$6618 = {};
fix$6618.$map = function(v$4424){if (v$4424 == null) {return null;
} else {var v$4425 = v$4424;
var v$4426 = v$4425[0];
var v$4427 = v$4425[1];
return [fix$6284.$elab_ty(v$3223,v$4426),fix$6618.$map(v$4427)];
};
};
var map$4423 = fix$6618.$map;
res_list$3116 = (map$4423(v$3183));
var tau_opt_list$3120;
var fix$6619 = {};
fix$6619.$map = function(v$4431){if (v$4431 == null) {return null;
} else {var v$4432 = v$4431;
var v$4433 = v$4432[0];
var v$4434 = v$4432[1];
return [v$4433[0],fix$6619.$map(v$4434)];
};
};
var map$4430 = fix$6619.$map;
tau_opt_list$3120 = (map$4430(res_list$3116));
var out_ty_list$3125;
var fix$6620 = {};
fix$6620.$map = function(v$4438){if (v$4438 == null) {return null;
} else {var v$4439 = v$4438;
var v$4440 = v$4439[0];
var v$4441 = v$4439[1];
return [v$4440[1],fix$6620.$map(v$4441)];
};
};
var map$4437 = fix$6620.$map;
out_ty_list$3125 = (map$4437(res_list$3116));
var fix$6621 = {};
fix$6621.$unopt_list = function(v$3146,v$6223){lab$unopt_list: while (true) {if (v$3146 == null) {return [0,basis$List$.rev$641(v$6223)];
} else {var v$3148 = v$3146;
var v$3149 = v$3148[0];
switch (v$3149[0]) { case 1: {return [1];
 break; }default: {var v$3152 = v$3149[1];
var v$3153 = v$3148[1];
var t$6622 = v$3153;
var t$6623 = [v$3152,v$6223];
var v$3146 = t$6622;
var v$6223 = t$6623;
continue lab$unopt_list;
} };
};
};
};
var unopt_list$3130 = fix$6621.$unopt_list;
var v$3159 = unopt_list$3130(tau_opt_list$3120,null);
switch (v$3159[0]) { case 0: {var v$3180 = v$3159[1];
var v$3165 = (basics$Environments$.lookup_longtycon$3254(v$3223))(v$3184);
switch (v$3165[0]) { case 0: {var v$3179 = v$3165[1];
var v$3177 = basics$Environments$.to_theta_and_VE$1659(v$3179);
var v$3178 = v$3177[0];
var expectedArity$3169 = basics$StatObject$.arity$3884(v$3178);
var actualArity$3170;
var fix$6624 = {};
fix$6624.$acc = function(v$4444,v$4445){lab$acc: while (true) {if (v$4444 == null) {return v$4445;
} else {var v$4446 = v$4444;
var v$4447 = v$4446[1];
var t$6625 = v$4447;
var t$6626 = SmlPrims.chk_ovf_i32(v$4445 + 1);
var v$4444 = t$6625;
var v$4445 = t$6626;
continue lab$acc;
};
};
};
var acc$4443 = fix$6624.$acc;
actualArity$3170 = (acc$4443(v$3180,0));
if (expectedArity$3169 == actualArity$3170) {return [[0,basics$StatObject$.apply$3869(v$3178,v$3180)],[4,[basics$ElabInfo$.from_ParseInfo$221(v$3182),out_ty_list$3125,v$3184]]];
} else {var t$6630 = [1];
var t$6629;
var t$6628;
var t$6627;
var v$5832 = [0,[actualArity$3170,expectedArity$3169]];
t$6627 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$3182),v$5832));
t$6628 = [t$6627,out_ty_list$3125,v$3184];
t$6629 = [4,t$6628];
return [t$6630,t$6629];
};
 break; }default: {var t$6634 = [1];
var t$6633;
var t$6632;
var t$6631;
var v$5836 = [31,v$3184];
t$6631 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$3182),v$5836));
t$6632 = [t$6631,out_ty_list$3125,v$3184];
t$6633 = [4,t$6632];
return [t$6634,t$6633];
} };
 break; }default: {return [[1],[4,[basics$ElabInfo$.from_ParseInfo$221(v$3182),out_ty_list$3125,v$3184]]];
} };
 break; }case 3: {var v$3111 = v$3224[1];
var v$3112 = v$3111[0];
var v$3113 = v$3111[1];
var v$3114 = v$3111[2];
var v$5837 = fix$6284.$elab_ty(v$3223,v$3113);
var v$5838 = fix$6284.$elab_ty(v$3223,v$3114);
var v$3097 = v$5837[0];
switch (v$3097[0]) { case 0: {var v$3100 = v$5838[0];
switch (v$3100[0]) { case 0: {var v$3102 = v$3097[1];
var v$3103 = v$5837[1];
var v$3104 = v$3100[1];
var v$3105 = v$5838[1];
return [[0,basics$StatObject$.mk_Arrow$2095(v$3102,v$3104)],[3,[basics$ElabInfo$.from_ParseInfo$221(v$3112),v$3103,v$3105]]];
 break; }default: {var v$4459 = v$5837[1];
var v$4461 = v$5838[1];
return [[1],[3,[basics$ElabInfo$.from_ParseInfo$221(v$3112),v$4459,v$4461]]];
} };
 break; }default: {var v$4464 = v$5837[1];
var v$4466 = v$5838[1];
return [[1],[3,[basics$ElabInfo$.from_ParseInfo$221(v$3112),v$4464,v$4466]]];
} };
 break; }default: {var v$3220 = v$3224[1];
var v$3221 = v$3220[0];
var v$3222 = v$3220[1];
var v$3217 = fix$6284.$elab_ty(v$3223,v$3222);
var v$3218 = v$3217[0];
var v$3219 = v$3217[1];
return [v$3218,[2,[basics$ElabInfo$.from_ParseInfo$221(v$3221),v$3219]]];
} };
};
fix$6284.$elab_tyrow = function(v$3282,v$3283){var v$3284 = v$3283[1];
var v$3285 = v$3284[0];
var v$3286 = v$3284[1];
var v$3287 = v$3284[2];
var v$3288 = v$3284[3];
var v$5819 = fix$6284.$elab_ty(v$3282,v$3287);
var v$5820 = fix$6284.$elab_tyrow_opt(v$3282,v$3288);
var v$3252 = v$5819[0];
switch (v$3252[0]) { case 0: {var v$3255 = v$5820[0];
switch (v$3255[0]) { case 0: {var v$3267 = v$3252[1];
var v$3268 = v$5819[1];
var v$3269 = v$3255[1];
var v$3270 = v$5820[1];
var v$3260;
var t$6617;
var fix$6615 = {};
fix$6615.$member = function(v$6167){lab$member: while (true) {if (v$6167 == null) {return false;
} else {var v$6168 = v$6167;
var v$6169 = v$6168[0];
var v$6170 = v$6168[1];
if (syntax_objects$Lab$.eq_lab$138(v$3286,v$6169)) {return true;
} else {var t$6616 = v$6170;
var v$6167 = t$6616;
continue lab$member;
};
};
};
};
var member$6166 = fix$6615.$member;
t$6617 = (member$6166(basics$StatObject$.sorted_labs$1745(v$3269)));
if (t$6617) {var t$6614 = v$3269;
var t$6613;
var v$5826 = [[4,v$3286],null];
var v$5828 = [24,v$5826];
t$6613 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$3285),v$5828));
v$3260 = [t$6614,t$6613];
} else {v$3260 = [(basics$StatObject$.add_field$1686(v$3286,v$3267))(v$3269),basics$ElabInfo$.from_ParseInfo$221(v$3285)];
};
return [[0,v$3260[0]],[0,[v$3260[1],v$3286,v$3268,v$3270]]];
 break; }default: {var v$4410 = v$5819[1];
var v$4412 = v$5820[1];
return [[1],[0,[basics$ElabInfo$.from_ParseInfo$221(v$3285),v$3286,v$4410,v$4412]]];
} };
 break; }default: {var v$3277 = v$5820[0];
switch (v$3277[0]) { case 0: {var v$3279 = v$5819[1];
var v$3280 = v$3277[1];
var v$3281 = v$5820[1];
return [[0,v$3280],[0,[basics$ElabInfo$.from_ParseInfo$221(v$3285),v$3286,v$3279,v$3281]]];
 break; }default: {var v$4415 = v$5819[1];
var v$4417 = v$5820[1];
return [[1],[0,[basics$ElabInfo$.from_ParseInfo$221(v$3285),v$3286,v$4415,v$4417]]];
} };
} };
};
fix$6284.$elab_tyrow_opt = function(v$6222,v$3299){switch (v$3299[0]) { case 1: {return [[0,basics$StatObject$.empty$1602],[1]];
 break; }default: {var v$3314 = v$3299[1];
var v$3307 = fix$6284.$elab_tyrow(v$6222,v$3314);
var v$3308 = v$3307[0];
switch (v$3308[0]) { case 0: {return [[0,v$3308[1]],[0,v$3307[1]]];
 break; }default: {return [[1],[0,v$3307[1]]];
} };
} };
};
basics$ElabDec$.elab_ty$795 = fix$6284.$elab_ty;
var elab_tyrow$794 = fix$6284.$elab_tyrow;
var elab_tyrow_opt$793 = fix$6284.$elab_tyrow_opt;
var fix$6285 = {};
fix$6285.$elab_patrow = function(v$2819,v$2820){switch (v$2820[0]) { case 0: {var v$2761 = v$2820[1];
var v$2762 = v$2761[3];
switch (v$2762[0]) { case 1: {var v$2774 = v$2761[0];
var v$2775 = v$2761[1];
var v$2776 = v$2761[2];
var v$2768 = fix$6285.$elab_pat(v$2819,v$2776);
var v$2769 = v$2768[0];
var v$2770 = v$2768[1];
var v$2771 = v$2770[0];
var v$2772 = v$2770[1];
var v$2773 = v$2768[2];
return [v$2769,[v$2771,(basics$StatObject$.add_field$1686(v$2775,v$2772))(basics$StatObject$.empty$1602)],[0,[basics$ElabInfo$.from_ParseInfo$221(v$2774),v$2775,v$2773,[1]]]];
 break; }default: {var v$2813 = v$2761[0];
var v$2814 = v$2761[1];
var v$2815 = v$2761[2];
var v$2816 = v$2762[1];
var v$2807 = fix$6285.$elab_pat(v$2819,v$2815);
var v$2809 = v$2807[1];
var v$2810 = v$2809[0];
var v$2811 = v$2809[1];
var v$2812 = v$2807[2];
var v$2801 = fix$6285.$elab_patrow(v$2819,v$2816);
var v$2803 = v$2801[1];
var v$2804 = v$2803[0];
var v$2805 = v$2803[1];
var v$2806 = v$2801[2];
var intdom$2787 = edlib$EqSet$.intersect$229(function(v$6226){return syntax_objects$Ident$.eq_id$237(v$6226[0],v$6226[1]);
},basics$Environments$.dom$1145(v$2810),basics$Environments$.dom$1145(v$2804));
var v$5881 = edlib$EqSet$.isEmpty$110(intdom$2787);
var v$5882;
var fix$6587 = {};
fix$6587.$member = function(v$6173){lab$member: while (true) {if (v$6173 == null) {return false;
} else {var v$6174 = v$6173;
var v$6175 = v$6174[0];
var v$6176 = v$6174[1];
if (syntax_objects$Lab$.eq_lab$138(v$2814,v$6175)) {return true;
} else {var t$6588 = v$6176;
var v$6173 = t$6588;
continue lab$member;
};
};
};
};
var member$6172 = fix$6587.$member;
v$5882 = (member$6172(basics$StatObject$.sorted_labs$1745(v$2805)));
if (v$5881) {if (v$5882) {var t$6593 = basics$StatObject$.Id$836;
var t$6592 = [v$2804,v$2805];
var t$6591;
var t$6590;
var t$6589;
var v$5888 = [[4,v$2814],null];
var v$5890 = [24,v$5888];
t$6589 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2813),v$5890));
t$6590 = [t$6589,v$2814,v$2812,[0,v$2806]];
t$6591 = [0,t$6590];
return [t$6593,t$6592,t$6591];
} else {return [0,[basics$Environments$.plus$1080(v$2810,v$2804),(basics$StatObject$.add_field$1686(v$2814,v$2811))(v$2805)],[0,[basics$ElabInfo$.from_ParseInfo$221(v$2813),v$2814,v$2812,[0,v$2806]]]];
};
} else {if (v$5882) {var t$6602 = basics$StatObject$.Id$836;
var t$6601 = [v$2804,v$2805];
var t$6600;
var t$6599;
var t$6598;
var v$5896;
var t$6597 = basis$List$.s$n$645;
var t$6596;
var t$6594;
var l$4612 = edlib$EqSet$.list$98(intdom$2787);
var fix$6595 = {};
fix$6595.$map = function(v$4614){if (v$4614 == null) {return null;
} else {var v$4615 = v$4614;
var v$4616 = v$4615[0];
var v$4617 = v$4615[1];
return [[5,v$4616],fix$6595.$map(v$4617)];
};
};
var map$4613 = fix$6595.$map;
t$6594 = (map$4613(l$4612));
t$6596 = [t$6594,[[4,v$2814],null]];
v$5896 = (t$6597(t$6596));
var v$5898 = [24,v$5896];
t$6598 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2813),v$5898));
t$6599 = [t$6598,v$2814,v$2812,[0,v$2806]];
t$6600 = [0,t$6599];
return [t$6602,t$6601,t$6600];
} else {var t$6608 = basics$StatObject$.Id$836;
var t$6607 = [v$2804,(basics$StatObject$.add_field$1686(v$2814,v$2811))(v$2805)];
var t$6606;
var t$6605;
var t$6603;
var v$5892;
var l$4599 = edlib$EqSet$.list$98(intdom$2787);
var fix$6604 = {};
fix$6604.$map = function(v$4601){if (v$4601 == null) {return null;
} else {var v$4602 = v$4601;
var v$4603 = v$4602[0];
var v$4604 = v$4602[1];
return [[5,v$4603],fix$6604.$map(v$4604)];
};
};
var map$4600 = fix$6604.$map;
v$5892 = (map$4600(l$4599));
var v$5894 = [24,v$5892];
t$6603 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2813),v$5894));
t$6605 = [t$6603,v$2814,v$2812,[0,v$2806]];
t$6606 = [0,t$6605];
return [t$6608,t$6607,t$6606];
};
};
} };
 break; }default: {var v$2818 = v$2820[1];
var rho$2817 = basics$StatObject$.dotdotdot$1603(0);
var t$6612 = basics$StatObject$.Id$836;
var t$6611 = [basics$Environments$.empty$1031,rho$2817];
var t$6610;
var t$6609;
var v$5900 = [1,rho$2817];
t$6609 = (basics$ElabInfo$.plus_OverloadingInfo$143(basics$ElabInfo$.from_ParseInfo$221(v$2818),v$5900));
t$6610 = [1,t$6609];
return [t$6612,t$6611,t$6610];
} };
};
fix$6285.$elab_atpat = function(v$2740,v$2741){switch (v$2741[0]) { case 0: {var v$2725 = v$2741[1];
return [basics$StatObject$.Id$836,[basics$Environments$.empty$1031,basics$StatObject$.fresh_normal$1529(0)],[0,basics$ElabInfo$.from_ParseInfo$221(v$2725)]];
 break; }case 1: {var v$2721 = v$2741[1];
var v$2722 = v$2721[0];
var v$2723 = v$2721[1];
var v$2718 = basics$StatObject$.of_scon$2168(v$2723);
var v$2719 = v$2718[1];
var v$2720 = v$2718[0];
var i_out$2705;
switch (v$2720[0]) { case 1: {switch (v$2723[0]) { case 2: {var v$5865 = [27];
i_out$2705 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2722),v$5865));
 break; }default: {i_out$2705 = (basics$ElabInfo$.from_ParseInfo$221(v$2722));
} };
 break; }default: {var v$2716 = v$2720[1];
var v$5867 = [0,v$2716];
i_out$2705 = (basics$ElabInfo$.plus_OverloadingInfo$143(basics$ElabInfo$.from_ParseInfo$221(v$2722),v$5867));
} };
return [basics$StatObject$.Id$836,[basics$Environments$.empty$1031,v$2719],[1,[basics$ElabInfo$.plus_TypeInfo$118(i_out$2705,[9,[v$2719]]),v$2723]]];
 break; }case 4: {var v$2695 = v$2741[1];
var v$2696 = v$2695[0];
var v$2697 = v$2695[1];
var v$2698 = v$2697[1];
var v$2699 = v$2698[0];
var v$2700 = v$2698[1];
var v$2648 = (basics$Environments$.lookup_longid$3252(v$2740))(v$2699);
var rhs2$2644 = function(obj$2694){var tau$2685 = basics$StatObject$.fresh_normal$1529(0);
var tau_scheme$2686 = [null,tau$2685];
var v$2691 = syntax_objects$Ident$.decompose$87(v$2699);
if (v$2691[0] == null) {var v$2693 = v$2691[1];
var t$6583 = basics$StatObject$.Id$836;
var t$6582 = [basics$Environments$.singleton_var$1037(v$2693,tau_scheme$2686),tau$2685];
var t$6581;
var t$6580;
var t$6579;
var v$5870 = basics$ElabInfo$.from_ParseInfo$221(v$2696);
t$6579 = (basics$ElabInfo$.plus_TypeInfo$118(v$5870,[0,[tau$2685,null]]));
t$6580 = [t$6579,[0,[v$2699,v$2700]]];
t$6581 = [4,t$6580];
return [t$6583,t$6582,t$6581];
} else {var t$6578 = basics$StatObject$.Id$836;
var t$6577 = [basics$Environments$.bogus$1032,basics$StatObject$.fresh_normal$1529(0)];
var t$6576;
var t$6575;
var t$6574;
var v$5873 = [28,v$2699];
t$6574 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2696),v$5873));
t$6575 = [t$6574,[0,[v$2699,v$2700]]];
t$6576 = [4,t$6575];
return [t$6578,t$6577,t$6576];
};
};
switch (v$2648[0]) { case 0: {var v$2650 = v$2648[1];
switch (v$2650[0]) { case 2: {var v$2684 = v$2650[1];
var v$2681 = basics$StatObject$.instance$$3564(v$2684);
var v$2682 = v$2681[0];
var v$2683 = v$2681[1];
var v$2674;
var t$6586;
switch ((basics$StatObject$.to_ConsType$2032(v$2682))[0]) { case 0: {t$6586 = true;
 break; }default: {t$6586 = false;
} };
if (t$6586) {v$2674 = [v$2682,basics$ElabInfo$.from_ParseInfo$221(v$2696)];
} else {var t$6585 = basics$StatObject$.fresh_normal$1529(0);
var t$6584;
var v$5875 = [29,v$2682];
t$6584 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2696),v$5875));
v$2674 = [t$6585,t$6584];
};
var v$2675 = v$2674[0];
var v$2676 = v$2674[1];
return [basics$StatObject$.Id$836,[basics$Environments$.empty$1031,v$2675],[4,[addTypeInfo_CON$341(v$2676,v$2740,v$2683,v$2699),[0,[v$2699,v$2700]]]]];
 break; }case 1: {var v$2657 = v$2650[1];
var v$2655 = UnifyWithTexts$467("expected long excon in pattern to have type",basics$StatObject$.Exn$2075,"but found it to have type",v$2657,v$2696);
var v$2656 = v$2655[1];
return [basics$StatObject$.Id$836,[basics$Environments$.empty$1031,basics$StatObject$.Exn$2075],[4,[basics$ElabInfo$.plus_TypeInfo$118(v$2656,[15,[basics$StatObject$.Exn$2075,v$2699]]),[0,[v$2699,v$2700]]]]];
 break; }default: {return rhs2$2644(0);
} };
 break; }default: {return rhs2$2644(0);
} };
 break; }case 2: {var v$2623 = v$2741[1];
var v$2624 = v$2623[1];
switch (v$2624[0]) { case 1: {var v$2625 = v$2623[0];
return [basics$StatObject$.Id$836,[basics$Environments$.empty$1031,basics$StatObject$.Unit$1980],[2,[basics$ElabInfo$.from_ParseInfo$221(v$2625),[1]]]];
 break; }default: {var v$2637 = v$2623[0];
var v$2638 = v$2624[1];
var v$2631 = fix$6285.$elab_patrow(v$2740,v$2638);
var v$2632 = v$2631[0];
var v$2633 = v$2631[1];
var v$2634 = v$2633[0];
var v$2635 = v$2633[1];
var v$2636 = v$2631[2];
var t$6573 = v$2632;
var t$6572 = [v$2634,basics$StatObject$.from_RecType$1530(v$2635)];
var t$6571;
var t$6570;
var t$6569;
var v$5879 = basics$ElabInfo$.from_ParseInfo$221(v$2637);
var v$5880 = basics$StatObject$.from_RecType$1530(v$2635);
t$6569 = (basics$ElabInfo$.plus_TypeInfo$118(v$5879,[5,[v$5880]]));
t$6570 = [t$6569,[0,v$2636]];
t$6571 = [2,t$6570];
return [t$6573,t$6572,t$6571];
} };
 break; }default: {var v$2737 = v$2741[1];
var v$2738 = v$2737[0];
var v$2739 = v$2737[1];
var v$2731 = fix$6285.$elab_pat(v$2740,v$2739);
var v$2732 = v$2731[0];
var v$2733 = v$2731[1];
var v$2734 = v$2733[0];
var v$2735 = v$2733[1];
var v$2736 = v$2731[2];
return [v$2732,[v$2734,v$2735],[3,[basics$ElabInfo$.from_ParseInfo$221(v$2738),v$2736]]];
} };
};
fix$6285.$elab_pat = function(v$2836,v$2837){var v$2830 = fix$6285.$elab_pat$(v$2836,v$2837);
var v$2831 = v$2830[0];
var v$2832 = v$2830[1];
return [v$2831,[v$2832[0],v$2832[1]],v$2830[2]];
};
fix$6285.$elab_pat$ = function(v$3053,v$3054){switch (v$3054[0]) { case 4: {var v$3050 = v$3054[1];
var v$3051 = v$3050[0];
var v$3052 = v$3050[1];
var v$3044 = fix$6285.$elab_atpat(v$3053,v$3052);
var v$3045 = v$3044[0];
var v$3046 = v$3044[1];
var v$3047 = v$3046[0];
var v$3048 = v$3046[1];
var v$3049 = v$3044[2];
return [v$3045,[v$3047,v$3048],[4,[basics$ElabInfo$.from_ParseInfo$221(v$3051),v$3049]]];
 break; }case 3: {var v$3031 = v$3054[1];
var v$3032 = v$3031[0];
var v$3033 = v$3031[1];
var v$3034 = v$3033[1];
var v$3035 = v$3034[0];
var v$3036 = v$3034[1];
var v$3037 = v$3031[2];
var v$3025 = fix$6285.$elab_atpat(v$3053,v$3037);
var v$3027 = v$3025[1];
var v$3028 = v$3027[0];
var v$3029 = v$3027[1];
var v$3030 = v$3025[2];
var v$2995 = (basics$Environments$.lookup_longid$3252(v$3053))(v$3035);
switch (v$2995[0]) { case 0: {var v$2997 = v$2995[1];
switch (v$2997[0]) { case 2: {var v$3023 = v$2997[1];
var new$3008 = basics$StatObject$.fresh_normal$1529(0);
var arrow$3009 = basics$StatObject$.mk_Arrow$2095(v$3029,new$3008);
var v$3020 = basics$StatObject$.instance$$3564(v$3023);
var v$3021 = v$3020[0];
var v$3022 = v$3020[1];
var v$3017 = UnifyWithTexts$467("argument to long value constructor in pattern suggests constructor type",arrow$3009,"but constructor has type",v$3021,v$3032);
var v$3018 = v$3017[0];
var v$3019 = v$3017[1];
return [0,[v$3028,basics$StatObject$.on$845(v$3018,new$3008)],[3,[addTypeInfo_CON$341(v$3019,v$3053,v$3022,v$3035),[0,[v$3035,v$3036]],v$3030]]];
 break; }case 1: {var v$3006 = v$2997[1];
var arrow$2999 = basics$StatObject$.mk_Arrow$2095(v$3029,basics$StatObject$.Exn$2075);
var v$3003 = UnifyWithTexts$467("argument to long exception constructor in pattern requires exception constructor type ",arrow$2999,"but the exception constructor has type",v$3006,v$3032);
var v$3004 = v$3003[0];
var v$3005 = v$3003[1];
var t$6558 = 0;
var t$6557 = [v$3028,basics$StatObject$.Exn$2075];
var t$6556;
var t$6555;
var t$6554;
var v$5840 = basics$StatObject$.on$845(v$3004,arrow$2999);
t$6554 = (basics$ElabInfo$.plus_TypeInfo$118(v$3005,[15,[v$5840,v$3035]]));
t$6555 = [t$6554,[0,[v$3035,v$3036]],v$3030];
t$6556 = [3,t$6555];
return [t$6558,t$6557,t$6556];
 break; }default: {var t$6563 = basics$StatObject$.Id$836;
var t$6562 = [v$3028,basics$StatObject$.fresh_normal$1529(0)];
var t$6561;
var t$6560;
var t$6559;
var v$5845 = [33,v$3035];
t$6559 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$3032),v$5845));
t$6560 = [t$6559,[0,[syntax_objects$Ident$.bogus$157,v$3036]],v$3030];
t$6561 = [3,t$6560];
return [t$6563,t$6562,t$6561];
} };
 break; }default: {var t$6568 = basics$StatObject$.Id$836;
var t$6567 = [v$3028,basics$StatObject$.fresh_normal$1529(0)];
var t$6566;
var t$6565;
var t$6564;
var v$5849 = [33,v$3035];
t$6564 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$3032),v$5849));
t$6565 = [t$6564,[0,[syntax_objects$Ident$.bogus$157,v$3036]],v$3030];
t$6566 = [3,t$6565];
return [t$6568,t$6567,t$6566];
} };
 break; }case 1: {var v$2977 = v$3054[1];
var v$2978 = v$2977[0];
var v$2979 = v$2977[1];
var v$2980 = v$2977[2];
var v$2971 = fix$6285.$elab_pat(v$3053,v$2979);
var v$2972 = v$2971[0];
var v$2973 = v$2971[1];
var v$2974 = v$2973[0];
var v$2975 = v$2973[1];
var v$2976 = v$2971[2];
var v$2958 = basics$ElabDec$.elab_ty$795(v$3053,v$2980);
var v$2959 = v$2958[0];
switch (v$2959[0]) { case 0: {var v$2968 = v$2959[1];
var v$2969 = v$2958[1];
var v$2965 = UnifyWithTexts$467("pattern has type",v$2975,"which conflicts with your type constraint",v$2968,v$2978);
var v$2967 = v$2965[1];
var S$$$2964 = 0;
return [S$$$2964,[v$2974,basics$StatObject$.on$845(S$$$2964,v$2975)],[1,[v$2967,v$2976,v$2969]]];
 break; }default: {var v$2970 = v$2958[1];
return [v$2972,[v$2974,v$2975],[1,[basics$ElabInfo$.from_ParseInfo$221(v$2978),v$2976,v$2970]]];
} };
 break; }case 2: {var v$2873 = v$3054[1];
var v$2874 = v$2873[2];
switch (v$2874[0]) { case 1: {var v$2894 = v$2873[0];
var v$2895 = v$2873[1];
var v$2896 = v$2895[1];
var v$2897 = v$2896[0];
var v$2898 = v$2896[1];
var v$2899 = v$2873[3];
var v$2888 = fix$6285.$elab_pat(v$3053,v$2899);
var v$2889 = v$2888[0];
var v$2890 = v$2888[1];
var v$2891 = v$2890[0];
var v$2892 = v$2890[1];
var v$2893 = v$2888[2];
var VE2$2880 = basics$Environments$.singleton_var$1037(v$2897,[null,v$2892]);
var intdom$2881 = edlib$EqSet$.intersect$229(function(v$6224){return syntax_objects$Ident$.eq_id$237(v$6224[0],v$6224[1]);
},basics$Environments$.dom$1145(v$2891),basics$Environments$.dom$1145(VE2$2880));
var VE3$2882 = basics$Environments$.plus$1080(v$2891,VE2$2880);
if (edlib$EqSet$.isEmpty$110(intdom$2881)) {var t$6541 = v$2889;
var t$6540 = [VE3$2882,v$2892];
var t$6539;
var t$6538;
var t$6537;
var v$5850 = basics$ElabInfo$.from_ParseInfo$221(v$2894);
t$6537 = (basics$ElabInfo$.plus_TypeInfo$118(v$5850,[0,[v$2892,null]]));
t$6538 = [t$6537,[0,[v$2897,v$2898]],[1],v$2893];
t$6539 = [2,t$6538];
return [t$6541,t$6540,t$6539];
} else {var t$6547 = v$2889;
var t$6546 = [VE3$2882,v$2892];
var t$6545;
var t$6544;
var t$6542;
var v$5853;
var l$4508 = edlib$EqSet$.list$98(intdom$2881);
var fix$6543 = {};
fix$6543.$map = function(v$4510){if (v$4510 == null) {return null;
} else {var v$4511 = v$4510;
var v$4512 = v$4511[0];
var v$4513 = v$4511[1];
return [[5,v$4512],fix$6543.$map(v$4513)];
};
};
var map$4509 = fix$6543.$map;
v$5853 = (map$4509(l$4508));
var v$5855 = [24,v$5853];
t$6542 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2894),v$5855));
t$6544 = [t$6542,[0,[v$2897,v$2898]],[1],v$2893];
t$6545 = [2,t$6544];
return [t$6547,t$6546,t$6545];
};
 break; }default: {var v$2939 = v$2873[0];
var v$2940 = v$2873[1];
var v$2941 = v$2940[1];
var v$2942 = v$2941[0];
var v$2943 = v$2941[1];
var v$2944 = v$2874[1];
var v$2945 = v$2873[3];
var v$2933 = fix$6285.$elab_pat(v$3053,v$2945);
var v$2934 = v$2933[0];
var v$2935 = v$2933[1];
var v$2936 = v$2935[0];
var v$2937 = v$2935[1];
var v$2938 = v$2933[2];
var v$2911 = basics$ElabDec$.elab_ty$795(v$3053,v$2944);
var v$2912 = v$2911[0];
switch (v$2912[0]) { case 0: {var v$2930 = v$2912[1];
var v$2931 = v$2911[1];
var v$2927 = UnifyWithTexts$467("pattern has type",v$2937,"which conflicts with your constraint",v$2930,v$2939);
var v$2929 = v$2927[1];
var i$$2917 = basics$ElabInfo$.plus_TypeInfo$118(v$2929,[0,[v$2930,null]]);
var S$$$2918 = 0;
var VE2$2919 = basics$Environments$.singleton_var$1037(v$2942,[null,v$2937]);
var intdom$2920 = edlib$EqSet$.intersect$229(function(v$6225){return syntax_objects$Ident$.eq_id$237(v$6225[0],v$6225[1]);
},basics$Environments$.dom$1145(v$2936),basics$Environments$.dom$1145(VE2$2919));
var VE3$2921 = basics$Environments$.plus$1080(v$2936,VE2$2919);
if (edlib$EqSet$.isEmpty$110(intdom$2920)) {return [S$$$2918,[VE3$2921,basics$StatObject$.on$845(S$$$2918,v$2937)],[2,[i$$2917,[0,[v$2942,v$2943]],[0,v$2931],v$2938]]];
} else {var t$6553 = S$$$2918;
var t$6552 = [VE3$2921,basics$StatObject$.on$845(S$$$2918,v$2937)];
var t$6551;
var t$6550;
var t$6548;
var v$5859;
var l$4528 = edlib$EqSet$.list$98(intdom$2920);
var fix$6549 = {};
fix$6549.$map = function(v$4530){if (v$4530 == null) {return null;
} else {var v$4531 = v$4530;
var v$4532 = v$4531[0];
var v$4533 = v$4531[1];
return [[5,v$4532],fix$6549.$map(v$4533)];
};
};
var map$4529 = fix$6549.$map;
v$5859 = (map$4529(l$4528));
var v$5861 = [24,v$5859];
t$6548 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2939),v$5861));
t$6550 = [t$6548,[0,[v$2942,v$2943]],[0,v$2931],v$2938];
t$6551 = [2,t$6550];
return [t$6553,t$6552,t$6551];
};
 break; }default: {var v$2932 = v$2911[1];
return [v$2934,[v$2936,v$2937],[2,[basics$ElabInfo$.from_ParseInfo$221(v$2939),[0,[v$2942,v$2943]],[0,v$2932],v$2938]]];
} };
} };
 break; }default: {return tools$Crash$.impossible$50("ElabDec.elab_pat(UNRES_INFIX)");
} };
};
var elab_patrow$798 = fix$6285.$elab_patrow;
var elab_atpat$799 = fix$6285.$elab_atpat;
var elab_pat$797 = fix$6285.$elab_pat;
var elab_pat$$796 = fix$6285.$elab_pat$;
var out_i_for_exbind$801 = function(excon$2550,VE_rest$2553,i$2556,tau_opt$2559){if (edlib$EqSet$.member$119(function(v$6227){return syntax_objects$Ident$.eq_id$237(v$6227[0],v$6227[1]);
},excon$2550,basics$Environments$.dom$1145(VE_rest$2553))) {var v$5902 = [[7,excon$2550],null];
var v$5904 = [24,v$5902];
return basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(i$2556),v$5904);
} else {if (basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(excon$2550)) {var v$5906 = [25,[excon$2550,null]];
return basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(i$2556),v$5906);
} else {if (basics$PreElabDecGrammar$$2.is_$it$$1843(excon$2550)) {var v$5908 = [26];
return basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(i$2556),v$5908);
} else {var v$5909 = basics$ElabInfo$.from_ParseInfo$221(i$2556);
return basics$ElabInfo$.plus_TypeInfo$118(v$5909,[16,[tau_opt$2559]]);
};
};
};
};
var fix$6286 = {};
fix$6286.$elab_exbind = function(v$2546,v$2547){switch (v$2547[0]) { case 1: {var v$2468 = v$2547[1];
var v$2469 = v$2468[2];
switch (v$2469[0]) { case 0: {var v$2491 = v$2468[0];
var v$2492 = v$2468[1];
var v$2493 = v$2492[1];
var v$2494 = v$2493[0];
var v$2495 = v$2493[1];
var v$2496 = v$2469[1];
var v$2497 = v$2468[3];
var v$2488 = fix$6286.$elab_exbind_opt(v$2546,v$2497);
var v$2489 = v$2488[0];
var v$2490 = v$2488[1];
var v$2480 = basics$ElabDec$.elab_ty$795(v$2546,v$2496);
var v$2481 = v$2480[0];
switch (v$2481[0]) { case 0: {var v$2485 = v$2481[1];
var v$2486 = v$2480[1];
var exnTy$2483 = basics$StatObject$.mk_Arrow$2095(v$2485,basics$StatObject$.Exn$2075);
var VE_this$2484 = basics$Environments$.singleton_excon$1053(v$2494,exnTy$2483);
return [basics$Environments$.plus$1080(VE_this$2484,v$2489),[1,[out_i_for_exbind$801(v$2494,v$2489,v$2491,[0,v$2485]),[0,[v$2494,v$2495]],[0,v$2486],v$2490]]];
 break; }default: {var v$2487 = v$2480[1];
return [v$2489,[1,[basics$ElabInfo$.from_ParseInfo$221(v$2491),[0,[v$2494,v$2495]],[0,v$2487],v$2490]]];
} };
 break; }default: {var v$2505 = v$2468[0];
var v$2506 = v$2468[1];
var v$2507 = v$2506[1];
var v$2508 = v$2507[0];
var v$2509 = v$2507[1];
var v$2510 = v$2468[3];
var VE_this$2498 = basics$Environments$.singleton_excon$1053(v$2508,basics$StatObject$.Exn$2075);
var v$2502 = fix$6286.$elab_exbind_opt(v$2546,v$2510);
var v$2503 = v$2502[0];
var v$2504 = v$2502[1];
return [basics$Environments$.plus$1080(VE_this$2498,v$2503),[1,[out_i_for_exbind$801(v$2508,v$2503,v$2505,[1]),[0,[v$2508,v$2509]],[1],v$2504]]];
} };
 break; }default: {var v$2535 = v$2547[1];
var v$2536 = v$2535[0];
var v$2537 = v$2535[1];
var v$2538 = v$2537[1];
var v$2539 = v$2538[0];
var v$2540 = v$2538[1];
var v$2541 = v$2535[2];
var v$2542 = v$2541[1];
var v$2543 = v$2542[0];
var v$2544 = v$2542[1];
var v$2545 = v$2535[3];
var v$2516 = (basics$Environments$.lookup_longid$3252(v$2546))(v$2543);
switch (v$2516[0]) { case 0: {var v$2518 = v$2516[1];
switch (v$2518[0]) { case 1: {var v$2527 = v$2518[1];
var VE_this$2520 = basics$Environments$.singleton_excon$1053(v$2539,v$2527);
var v$2524 = fix$6286.$elab_exbind_opt(v$2546,v$2545);
var v$2525 = v$2524[0];
var v$2526 = v$2524[1];
return [basics$Environments$.plus$1080(VE_this$2520,v$2525),[0,[out_i_for_exbind$801(v$2539,v$2525,v$2536,[1]),[0,[v$2539,v$2540]],[0,[v$2543,v$2544]],v$2526]]];
 break; }default: {var v$6130 = fix$6286.$elab_exbind_opt(v$2546,v$2545);
var v$6131 = v$6130[0];
var v$6132 = v$6130[1];
var t$6532 = v$6131;
var t$6531;
var t$6530;
var t$6529;
var v$6133 = [33,v$2543];
t$6529 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2536),v$6133));
t$6530 = [t$6529,[0,[v$2539,v$2540]],[0,[v$2543,v$2544]],v$6132];
t$6531 = [0,t$6530];
return [t$6532,t$6531];
} };
 break; }default: {var v$6135 = fix$6286.$elab_exbind_opt(v$2546,v$2545);
var v$6136 = v$6135[0];
var v$6137 = v$6135[1];
var t$6536 = v$6136;
var t$6535;
var t$6534;
var t$6533;
var v$6138 = [33,v$2543];
t$6533 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2536),v$6138));
t$6534 = [t$6533,[0,[v$2539,v$2540]],[0,[v$2543,v$2544]],v$6137];
t$6535 = [0,t$6534];
return [t$6536,t$6535];
} };
} };
};
fix$6286.$elab_exbind_opt = function(v$6228,v$2582){switch (v$2582[0]) { case 0: {var v$2591 = v$2582[1];
var v$2587 = fix$6286.$elab_exbind(v$6228,v$2591);
return [v$2587[0],[0,v$2587[1]]];
 break; }default: {return [basics$Environments$.empty$1031,[1]];
} };
};
var elab_exbind$802 = fix$6286.$elab_exbind;
var elab_exbind_opt$800 = fix$6286.$elab_exbind_opt;
var out_i_for_conbind$804 = function(con$2402,constructor_map$2405,i$2408){if (basics$Environments$.in_dom$3553(function(v$6229){return syntax_objects$Ident$.eq_id$237(v$6229[0],v$6229[1]);
},con$2402,constructor_map$2405)) {var v$5916 = [[8,con$2402],null];
var v$5918 = [24,v$5916];
return basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(i$2408),v$5918);
} else {if (basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(con$2402)) {var v$5920 = [25,[con$2402,null]];
return basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(i$2408),v$5920);
} else {if (basics$PreElabDecGrammar$$2.is_$it$$1843(con$2402)) {var v$5922 = [26];
return basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(i$2408),v$5922);
} else {return basics$ElabInfo$.from_ParseInfo$221(i$2408);
};
};
};
};
var fix$6287 = {};
fix$6287.$elab_conbind = function(v$2397,v$2398,v$2399){var v$2352 = v$2399[1];
var v$2353 = v$2352[2];
switch (v$2353[0]) { case 0: {var v$2378 = v$2352[0];
var v$2379 = v$2352[1];
var v$2380 = v$2379[1];
var v$2381 = v$2380[0];
var v$2382 = v$2380[1];
var v$2383 = v$2353[1];
var v$2384 = v$2352[3];
var v$2375 = fix$6287.$elab_conbind_opt(v$2397,v$2398,v$2384);
var v$2376 = v$2375[0];
var v$2377 = v$2375[1];
var v$2368 = basics$ElabDec$.elab_ty$795(v$2397,v$2383);
var v$2369 = v$2368[0];
switch (v$2369[0]) { case 0: {var v$2372 = v$2369[1];
var v$2373 = v$2368[1];
var arrow$2371 = [null,basics$StatObject$.mk_Arrow$2095(v$2372,v$2398)];
return [basics$Environments$.add$3543(function(v$6230){return syntax_objects$Ident$.eq_id$237(v$6230[0],v$6230[1]);
},v$2381,arrow$2371,v$2376),[0,[out_i_for_conbind$804(v$2381,v$2376,v$2378),[0,[v$2381,v$2382]],[0,v$2373],v$2377]]];
 break; }default: {var v$2374 = v$2368[1];
return [v$2376,[0,[out_i_for_conbind$804(v$2381,v$2376,v$2378),[0,[v$2381,v$2382]],[0,v$2374],v$2377]]];
} };
 break; }default: {var v$2391 = v$2352[0];
var v$2392 = v$2352[1];
var v$2393 = v$2392[1];
var v$2394 = v$2393[0];
var v$2395 = v$2393[1];
var v$2396 = v$2352[3];
var v$2388 = fix$6287.$elab_conbind_opt(v$2397,v$2398,v$2396);
var v$2389 = v$2388[0];
var v$2390 = v$2388[1];
return [basics$Environments$.add$3543(function(v$6231){return syntax_objects$Ident$.eq_id$237(v$6231[0],v$6231[1]);
},v$2394,[null,v$2398],v$2389),[0,[out_i_for_conbind$804(v$2394,v$2389,v$2391),[0,[v$2394,v$2395]],[1],v$2390]]];
} };
};
fix$6287.$elab_conbind_opt = function(v$2439,v$2440,v$2441){switch (v$2441[0]) { case 0: {var v$2438 = v$2441[1];
var v$2435 = fix$6287.$elab_conbind(v$2439,v$2440,v$2438);
return [v$2435[0],[0,v$2435[1]]];
 break; }default: {return [basics$Environments$.empty$3542,[1]];
} };
};
var elab_conbind$805 = fix$6287.$elab_conbind;
var elab_conbind_opt$803 = fix$6287.$elab_conbind_opt;
var fix$6288 = {};
fix$6288.$elab_datbind = function(v$2310,v$2311){var v$2304 = v$2311[1];
var v$2305 = v$2304[0];
var v$2306 = v$2304[1];
var v$2307 = v$2304[2];
var v$2308 = v$2304[3];
var v$2309 = v$2304[4];
basics$StatObject$.push$143(0);
var v$2301 = basics$Environments$.plus_U$$3087(v$2310,v$2306);
var v$2302 = v$2301[0];
var v$2303 = v$2301[1];
var tyvarsRepeated$2229 = getRepeatedElements$236(function(v$4659){var v$4660 = v$4659[0];
var v$4661 = v$4659[1];
return syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$4660,v$4661);
},v$2306);
var tyvarsNotInTyVarList$2230;
var fix$6511 = {};
fix$6511.$filter = function(v$4666){if (v$4666 == null) {return null;
} else {var v$4667 = v$4666;
var v$4668 = v$4667[0];
var v$4669 = v$4667[1];
var t$6515;
var t$6514;
var fix$6512 = {};
fix$6512.$member = function(v$6179){lab$member: while (true) {if (v$6179 == null) {return false;
} else {var v$6180 = v$6179;
var v$6181 = v$6180[0];
var v$6182 = v$6180[1];
if (syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$4668,v$6181)) {return true;
} else {var t$6513 = v$6182;
var v$6179 = t$6513;
continue lab$member;
};
};
};
};
var member$6178 = fix$6512.$member;
t$6514 = (member$6178(v$2306));
t$6515 = (t$6514?false:true);
if (t$6515) {return [v$4668,fix$6511.$filter(v$4669)];
} else {return fix$6511.$filter(v$4669);
};
};
};
var filter$4665 = fix$6511.$filter;
tyvarsNotInTyVarList$2230 = (filter$4665(basics$PreElabDecGrammar$$2.getExplicitTyVarsConbind$1773(v$2308)));
var v$2299 = basics$Environments$.plus_U$$3087(v$2303,tyvarsNotInTyVarList$2230);
var v$2300 = v$2299[1];
var v$2290;
var v$2296 = (basics$Environments$.lookup_tycon$3256(v$2310))(v$2307);
switch (v$2296[0]) { case 0: {var v$2298 = v$2296[1];
v$2290 = (basics$Environments$.to_theta_and_VE$1659(v$2298));
 break; }default: {v$2290 = (tools$Crash$.impossible$50("ElabDec.datbind(1)"));
} };
var v$2291 = v$2290[0];
var tyname$2238;
var v$2243 = basics$StatObject$.to_TyName$3950(v$2291);
switch (v$2243[0]) { case 0: {tyname$2238 = v$2243[1];
 break; }default: {tyname$2238 = (tools$Crash$.impossible$50("ElabDec.datbind(2)"));
} };
var tau_list$2246;
var fix$6516 = {};
fix$6516.$map = function(v$4714){if (v$4714 == null) {return null;
} else {var v$4715 = v$4714;
var v$4716 = v$4715[0];
var v$4717 = v$4715[1];
return [basics$StatObject$.from_TyVar$1509(v$4716),fix$6516.$map(v$4717)];
};
};
var map$4713 = fix$6516.$map;
tau_list$2246 = (map$4713(v$2302));
var tau$2247 = basics$StatObject$.mk_ConsType$2050(tau_list$2246,tyname$2238);
var v$2287 = elab_conbind$805(v$2300,tau$2247,v$2308);
var v$2288 = v$2287[0];
var v$2289 = v$2287[1];
basics$StatObject$.pop$146(0);
var VE$2251 = basics$Environments$.to_VE$3560(v$2288);
var VE_closed$2252 = basics$Environments$.close$1379(VE$2251);
var tystr$2253 = basics$Environments$.from_theta_and_VE$1650(basics$StatObject$.from_TyName$3930(tyname$2238),VE_closed$2252);
var v$2282 = fix$6288.$elab_datbind_opt(v$2310,v$2309);
var v$2283 = v$2282[0];
var v$2284 = v$2283[0];
var v$2285 = v$2283[1];
var v$2286 = v$2282[1];
var out_i$2258;
if (syntax_objects$TyCon$.is_$true$_$nil$_etc$157(v$2307)) {var v$5932 = [25,null];
out_i$2258 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2305),v$5932));
} else {if (syntax_objects$TyCon$.is_$it$$174(v$2307)) {var v$5934 = [26];
out_i$2258 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2305),v$5934));
} else {if (((tyvarsNotInTyVarList$2230 == null)?true:false)?false:true) {var v$5936;
var t$6518;
var fix$6517 = {};
fix$6517.$map = function(v$4733){if (v$4733 == null) {return null;
} else {var v$4734 = v$4733;
var v$4735 = v$4734[0];
var v$4736 = v$4734[1];
return [syntax_objects$SyntaxTyVar$.pr_tyvar$51(v$4735),fix$6517.$map(v$4736)];
};
};
var map$4732 = fix$6517.$map;
t$6518 = (map$4732(tyvarsNotInTyVarList$2230));
v$5936 = [15,t$6518];
out_i$2258 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2305),v$5936));
} else {var repeated_ids_errorinfos$2271;
var t$6528 = basis$List$.s$n$645;
var t$6527;
var t$6525;
var l$4738;
var fix$6524 = {};
fix$6524.$map = function(v$4747){if (v$4747 == null) {return null;
} else {var v$4748 = v$4747;
var v$4749 = v$4748[0];
var v$4750 = v$4748[1];
return [basics$StatObject$.from_ExplicitTyVar$620(v$4749),fix$6524.$map(v$4750)];
};
};
var map$4746 = fix$6524.$map;
l$4738 = (map$4746(tyvarsRepeated$2229));
var fix$6526 = {};
fix$6526.$map = function(v$4740){if (v$4740 == null) {return null;
} else {var v$4741 = v$4740;
var v$4742 = v$4741[0];
var v$4743 = v$4741[1];
return [[0,v$4742],fix$6526.$map(v$4743)];
};
};
var map$4739 = fix$6526.$map;
t$6525 = (map$4739(l$4738));
var t$6523;
var t$6522 = basis$List$.s$n$645;
var t$6521;
var t$6519;
var l$4752 = edlib$EqSet$.list$98(edlib$EqSet$.intersect$229(function(v$6232){return syntax_objects$Ident$.eq_id$237(v$6232[0],v$6232[1]);
},basics$Environments$.dom$1145(v$2284),basics$Environments$.dom$1145(VE$2251)));
var fix$6520 = {};
fix$6520.$map = function(v$4754){if (v$4754 == null) {return null;
} else {var v$4755 = v$4754;
var v$4756 = v$4755[0];
var v$4757 = v$4755[1];
return [[5,v$4756],fix$6520.$map(v$4757)];
};
};
var map$4753 = fix$6520.$map;
t$6519 = (map$4753(l$4752));
t$6521 = [t$6519,(edlib$EqSet$.member$119(function(v$6233){return syntax_objects$TyCon$.eq_tycon$215(v$6233[0],v$6233[1]);
},v$2307,basics$Environments$.dom$1795(v$2285)))?[[1,v$2307],null]:null];
t$6523 = (t$6522(t$6521));
t$6527 = [t$6525,t$6523];
repeated_ids_errorinfos$2271 = (t$6528(t$6527));
if (repeated_ids_errorinfos$2271 == null) {out_i$2258 = (basics$ElabInfo$.from_ParseInfo$221(v$2305));
} else {var v$5940 = [24,repeated_ids_errorinfos$2271];
out_i$2258 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2305),v$5940));
};
};
};
};
return [[basics$Environments$.plus$1080(VE_closed$2252,v$2284),basics$Environments$.plus$1769(basics$Environments$.singleton$1767([v$2307,tystr$2253]),v$2285)],[0,[out_i$2258,v$2306,v$2307,v$2289,v$2286]]];
};
fix$6288.$elab_datbind_opt = function(v$2332,v$2333){switch (v$2333[0]) { case 0: {var v$2331 = v$2333[1];
var v$2326 = fix$6288.$elab_datbind(v$2332,v$2331);
var v$2327 = v$2326[0];
return [[v$2327[0],v$2327[1]],[0,v$2326[1]]];
 break; }default: {return [[basics$Environments$.empty$1031,basics$Environments$.empty$1765],[1]];
} };
};
var elab_datbind$807 = fix$6288.$elab_datbind;
var elab_datbind_opt$806 = fix$6288.$elab_datbind_opt;
var fix$6289 = {};
fix$6289.$elab_typbind = function(v$2194,v$2195){var v$2188 = v$2195[1];
var v$2189 = v$2188[0];
var v$2190 = v$2188[1];
var v$2191 = v$2188[2];
var v$2192 = v$2188[3];
var v$2193 = v$2188[4];
basics$StatObject$.push$143(0);
var v$2185 = basics$Environments$.plus_U$$3087(v$2194,v$2190);
var v$2186 = v$2185[0];
var v$2187 = v$2185[1];
var tyvarsRepeated$2141 = getRepeatedElements$236(function(v$4765){var v$4766 = v$4765[0];
var v$4767 = v$4765[1];
return syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$4766,v$4767);
},v$2190);
var tyvarsNotInTyVarList$2142;
var fix$6490 = {};
fix$6490.$filter = function(v$4772){if (v$4772 == null) {return null;
} else {var v$4773 = v$4772;
var v$4774 = v$4773[0];
var v$4775 = v$4773[1];
var t$6494;
var t$6493;
var fix$6491 = {};
fix$6491.$member = function(v$6185){lab$member: while (true) {if (v$6185 == null) {return false;
} else {var v$6186 = v$6185;
var v$6187 = v$6186[0];
var v$6188 = v$6186[1];
if (syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$4774,v$6187)) {return true;
} else {var t$6492 = v$6188;
var v$6185 = t$6492;
continue lab$member;
};
};
};
};
var member$6184 = fix$6491.$member;
t$6493 = (member$6184(v$2190));
t$6494 = (t$6493?false:true);
if (t$6494) {return [v$4774,fix$6490.$filter(v$4775)];
} else {return fix$6490.$filter(v$4775);
};
};
};
var filter$4771 = fix$6490.$filter;
tyvarsNotInTyVarList$2142 = (filter$4771(basics$PreElabDecGrammar$$2.getExplicitTyVarsTy$1769(v$2192)));
var v$2152 = basics$ElabDec$.elab_ty$795(v$2187,v$2192);
var v$2153 = v$2152[0];
switch (v$2153[0]) { case 0: {var v$2176 = v$2153[1];
var v$2177 = v$2152[1];
basics$StatObject$.pop$146(0);
var typeFcn$2155 = basics$StatObject$.from_TyVars_and_Type$3855(v$2186,v$2176);
var tystr$2156 = basics$Environments$.from_theta_and_VE$1650(typeFcn$2155,basics$Environments$.empty$1031);
var v$2173 = fix$6289.$elab_typbind_opt(v$2194,v$2193);
var v$2174 = v$2173[0];
var v$2175 = v$2173[1];
if (((tyvarsNotInTyVarList$2142 == null)?true:false)?false:true) {var t$6500 = v$2174;
var t$6499;
var t$6498;
var t$6497;
var v$5946;
var t$6496;
var fix$6495 = {};
fix$6495.$map = function(v$4821){if (v$4821 == null) {return null;
} else {var v$4822 = v$4821;
var v$4823 = v$4822[0];
var v$4824 = v$4822[1];
return [syntax_objects$SyntaxTyVar$.pr_tyvar$51(v$4823),fix$6495.$map(v$4824)];
};
};
var map$4820 = fix$6495.$map;
t$6496 = (map$4820(tyvarsNotInTyVarList$2142));
v$5946 = [15,t$6496];
t$6497 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2189),v$5946));
t$6498 = [t$6497,v$2190,v$2191,v$2177,v$2175];
t$6499 = [0,t$6498];
return [t$6500,t$6499];
} else {if (edlib$EqSet$.member$119(function(v$6234){return syntax_objects$TyCon$.eq_tycon$215(v$6234[0],v$6234[1]);
},v$2191,basics$Environments$.dom$1795(v$2174))) {var t$6504 = basics$Environments$.plus$1769(basics$Environments$.singleton$1767([v$2191,tystr$2156]),v$2174);
var t$6503;
var t$6502;
var t$6501;
var v$5948 = [[1,v$2191],null];
var v$5950 = [24,v$5948];
t$6501 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2189),v$5950));
t$6502 = [t$6501,v$2190,v$2191,v$2177,v$2175];
t$6503 = [0,t$6502];
return [t$6504,t$6503];
} else {if (tyvarsRepeated$2141 == null) {return [basics$Environments$.plus$1769(basics$Environments$.singleton$1767([v$2191,tystr$2156]),v$2174),[0,[basics$ElabInfo$.from_ParseInfo$221(v$2189),v$2190,v$2191,v$2177,v$2175]]];
} else {var t$6510 = v$2174;
var t$6509;
var t$6508;
var t$6506;
var v$5952;
var l$4838;
var fix$6505 = {};
fix$6505.$map = function(v$4847){if (v$4847 == null) {return null;
} else {var v$4848 = v$4847;
var v$4849 = v$4848[0];
var v$4850 = v$4848[1];
return [basics$StatObject$.from_ExplicitTyVar$620(v$4849),fix$6505.$map(v$4850)];
};
};
var map$4846 = fix$6505.$map;
l$4838 = (map$4846(tyvarsRepeated$2141));
var fix$6507 = {};
fix$6507.$map = function(v$4840){if (v$4840 == null) {return null;
} else {var v$4841 = v$4840;
var v$4842 = v$4841[0];
var v$4843 = v$4841[1];
return [[0,v$4842],fix$6507.$map(v$4843)];
};
};
var map$4839 = fix$6507.$map;
v$5952 = (map$4839(l$4838));
var v$5954 = [24,v$5952];
t$6506 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$2189),v$5954));
t$6508 = [t$6506,v$2190,v$2191,v$2177,v$2175];
t$6509 = [0,t$6508];
return [t$6510,t$6509];
};
};
};
 break; }default: {var v$2184 = v$2152[1];
basics$StatObject$.pop$146(0);
var v$2181 = fix$6289.$elab_typbind_opt(v$2194,v$2193);
var v$2182 = v$2181[0];
var v$2183 = v$2181[1];
return [v$2182,[0,[basics$ElabInfo$.from_ParseInfo$221(v$2189),v$2190,v$2191,v$2184,v$2183]]];
} };
};
fix$6289.$elab_typbind_opt = function(v$2213,v$2214){switch (v$2214[0]) { case 0: {var v$2212 = v$2214[1];
var v$2209 = fix$6289.$elab_typbind(v$2213,v$2212);
return [v$2209[0],[0,v$2209[1]]];
 break; }default: {return [basics$Environments$.empty$1765,[1]];
} };
};
var elab_typbind$809 = fix$6289.$elab_typbind;
var elab_typbind_opt$808 = fix$6289.$elab_typbind_opt;
var fix$6290 = {};
fix$6290.$elab_exprow = function(v$1024,v$1025){var v$986 = v$1025[1];
var v$987 = v$986[3];
switch (v$987[0]) { case 1: {var v$997 = v$986[0];
var v$998 = v$986[1];
var v$999 = v$986[2];
var v$993 = fix$6290.$elab_exp(v$1024,v$999);
var v$994 = v$993[0];
var v$995 = v$993[1];
var v$996 = v$993[2];
return [v$994,(basics$StatObject$.add_field$1686(v$998,v$995))(basics$StatObject$.empty$1602),[0,[basics$ElabInfo$.from_ParseInfo$221(v$997),v$998,v$996,[1]]]];
 break; }default: {var v$1020 = v$986[0];
var v$1021 = v$986[1];
var v$1022 = v$986[2];
var v$1023 = v$987[1];
var v$1016 = fix$6290.$elab_exp(v$1024,v$1022);
var v$1018 = v$1016[1];
var v$1019 = v$1016[2];
var v$1012 = fix$6290.$elab_exprow(v$1024,v$1023);
var v$1013 = v$1012[0];
var v$1014 = v$1012[1];
var v$1015 = v$1012[2];
var t$6489;
var fix$6487 = {};
fix$6487.$member = function(v$6209){lab$member: while (true) {if (v$6209 == null) {return false;
} else {var v$6210 = v$6209;
var v$6211 = v$6210[0];
var v$6212 = v$6210[1];
if (syntax_objects$Lab$.eq_lab$138(v$1021,v$6211)) {return true;
} else {var t$6488 = v$6212;
var v$6209 = t$6488;
continue lab$member;
};
};
};
};
var member$6208 = fix$6487.$member;
t$6489 = (member$6208(basics$StatObject$.sorted_labs$1745(v$1014)));
if (t$6489) {var t$6486 = v$1013;
var t$6485 = v$1014;
var t$6484;
var t$6483;
var t$6482;
var v$6065 = [[4,v$1021],null];
var v$6067 = [24,v$6065];
t$6482 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$1020),v$6067));
t$6483 = [t$6482,v$1021,v$1019,[0,v$1015]];
t$6484 = [0,t$6483];
return [t$6486,t$6485,t$6484];
} else {return [0,(basics$StatObject$.add_field$1686(v$1021,basics$StatObject$.on$845(v$1013,v$1018)))(v$1014),[0,[basics$ElabInfo$.from_ParseInfo$221(v$1020),v$1021,v$1019,[0,v$1015]]]];
};
} };
};
fix$6290.$elab_decs = function(v$1673,v$1674){switch (v$1674[0]) { case 3: {var v$1659 = v$1674[1];
var v$1660 = v$1659[0];
var v$1661 = v$1659[1];
var v$1662 = v$1659[2];
var v$1653 = fix$6290.$elab_decs(v$1673,v$1661);
var v$1655 = v$1653[1];
var v$1656 = v$1653[2];
var v$1657 = v$1653[3];
var v$1658 = v$1653[4];
var v$1648 = fix$6290.$elab_dec(v$1657,v$1662);
var v$1649 = v$1648[0];
var v$1650 = v$1648[1];
var v$1651 = v$1648[2];
var v$1652 = v$1648[3];
var E1$$1647 = basics$Environments$.on$2511(v$1649,v$1656);
return [0,basis$List$.s$n$645([v$1655,v$1650]),basics$Environments$.plus$2381(E1$$1647,v$1651),basics$Environments$.plus_E$3175(v$1657,v$1651),[3,[basics$ElabInfo$.from_ParseInfo$221(v$1660),v$1658,v$1652]]];
 break; }default: {var v$1668 = fix$6290.$elab_dec(v$1673,v$1674);
var v$1669 = v$1668[0];
var v$1670 = v$1668[1];
var v$1671 = v$1668[2];
var v$1672 = v$1668[3];
return [v$1669,v$1670,v$1671,basics$Environments$.plus_E$3175(v$1673,v$1671),v$1672];
} };
};
fix$6290.$elab_dec = function(v$1621,v$1622){switch (v$1622[0]) { case 0: {var v$1601 = v$1622[1];
var v$1602 = v$1601[0];
var v$1603 = v$1601[1];
var v$1604 = v$1601[2];
var U$1579;
var v$6009;
var v$6010 = basics$Environments$.unguarded_valbind$551(v$1604);
var v$6011 = basics$Environments$.to_U$3129(v$1621);
var fix$6442 = {};
fix$6442.$filter = function(v$5039){if (v$5039 == null) {return null;
} else {var v$5040 = v$5039;
var v$5041 = v$5040[0];
var v$5042 = v$5040[1];
var t$6446;
var t$6445;
var fix$6443 = {};
fix$6443.$member = function(v$6191){lab$member: while (true) {if (v$6191 == null) {return false;
} else {var v$6192 = v$6191;
var v$6193 = v$6192[0];
var v$6194 = v$6192[1];
if (syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$5041,v$6193)) {return true;
} else {var t$6444 = v$6194;
var v$6191 = t$6444;
continue lab$member;
};
};
};
};
var member$6190 = fix$6443.$member;
t$6445 = (member$6190(v$6011));
t$6446 = (t$6445?false:true);
if (t$6446) {return [v$5041,fix$6442.$filter(v$5042)];
} else {return fix$6442.$filter(v$5042);
};
};
};
var filter$5038 = fix$6442.$filter;
v$6009 = (filter$5038(v$6010));
var t$6455 = basis$List$.s$n$645;
var t$6454;
var t$6453 = v$1603;
var t$6448;
var fix$6447 = {};
fix$6447.$filter = function(v$5017){if (v$5017 == null) {return null;
} else {var v$5018 = v$5017;
var v$5019 = v$5018[0];
var v$5020 = v$5018[1];
var t$6452;
var t$6451;
var fix$6449 = {};
fix$6449.$member = function(v$6197){lab$member: while (true) {if (v$6197 == null) {return false;
} else {var v$6198 = v$6197;
var v$6199 = v$6198[0];
var v$6200 = v$6198[1];
if (syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$5019,v$6199)) {return true;
} else {var t$6450 = v$6200;
var v$6197 = t$6450;
continue lab$member;
};
};
};
};
var member$6196 = fix$6449.$member;
t$6451 = (member$6196(v$1603));
t$6452 = (t$6451?false:true);
if (t$6452) {return [v$5019,fix$6447.$filter(v$5020)];
} else {return fix$6447.$filter(v$5020);
};
};
};
var filter$5016 = fix$6447.$filter;
t$6448 = (filter$5016(v$6009));
t$6454 = [t$6453,t$6448];
U$1579 = (t$6455(t$6454));
basics$StatObject$.push$143(0);
var v$1592;
try {v$1592 = (fix$6290.$elab_valbind(basics$Environments$.plus_U$3121([v$1621,U$1579]),v$1604));
} catch(v$6456) {v$1592 = ((function(E$1598){basics$StatObject$.pop$146(0);
throw E$1598;
})(v$6456));
};
var v$1593 = v$1592[0];
var v$1594 = v$1592[1];
var v$1595 = v$1592[2];
basics$StatObject$.pop$146(0);
var VE$$1584 = basics$Environments$.close$3385(v$1621,v$1604,v$1594);
var out_i$1585;
var v$1590;
var v$6021 = basics$Environments$.to_U$3129(v$1621);
var fix$6457 = {};
fix$6457.$filter = function(v$5062){if (v$5062 == null) {return null;
} else {var v$5063 = v$5062;
var v$5064 = v$5063[0];
var v$5065 = v$5063[1];
var t$6460;
var fix$6458 = {};
fix$6458.$member = function(v$6203){lab$member: while (true) {if (v$6203 == null) {return false;
} else {var v$6204 = v$6203;
var v$6205 = v$6204[0];
var v$6206 = v$6204[1];
if (syntax_objects$SyntaxTyVar$.eq_SyntaxTyVar$116(v$5064,v$6205)) {return true;
} else {var t$6459 = v$6206;
var v$6203 = t$6459;
continue lab$member;
};
};
};
};
var member$6202 = fix$6458.$member;
t$6460 = (member$6202(v$1603));
if (t$6460) {return [v$5064,fix$6457.$filter(v$5065)];
} else {return fix$6457.$filter(v$5065);
};
};
};
var filter$5061 = fix$6457.$filter;
v$1590 = (filter$5061(v$6021));
if (v$1590 == null) {out_i$1585 = (basics$ElabInfo$.from_ParseInfo$221(v$1602));
} else {var v$6027;
var t$6462;
var fix$6461 = {};
fix$6461.$map = function(v$5085){if (v$5085 == null) {return null;
} else {var v$5086 = v$5085;
var v$5087 = v$5086[0];
var v$5088 = v$5086[1];
return [basics$StatObject$.from_ExplicitTyVar$620(v$5087),fix$6461.$map(v$5088)];
};
};
var map$5084 = fix$6461.$map;
t$6462 = (map$5084(v$1590));
v$6027 = [14,t$6462];
out_i$1585 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$1602),v$6027));
};
var out_valbind$1591;
var generic_tyvars_pat$5092 = [null];
var fix$6463 = {};
fix$6463.$do_atpat = function(atpat$5136){switch (atpat$5136[0]) { case 0: {return atpat$5136;
 break; }case 1: {return atpat$5136;
 break; }case 4: {var v$5137 = atpat$5136[1];
var v$5138 = v$5137[0];
var v$5139 = v$5137[1];
var v$5140 = v$5139[1];
var v$5141 = v$5140[0];
var t$6481;
var t$6480;
var v$5142 = syntax_objects$Ident$.decompose$87(v$5141);
if (v$5142[0] == null) {var v$5143 = v$5142[1];
var v$5144 = basics$Environments$.lookup$1111(VE$$1584,v$5143);
switch (v$5144[0]) { case 0: {var v$5145 = v$5144[1];
switch (v$5145[0]) { case 0: {var v$5146 = v$5145[1];
var v$5147 = v$5146[0];
var v$5148 = v$5146[1];
(generic_tyvars_pat$5092[0] = (basics$StatObject$.unionTyVarSet$779(generic_tyvars_pat$5092[0],v$5147)),0);
t$6480 = (basics$ElabInfo$.plus_TypeInfo$118(v$5138,[0,[v$5148,v$5147]]));
 break; }default: {t$6480 = v$5138;
} };
 break; }default: {t$6480 = v$5138;
} };
} else {t$6480 = v$5138;
};
t$6481 = [t$6480,v$5139];
return [4,t$6481];
 break; }case 2: {var v$5151 = atpat$5136[1];
var v$5152 = v$5151[0];
var v$5153 = v$5151[1];
var t$6479;
var t$6478 = v$5152;
var t$6477;
switch (v$5153[0]) { case 0: {var v$5159 = v$5153[1];
t$6477 = [0,fix$6463.$do_patrow(v$5159)];
 break; }default: {t$6477 = [1];
} };
t$6479 = [t$6478,t$6477];
return [2,t$6479];
 break; }default: {var v$5160 = atpat$5136[1];
var v$5161 = v$5160[0];
var v$5162 = v$5160[1];
return [3,[v$5161,fix$6463.$do_pat(v$5162)]];
} };
};
fix$6463.$do_pat = function(pat$5108){switch (pat$5108[0]) { case 4: {var v$5109 = pat$5108[1];
var v$5110 = v$5109[0];
var v$5111 = v$5109[1];
return [4,[v$5110,fix$6463.$do_atpat(v$5111)]];
 break; }case 3: {var v$5112 = pat$5108[1];
var v$5113 = v$5112[0];
var v$5114 = v$5112[1];
var v$5115 = v$5112[2];
return [3,[v$5113,v$5114,fix$6463.$do_atpat(v$5115)]];
 break; }case 1: {var v$5116 = pat$5108[1];
var v$5117 = v$5116[0];
var v$5118 = v$5116[1];
var v$5119 = v$5116[2];
return [1,[v$5117,fix$6463.$do_pat(v$5118),v$5119]];
 break; }case 2: {var v$5120 = pat$5108[1];
var v$5121 = v$5120[0];
var v$5122 = v$5120[1];
var v$5123 = v$5122[1];
var v$5124 = v$5123[0];
var v$5125 = v$5120[2];
var v$5126 = v$5120[3];
var t$6476;
var t$6475;
var v$5127 = basics$Environments$.lookup$1111(VE$$1584,v$5124);
switch (v$5127[0]) { case 0: {var v$5128 = v$5127[1];
switch (v$5128[0]) { case 0: {var v$5129 = v$5128[1];
var v$5130 = v$5129[0];
var v$5131 = v$5129[1];
(generic_tyvars_pat$5092[0] = (basics$StatObject$.unionTyVarSet$779(generic_tyvars_pat$5092[0],v$5130)),0);
t$6475 = (basics$ElabInfo$.plus_TypeInfo$118(v$5121,[0,[v$5131,v$5130]]));
 break; }default: {t$6475 = v$5121;
} };
 break; }default: {t$6475 = v$5121;
} };
t$6476 = [t$6475,v$5122,v$5125,fix$6463.$do_pat(v$5126)];
return [2,t$6476];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.do_pat(UNRES_INFIX)");
} };
};
fix$6463.$do_patrow = function(patrow$5096){switch (patrow$5096[0]) { case 1: {return patrow$5096;
 break; }default: {var v$5097 = patrow$5096[1];
var v$5098 = v$5097[0];
var v$5099 = v$5097[1];
var v$5100 = v$5097[2];
var v$5101 = v$5097[3];
var t$6474;
var t$6473 = v$5098;
var t$6472 = v$5099;
var t$6471 = fix$6463.$do_pat(v$5100);
var t$6470;
switch (v$5101[0]) { case 0: {var v$5107 = v$5101[1];
t$6470 = [0,fix$6463.$do_patrow(v$5107)];
 break; }default: {t$6470 = [1];
} };
t$6474 = [t$6473,t$6472,t$6471,t$6470];
return [0,t$6474];
} };
};
var do_atpat$5095 = fix$6463.$do_atpat;
var do_pat$5094 = fix$6463.$do_pat;
var do_patrow$5093 = fix$6463.$do_patrow;
var fix$6464 = {};
fix$6464.$do_valbind = function(vb$5164){switch (vb$5164[0]) { case 1: {var v$5165 = vb$5164[1];
var v$5166 = v$5165[0];
var v$5167 = v$5165[1];
var v$5168 = v$5165[2];
var v$5169 = v$5165[3];
(generic_tyvars_pat$5092[0] = null,0);
var pat$5171 = do_pat$5094(v$5167);
var t$6469;
var t$6468;
var v$5172 = basics$ElabInfo$.to_TypeInfo$192(v$5166);
switch (v$5172[0]) { case 0: {var v$5173 = v$5172[1];
switch (v$5173[0]) { case 6: {var v$5174 = v$5173[1];
if (v$5174[1] == null) {var v$5175 = v$5174[0];
t$6468 = (basics$ElabInfo$.plus_TypeInfo$118(v$5166,[6,[v$5175,generic_tyvars_pat$5092[0]]]));
} else {t$6468 = v$5166;
};
 break; }default: {t$6468 = v$5166;
} };
 break; }default: {t$6468 = v$5166;
} };
var t$6467 = pat$5171;
var t$6466 = v$5168;
var t$6465;
switch (v$5169[0]) { case 0: {var v$5176 = v$5169[1];
t$6465 = [0,fix$6464.$do_valbind(v$5176)];
 break; }default: {t$6465 = [1];
} };
t$6469 = [t$6468,t$6467,t$6466,t$6465];
return [1,t$6469];
 break; }default: {var v$5177 = vb$5164[1];
var v$5178 = v$5177[0];
var v$5179 = v$5177[1];
return [0,[v$5178,fix$6464.$do_valbind(v$5179)]];
} };
};
var do_valbind$5163 = fix$6464.$do_valbind;
out_valbind$1591 = (do_valbind$5163(v$1595));
return [v$1593,null,basics$Environments$.from_VE$2342(VE$$1584),[0,[out_i$1585,v$1603,out_valbind$1591]]];
 break; }case 1: {return tools$Crash$.impossible$50("ElabDec.elab_dec(UNRES_FUN)");
 break; }case 2: {var v$1574 = v$1622[1];
var v$1575 = v$1574[0];
var v$1576 = v$1574[1];
var v$1571 = elab_typbind$809(v$1621,v$1576);
var v$1572 = v$1571[0];
var v$1573 = v$1571[1];
var t$6441 = basics$StatObject$.Id$836;
var t$6440 = null;
var t$6439 = basics$Environments$.from_TE$2355(v$1572);
var t$6438;
var t$6437;
var t$6436;
var v$6044 = basics$ElabInfo$.from_ParseInfo$221(v$1575);
t$6436 = (basics$ElabInfo$.plus_TypeInfo$118(v$6044,[2,v$1572]));
t$6437 = [t$6436,v$1573];
t$6438 = [2,t$6437];
return [t$6441,t$6440,t$6439,t$6438];
 break; }case 11: {var v$1564 = v$1622[1];
var v$1565 = v$1564[0];
var v$1566 = v$1564[1];
var TE$1534 = initial_TE$519(v$1566);
var v$1559 = elab_datbind$807(basics$Environments$.plus_TE$3191(v$1621,TE$1534),v$1566);
var v$1560 = v$1559[0];
var v$1561 = v$1560[0];
var v$1562 = v$1560[1];
var v$1563 = v$1559[1];
var v$1556 = basics$Environments$.maximise_equality_in_VE_and_TE$3728(v$1561,v$1562);
var v$1557 = v$1556[0];
var v$1558 = v$1556[1];
var t$6435 = basics$StatObject$.Id$836;
var t$6434 = basics$Environments$.fold$1817(function(tystr$1545){return function(T$1548){var v$1553 = basics$StatObject$.to_TyName$3950(basics$Environments$.to_theta$1670(tystr$1545));
switch (v$1553[0]) { case 0: {return [v$1553[1],T$1548];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.elab_dec(DATATYPEdec)");
} };
};
},null,v$1558);
var t$6433 = basics$Environments$.from_VE_and_TE$2335(v$1557,v$1558);
var t$6432;
var t$6431;
var t$6430;
var v$6048 = basics$ElabInfo$.from_ParseInfo$221(v$1565);
t$6430 = (basics$ElabInfo$.plus_TypeInfo$118(v$6048,[2,v$1558]));
t$6431 = [t$6430,v$1563];
t$6432 = [11,t$6431];
return [t$6435,t$6434,t$6433,t$6432];
 break; }case 12: {var v$1529 = v$1622[1];
var v$1530 = v$1529[0];
var v$1531 = v$1529[1];
var v$1532 = v$1529[2];
var v$1519 = (basics$Environments$.lookup_longtycon$3254(v$1621))(v$1532);
switch (v$1519[0]) { case 0: {var v$1528 = v$1519[1];
var TE$1521 = basics$Environments$.singleton$1767([v$1531,v$1528]);
var v$1525 = basics$Environments$.to_theta_and_VE$1659(v$1528);
var v$1527 = v$1525[1];
var t$6423 = basics$StatObject$.Id$836;
var t$6422 = null;
var t$6421 = basics$Environments$.from_VE_and_TE$2335(v$1527,TE$1521);
var t$6420;
var t$6419;
var t$6418;
var v$6050 = basics$ElabInfo$.from_ParseInfo$221(v$1530);
t$6418 = (basics$ElabInfo$.plus_TypeInfo$118(v$6050,[2,TE$1521]));
t$6419 = [t$6418,v$1531,v$1532];
t$6420 = [12,t$6419];
return [t$6423,t$6422,t$6421,t$6420];
 break; }default: {var t$6429 = basics$StatObject$.Id$836;
var t$6428 = null;
var t$6427 = basics$Environments$.bogus$2528;
var t$6426;
var t$6425;
var t$6424;
var v$6055 = [31,v$1532];
t$6424 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$1530),v$6055));
t$6425 = [t$6424,v$1531,v$1532];
t$6426 = [12,t$6425];
return [t$6429,t$6428,t$6427,t$6426];
} };
 break; }case 13: {var v$1510 = v$1622[1];
var v$1511 = v$1510[0];
var v$1512 = v$1510[1];
var v$1513 = v$1510[2];
var TE$1475 = initial_TE$519(v$1512);
var v$1505 = elab_datbind$807(basics$Environments$.plus_TE$3191(v$1621,TE$1475),v$1512);
var v$1506 = v$1505[0];
var v$1507 = v$1506[0];
var v$1508 = v$1506[1];
var v$1509 = v$1505[1];
var v$1502 = basics$Environments$.maximise_equality_in_VE_and_TE$3728(v$1507,v$1508);
var v$1503 = v$1502[0];
var v$1504 = v$1502[1];
var v$1497;
var t$6417 = fix$6290.$elab_dec;
var t$6416;
var v$6249 = [v$1503,v$1504];
t$6416 = (basics$Environments$.plus_VE_and_TE$3198(v$1621,v$6249));
v$1497 = (t$6417(t$6416,v$1513));
var v$1498 = v$1497[0];
var v$1499 = v$1497[1];
var v$1500 = v$1497[2];
var v$1501 = v$1497[3];
var v$1493 = basics$Environments$.ABS$3710(v$1504,v$1500);
var v$1494 = v$1493[0];
var v$1495 = v$1493[1];
var v$1496 = v$1493[2];
var out_i$1492;
var v$6056 = basics$ElabInfo$.from_ParseInfo$221(v$1511);
out_i$1492 = (basics$ElabInfo$.plus_TypeInfo$118(v$6056,[19,[v$1504,v$1496]]));
return [v$1498,basis$List$.s$n$645([v$1499,v$1494]),v$1495,[13,[out_i$1492,v$1509,v$1501]]];
 break; }case 9: {var v$1471 = v$1622[1];
var v$1472 = v$1471[0];
var v$1473 = v$1471[1];
var v$1468 = elab_exbind$802(v$1621,v$1473);
var v$1469 = v$1468[0];
var v$1470 = v$1468[1];
return [basics$StatObject$.Id$836,null,basics$Environments$.from_VE$2342(v$1469),[9,[basics$ElabInfo$.from_ParseInfo$221(v$1472),v$1470]]];
 break; }case 6: {var v$1460 = v$1622[1];
var v$1461 = v$1460[0];
var v$1462 = v$1460[1];
var v$1463 = v$1460[2];
var v$1455 = fix$6290.$elab_dec(v$1621,v$1462);
var v$1457 = v$1455[1];
var v$1458 = v$1455[2];
var v$1459 = v$1455[3];
var v$1450 = fix$6290.$elab_dec(basics$Environments$.plus_E$3175(v$1621,v$1458),v$1463);
var v$1452 = v$1450[1];
var v$1453 = v$1450[2];
var v$1454 = v$1450[3];
return [0,basis$List$.s$n$645([v$1457,v$1452]),v$1453,[6,[basics$ElabInfo$.from_ParseInfo$221(v$1461),v$1459,v$1454]]];
 break; }case 4: {var v$1436 = v$1622[1];
var v$1437 = v$1436[0];
var v$1438 = v$1436[1];
var fix$6405 = {};
fix$6405.$process = function(v$1419,v$1420){if (v$1420 == null) {return [basics$Environments$.empty$2527,null];
} else {var v$1413 = v$1420;
var v$1414 = v$1413[0];
var v$1415 = v$1414[1];
var v$1416 = v$1415[0];
var v$1417 = v$1415[1];
var v$1418 = v$1413[1];
var v$1397 = (basics$Environments$.lookup_longstrid$3255(v$1621))(v$1417);
switch (v$1397[0]) { case 0: {var v$1405 = v$1397[1];
var v$1402 = fix$6405.$process(v$1419,v$1418);
var v$1403 = v$1402[0];
var v$1404 = v$1402[1];
return [basics$Environments$.plus$2381(v$1405,v$1403),[[0,[basics$ElabInfo$.from_ParseInfo$221(v$1416),v$1417]],v$1404]];
 break; }default: {var v$1410 = fix$6405.$process(v$1419,v$1418);
var v$1411 = v$1410[0];
var v$1412 = v$1410[1];
var ei$1409 = [32,v$1417];
return [v$1411,[[0,[basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$1416),ei$1409),v$1417]],v$1412]];
} };
};
};
var process$1380 = fix$6405.$process;
var v$1433 = process$1380(basics$Environments$.empty$2527,v$1438);
var v$1434 = v$1433[0];
var v$1435 = v$1433[1];
var t$6415 = basics$StatObject$.Id$836;
var t$6414 = null;
var t$6413 = v$1434;
var t$6412;
var t$6411;
var t$6410;
var t$6409 = basics$ElabInfo$.plus_TypeInfo$118;
var t$6408 = basics$ElabInfo$.from_ParseInfo$221(v$1437);
var t$6407;
var t$6406;
var v$1429 = basics$Environments$.un$2322(v$1434);
var v$1430 = v$1429[0];
var v$1431 = v$1429[1];
var v$1432 = v$1429[2];
t$6406 = [edlib$EqSet$.list$98(basics$Environments$.dom$2141(v$1430)),edlib$EqSet$.list$98(basics$Environments$.dom$1795(v$1431)),edlib$EqSet$.list$98(basics$Environments$.dom$1145(v$1432))];
t$6407 = [7,t$6406];
t$6410 = (t$6409(t$6408,t$6407));
t$6411 = [t$6410,v$1435];
t$6412 = [4,t$6411];
return [t$6415,t$6414,t$6413,t$6412];
 break; }case 7: {var v$1375 = v$1622[1];
var v$1376 = v$1375[0];
var v$1377 = v$1375[1];
var v$1378 = v$1375[2];
return [basics$StatObject$.Id$836,null,basics$Environments$.from_VE$2342(basics$Environments$.empty$1031),[7,[basics$ElabInfo$.from_ParseInfo$221(v$1376),v$1377,v$1378]]];
 break; }case 8: {var v$1370 = v$1622[1];
var v$1371 = v$1370[0];
var v$1372 = v$1370[1];
var v$1373 = v$1370[2];
return [basics$StatObject$.Id$836,null,basics$Environments$.from_VE$2342(basics$Environments$.empty$1031),[8,[basics$ElabInfo$.from_ParseInfo$221(v$1371),v$1372,v$1373]]];
 break; }case 5: {var v$1366 = v$1622[1];
var v$1367 = v$1366[0];
var v$1368 = v$1366[1];
return [basics$StatObject$.Id$836,null,basics$Environments$.from_VE$2342(basics$Environments$.empty$1031),[5,[basics$ElabInfo$.from_ParseInfo$221(v$1367),v$1368]]];
 break; }case 10: {var v$1364 = v$1622[1];
return [basics$StatObject$.Id$836,null,basics$Environments$.from_VE$2342(basics$Environments$.empty$1031),[10,basics$ElabInfo$.from_ParseInfo$221(v$1364)]];
 break; }default: {var v$1611 = fix$6290.$elab_decs(v$1621,v$1622);
return [v$1611[0],v$1611[1],v$1611[2],v$1611[4]];
} };
};
fix$6290.$elab_atexp = function(v$969,v$970){switch (v$970[0]) { case 0: {var v$955 = v$970[1];
var v$956 = v$955[0];
var v$957 = v$955[1];
var v$952 = basics$StatObject$.of_scon$2168(v$957);
var v$953 = v$952[1];
var v$954 = v$952[0];
var i_out$944;
switch (v$954[0]) { case 1: {i_out$944 = (basics$ElabInfo$.from_ParseInfo$221(v$956));
 break; }default: {var v$950 = v$954[1];
var v$5992 = [0,v$950];
i_out$944 = (basics$ElabInfo$.plus_OverloadingInfo$143(basics$ElabInfo$.from_ParseInfo$221(v$956),v$5992));
} };
return [basics$StatObject$.Id$836,v$953,[0,[basics$ElabInfo$.plus_TypeInfo$118(i_out$944,[14,[v$953]]),v$957]]];
 break; }case 4: {var v$934 = v$970[1];
var v$935 = v$934[0];
var v$936 = v$934[1];
var v$937 = v$936[1];
var v$938 = v$937[0];
var v$939 = v$937[1];
var v$902 = (basics$Environments$.lookup_longid$3252(v$969))(v$938);
switch (v$902[0]) { case 0: {var v$904 = v$902[1];
switch (v$904[0]) { case 0: {var v$932 = v$904[1];
var v$929 = basics$StatObject$.instance$$3564(v$932);
var v$930 = v$929[0];
var v$931 = v$929[1];
var t$6394 = basics$StatObject$.Id$836;
var t$6393 = v$930;
var t$6392;
var t$6391;
var t$6390;
var v$5995;
var v$923;
var fix$6388 = {};
fix$6388.$filter = function(v$4987){lab$filter: while (true) {if (v$4987 == null) {return null;
} else {var v$4988 = v$4987;
var v$4989 = v$4988[0];
var v$4990 = v$4988[1];
if (basics$StatObject$.is_overloaded$547(v$4989)) {return [v$4989,fix$6388.$filter(v$4990)];
} else {var t$6389 = v$4990;
var v$4987 = t$6389;
continue lab$filter;
};
};
};
};
var filter$4986 = fix$6388.$filter;
v$923 = (filter$4986(basics$StatObject$.tyvars$1912(v$930)));
if (v$923 == null) {v$5995 = (basics$ElabInfo$.from_ParseInfo$221(v$935));
} else {var v$925 = v$923;
if (v$925[1] == null) {var v$927 = v$925[0];
var v$5998 = [0,v$927];
v$5995 = (basics$ElabInfo$.plus_OverloadingInfo$143(basics$ElabInfo$.from_ParseInfo$221(v$935),v$5998));
} else {v$5995 = (basics$ElabInfo$.from_ParseInfo$221(v$935));
};
};
t$6390 = (basics$ElabInfo$.plus_TypeInfo$118(v$5995,[1,[v$931]]));
t$6391 = [t$6390,[0,[v$938,v$939]]];
t$6392 = [4,t$6391];
return [t$6394,t$6393,t$6392];
 break; }case 2: {var v$912 = v$904[1];
var v$909 = basics$StatObject$.instance$$3564(v$912);
var v$910 = v$909[0];
var v$911 = v$909[1];
return [basics$StatObject$.Id$836,v$910,[4,[addTypeInfo_CON$341(basics$ElabInfo$.from_ParseInfo$221(v$935),v$969,v$911,v$938),[0,[v$938,v$939]]]]];
 break; }default: {var v$933 = v$904[1];
var t$6399 = basics$StatObject$.Id$836;
var t$6398 = v$933;
var t$6397;
var t$6396;
var t$6395;
var v$5999 = basics$ElabInfo$.from_ParseInfo$221(v$935);
t$6395 = (basics$ElabInfo$.plus_TypeInfo$118(v$5999,[15,[v$933,v$938]]));
t$6396 = [t$6395,[0,[v$938,v$939]]];
t$6397 = [4,t$6396];
return [t$6399,t$6398,t$6397];
} };
 break; }default: {var t$6404 = basics$StatObject$.Id$836;
var t$6403 = basics$StatObject$.fresh_normal$1529(0);
var t$6402;
var t$6401;
var t$6400;
var v$6005 = [33,v$938];
t$6400 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$935),v$6005));
t$6401 = [t$6400,[0,[syntax_objects$Ident$.bogus$157,v$939]]];
t$6402 = [4,t$6401];
return [t$6404,t$6403,t$6402];
} };
 break; }case 1: {var v$878 = v$970[1];
var v$879 = v$878[1];
switch (v$879[0]) { case 1: {var v$880 = v$878[0];
return [basics$StatObject$.Id$836,basics$StatObject$.Unit$1980,[1,[basics$ElabInfo$.from_ParseInfo$221(v$880),[1]]]];
 break; }default: {var v$889 = v$878[0];
var v$890 = v$879[1];
var v$885 = fix$6290.$elab_exprow(v$969,v$890);
var v$886 = v$885[0];
var v$887 = v$885[1];
var v$888 = v$885[2];
return [v$886,basics$StatObject$.from_RecType$1530(v$887),[1,[basics$ElabInfo$.from_ParseInfo$221(v$889),[0,v$888]]]];
} };
 break; }case 3: {var v$873 = v$970[1];
var v$874 = v$873[0];
var v$875 = v$873[1];
var v$876 = v$873[2];
var v$868 = fix$6290.$elab_dec(v$969,v$875);
var v$870 = v$868[1];
var v$871 = v$868[2];
var v$872 = v$868[3];
var v$864 = fix$6290.$elab_exp(basics$Environments$.plus_E$3175(v$969,v$871),v$876);
var v$866 = v$864[1];
var v$867 = v$864[2];
var t$6387 = 0;
var t$6386 = v$866;
var t$6385;
var t$6384;
var t$6383;
var v$863 = special_objects$TyName$$3.list$2937(special_objects$TyName$$3.intersect$2726(basics$StatObject$.tynames$1920(v$866),special_objects$TyName$$3.fromList$2946(v$870)));
if (v$863 == null) {t$6383 = (basics$ElabInfo$.from_ParseInfo$221(v$874));
} else {var v$6007 = [37,v$863];
t$6383 = (basics$ElabInfo$.plus_ErrorInfo$92(basics$ElabInfo$.from_ParseInfo$221(v$874),v$6007));
};
t$6384 = [t$6383,v$872,v$867];
t$6385 = [3,t$6384];
return [t$6387,t$6386,t$6385];
 break; }default: {var v$966 = v$970[1];
var v$967 = v$966[0];
var v$968 = v$966[1];
var v$962 = fix$6290.$elab_exp(v$969,v$968);
var v$963 = v$962[0];
var v$964 = v$962[1];
var v$965 = v$962[2];
return [v$963,v$964,[2,[basics$ElabInfo$.from_ParseInfo$221(v$967),v$965]]];
} };
};
fix$6290.$elab_mrule = function(v$1297,v$1298){var v$1293 = v$1298[1];
var v$1294 = v$1293[0];
var v$1295 = v$1293[1];
var v$1296 = v$1293[2];
var v$1287 = elab_pat$797(v$1297,v$1295);
var v$1289 = v$1287[1];
var v$1290 = v$1289[0];
var v$1291 = v$1289[1];
var v$1292 = v$1287[2];
var v$1283 = fix$6290.$elab_exp(basics$Environments$.plus_VE$3208(v$1297,v$1290),v$1296);
var v$1285 = v$1283[1];
var v$1286 = v$1283[2];
var S$$$1281 = 0;
var out_i$1282 = basics$ElabInfo$.from_ParseInfo$221(v$1294);
return [S$$$1281,basics$StatObject$.mk_Arrow$2095(basics$StatObject$.on$845(S$$$1281,v$1291),v$1285),[0,[out_i$1282,v$1292,v$1286]]];
};
fix$6290.$elab_match = function(v$1261,v$1262){var v$1223 = v$1262[1];
var v$1224 = v$1223[2];
switch (v$1224[0]) { case 1: {var v$1233 = v$1223[0];
var v$1234 = v$1223[1];
var v$1229 = fix$6290.$elab_mrule(v$1261,v$1234);
var v$1230 = v$1229[0];
var v$1231 = v$1229[1];
var v$1232 = v$1229[2];
var t$6382 = v$1230;
var t$6381 = v$1231;
var t$6380;
var t$6379;
var t$6378;
var v$5987 = basics$ElabInfo$.from_ParseInfo$221(v$1233);
t$6378 = (basics$ElabInfo$.plus_TypeInfo$118(v$5987,[9,[v$1231]]));
t$6379 = [t$6378,v$1232,[1]];
t$6380 = [0,t$6379];
return [t$6382,t$6381,t$6380];
 break; }default: {var v$1258 = v$1223[0];
var v$1259 = v$1223[1];
var v$1260 = v$1224[1];
var v$1254 = fix$6290.$elab_mrule(v$1261,v$1259);
var v$1256 = v$1254[1];
var v$1257 = v$1254[2];
var v$1250 = fix$6290.$elab_match(v$1261,v$1260);
var v$1251 = v$1250[0];
var v$1252 = v$1250[1];
var v$1253 = v$1250[2];
var v$1247 = UnifyWithTexts$467("type of match rule with wildcard",v$1252,"type of previous match rules",basics$StatObject$.on$845(v$1251,v$1256),v$1258);
var v$1248 = v$1247[0];
var v$1249 = v$1247[1];
var tau$$$1246 = basics$StatObject$.on$845(v$1248,v$1252);
return [0,tau$$$1246,[0,[basics$ElabInfo$.plus_TypeInfo$118(v$1249,[9,[tau$$$1246]]),v$1257,[0,v$1253]]]];
} };
};
fix$6290.$elab_exp$ = function(v$1208,v$1209){switch (v$1209[0]) { case 5: {var v$1205 = v$1209[1];
var v$1206 = v$1205[0];
var v$1207 = v$1205[1];
var v$1201 = fix$6290.$elab_atexp(v$1208,v$1207);
var v$1202 = v$1201[0];
var v$1203 = v$1201[1];
var v$1204 = v$1201[2];
var t$6377 = v$1202;
var t$6376 = v$1203;
var t$6375;
var t$6374;
var t$6373;
var v$5973 = basics$ElabInfo$.from_ParseInfo$221(v$1206);
t$6373 = (basics$ElabInfo$.plus_TypeInfo$118(v$5973,[14,[v$1203]]));
t$6374 = [t$6373,v$1204];
t$6375 = [5,t$6374];
return [t$6377,t$6376,t$6375];
 break; }case 6: {var v$1192 = v$1209[1];
var v$1193 = v$1192[0];
var v$1194 = v$1192[1];
var v$1195 = v$1192[2];
var v$1188 = fix$6290.$elab_exp(v$1208,v$1194);
var v$1190 = v$1188[1];
var v$1191 = v$1188[2];
var v$1184 = fix$6290.$elab_atexp(v$1208,v$1195);
var v$1185 = v$1184[0];
var v$1186 = v$1184[1];
var v$1187 = v$1184[2];
var new$1175 = basics$StatObject$.fresh_normal$1529(0);
var arrow$1176 = basics$StatObject$.mk_Arrow$2095(v$1186,new$1175);
var v$1181 = UnifyWithTexts$467("operand suggests operator type",arrow$1176,"but I found operator type",basics$StatObject$.on$845(v$1185,v$1190),v$1193);
var v$1182 = v$1181[0];
var v$1183 = v$1181[1];
var tau$1180 = basics$StatObject$.on$845(v$1182,new$1175);
return [0,tau$1180,[6,[basics$ElabInfo$.plus_TypeInfo$118(v$1183,[14,[tau$1180]]),v$1191,v$1187]]];
 break; }case 1: {var v$1162 = v$1209[1];
var v$1163 = v$1162[0];
var v$1164 = v$1162[1];
var v$1165 = v$1162[2];
var v$1158 = fix$6290.$elab_exp(v$1208,v$1164);
var v$1159 = v$1158[0];
var v$1160 = v$1158[1];
var v$1161 = v$1158[2];
var v$1145 = basics$ElabDec$.elab_ty$795(v$1208,v$1165);
var v$1146 = v$1145[0];
switch (v$1146[0]) { case 0: {var v$1155 = v$1146[1];
var v$1156 = v$1145[1];
var v$1152 = UnifyWithTexts$467("type of expression",v$1160,"disagrees with your type constraint",v$1155,v$1163);
var v$1153 = v$1152[0];
var v$1154 = v$1152[1];
var tau$$$1151 = basics$StatObject$.on$845(v$1153,v$1155);
return [0,tau$$$1151,[1,[basics$ElabInfo$.plus_TypeInfo$118(v$1154,[14,[tau$$$1151]]),v$1161,v$1156]]];
 break; }default: {var v$1157 = v$1145[1];
return [v$1159,v$1160,[1,[basics$ElabInfo$.from_ParseInfo$221(v$1163),v$1161,v$1157]]];
} };
 break; }case 3: {var v$1130 = v$1209[1];
var v$1131 = v$1130[0];
var v$1132 = v$1130[1];
var v$1133 = v$1130[2];
var v$1126 = fix$6290.$elab_exp(v$1208,v$1132);
var v$1128 = v$1126[1];
var v$1129 = v$1126[2];
var v$1122 = fix$6290.$elab_match(v$1208,v$1133);
var v$1124 = v$1122[1];
var v$1125 = v$1122[2];
var matchTy$1114 = basics$StatObject$.mk_Arrow$2095(basics$StatObject$.Exn$2075,v$1128);
var v$1119 = UnifyWithTexts$467("handled expression suggests handler type",matchTy$1114,"but I found handler type",v$1124,v$1131);
var v$1121 = v$1119[1];
var tau3$1118 = basics$StatObject$.on$845(0,v$1128);
return [0,tau3$1118,[3,[basics$ElabInfo$.plus_TypeInfo$118(v$1121,[14,[tau3$1118]]),v$1129,v$1125]]];
 break; }case 2: {var v$1102 = v$1209[1];
var v$1103 = v$1102[0];
var v$1104 = v$1102[1];
var v$1098 = fix$6290.$elab_exp(v$1208,v$1104);
var v$1100 = v$1098[1];
var v$1101 = v$1098[2];
var v$1095 = UnifyWithTexts$467("type of expression after 'raise' should be",basics$StatObject$.Exn$2075,"but I found type",v$1100,v$1103);
var v$1097 = v$1095[1];
var tau$1094 = basics$StatObject$.fresh_normal$1529(0);
return [0,tau$1094,[2,[basics$ElabInfo$.plus_TypeInfo$118(v$1097,[14,[tau$1094]]),v$1101]]];
 break; }case 4: {var v$1082 = v$1209[1];
var v$1083 = v$1082[0];
var v$1084 = v$1082[1];
var v$1078 = fix$6290.$elab_match(v$1208,v$1084);
var v$1079 = v$1078[0];
var v$1080 = v$1078[1];
var v$1081 = v$1078[2];
var t$6372 = v$1079;
var t$6371 = v$1080;
var t$6370;
var t$6369;
var t$6368;
var v$5983 = basics$ElabInfo$.from_ParseInfo$221(v$1083);
t$6368 = (basics$ElabInfo$.plus_TypeInfo$118(v$5983,[14,[v$1080]]));
t$6369 = [t$6368,v$1081];
t$6370 = [4,t$6369];
return [t$6372,t$6371,t$6370];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.elab_exp(UNRES_INFIX)");
} };
};
fix$6290.$elab_exp = function(v$1038,v$1039){var v$1034 = fix$6290.$elab_exp$(v$1038,v$1039);
return [v$1034[0],v$1034[1],v$1034[2]];
};
fix$6290.$elab_valbind = function(v$2125,v$2126){switch (v$2126[0]) { case 1: {var v$1758 = v$2126[1];
var v$1759 = v$1758[0];
var v$1760 = v$1758[1];
var v$1761 = v$1758[2];
var v$1762 = v$1758[3];
var v$1752 = elab_pat$797(v$2125,v$1760);
var v$1754 = v$1752[1];
var v$1755 = v$1754[0];
var v$1756 = v$1754[1];
var v$1757 = v$1752[2];
var v$1748 = fix$6290.$elab_exp(v$2125,v$1761);
var v$1750 = v$1748[1];
var v$1751 = v$1748[2];
var v$1745 = UnifyWithTexts$467("type of left-hand side pattern",basics$StatObject$.on$845(0,v$1756),"type of right-hand side expression",v$1750,v$1759);
var v$1747 = v$1745[1];
var i$$1702;
switch ((basics$ElabInfo$.to_ErrorInfo$187(v$1747))[0]) { case 1: {i$$1702 = v$1747;
 break; }default: {i$$1702 = (basics$ElabInfo$.retractRight$247(v$1747,basics$PostElabGrammar$$2.get_info_exp$234(v$1751)));
} };
var v$1726;
switch (v$1762[0]) { case 0: {var v$1744 = v$1762[1];
var v$1740 = fix$6290.$elab_valbind(v$2125,v$1744);
v$1726 = [v$1740[0],v$1740[1],[0,v$1740[2]]];
 break; }default: {v$1726 = [basics$StatObject$.Id$836,basics$Environments$.empty$1031,[1]];
} };
var v$1727 = v$1726[0];
var v$1728 = v$1726[1];
var v$1729 = v$1726[2];
var intdom$1711 = edlib$EqSet$.intersect$229(function(v$6235){return syntax_objects$Ident$.eq_id$237(v$6235[0],v$6235[1]);
},basics$Environments$.dom$1145(v$1755),basics$Environments$.dom$1145(v$1728));
if (edlib$EqSet$.isEmpty$110(intdom$1711)) {var v$1720;
var fix$6343 = {};
fix$6343.$filter = function(v$4858){lab$filter: while (true) {if (v$4858 == null) {return null;
} else {var v$4859 = v$4858;
var v$4860 = v$4859[0];
var v$4861 = v$4859[1];
if (basics$PreElabDecGrammar$$2.is_$true$_$nil$_etc$1823(v$4860)) {return [v$4860,fix$6343.$filter(v$4861)];
} else {var t$6344 = v$4861;
var v$4858 = t$6344;
continue lab$filter;
};
};
};
};
var filter$4857 = fix$6343.$filter;
v$1720 = (filter$4857(edlib$EqSet$.list$98(basics$Environments$.dom$1145(v$1755))));
return (v$1720 == null)?[0,basics$Environments$.plus$1080(v$1755,v$1728),[1,[basics$ElabInfo$.plus_TypeInfo$118(i$$1702,[6,[v$1750,null]]),v$1757,v$1751,v$1729]]]:[v$1727,v$1728,[1,[basics$ElabInfo$.plus_ErrorInfo$92(i$$1702,[25,v$1720]),v$1757,v$1751,v$1729]]];
} else {var t$6354 = v$1727;
var t$6353 = v$1728;
var t$6352;
var t$6351;
var t$6345;
switch ((basics$ElabInfo$.to_ErrorInfo$187(i$$1702))[0]) { case 1: {var t$6350 = basics$ElabInfo$.plus_ErrorInfo$92;
var t$6349 = i$$1702;
var t$6348;
var t$6346;
var l$4873 = edlib$EqSet$.list$98(intdom$1711);
var fix$6347 = {};
fix$6347.$map = function(v$4875){if (v$4875 == null) {return null;
} else {var v$4876 = v$4875;
var v$4877 = v$4876[0];
var v$4878 = v$4876[1];
return [[5,v$4877],fix$6347.$map(v$4878)];
};
};
var map$4874 = fix$6347.$map;
t$6346 = (map$4874(l$4873));
t$6348 = [24,t$6346];
t$6345 = (t$6350(t$6349,t$6348));
 break; }default: {t$6345 = i$$1702;
} };
t$6351 = [t$6345,v$1757,v$1751,v$1729];
t$6352 = [1,t$6351];
return [t$6354,t$6353,t$6352];
};
 break; }default: {var v$2122 = v$2126[1];
var v$2123 = v$2122[0];
var v$2124 = v$2122[1];
var processID$1763 = function(v$1810,v$1811,v$1812,v$1813){var v$5957 = basics$Environments$.lookup$1111(v$1811,v$1813);
var v$5958 = basics$Environments$.lookup$1111(v$1812,v$1813);
switch (v$5957[0]) { case 0: {var v$1781 = v$5957[1];
switch (v$1781[0]) { case 0: {switch (v$5958[0]) { case 0: {var v$1785 = v$5958[1];
switch (v$1785[0]) { case 0: {var v$1807 = v$1781[1];
var v$1808 = v$1785[1];
var v$1806 = v$1807[1];
var v$1804 = v$1808[1];
switch ((basics$StatObject$.unify$3287(v$1806,v$1804))[0]) { case 1: {return [basics$StatObject$.Id$836,v$1810];
 break; }case 2: {return [basics$StatObject$.Id$836,basics$ElabInfo$.plus_ErrorInfo$92(v$1810,[11,[v$1806,v$1804]])];
 break; }default: {return [basics$StatObject$.Id$836,basics$ElabInfo$.plus_ErrorInfo$92(v$1810,[11,[v$1806,v$1804]])];
} };
 break; }default: {return tools$Crash$.impossible$50("ElabDec.processID");
} };
 break; }default: {return tools$Crash$.impossible$50("ElabDec.processID");
} };
 break; }default: {return tools$Crash$.impossible$50("ElabDec.processID");
} };
 break; }default: {return tools$Crash$.impossible$50("ElabDec.processID");
} };
};
var fix$6355 = {};
fix$6355.$traverseRecAtpat = function(v$2043,v$2044,v$2045){switch (v$2045[0]) { case 0: {return [basics$StatObject$.Id$836,v$2045];
 break; }case 1: {return [basics$StatObject$.Id$836,v$2045];
 break; }case 4: {var v$2026 = v$2045[1];
var v$2027 = v$2026[0];
var v$2028 = v$2026[1];
var v$2029 = v$2028[1];
var v$2030 = v$2029[0];
var v$2007 = (basics$Environments$.lookup_longid$3252(v$2125))(v$2030);
switch (v$2007[0]) { case 0: {switch (v$2007[1][0]) { case 2: {return [basics$StatObject$.Id$836,v$2045];
 break; }case 1: {return [basics$StatObject$.Id$836,v$2045];
 break; }default: {var v$4904 = syntax_objects$Ident$.decompose$87(v$2030);
if (v$4904[0] == null) {var v$4905 = v$4904[1];
var v$4906 = processID$1763(v$2027,v$2043,v$2044,v$4905);
return [v$4906[0],[4,[v$4906[1],v$2028]]];
} else {return tools$Crash$.impossible$50("ElabDec.traverseRecAtpat(longid)");
};
} };
 break; }default: {var v$4910 = syntax_objects$Ident$.decompose$87(v$2030);
if (v$4910[0] == null) {var v$4911 = v$4910[1];
var v$4912 = processID$1763(v$2027,v$2043,v$2044,v$4911);
return [v$4912[0],[4,[v$4912[1],v$2028]]];
} else {return tools$Crash$.impossible$50("ElabDec.traverseRecAtpat(longid)");
};
} };
 break; }case 2: {var v$1997 = v$2045[1];
var v$1998 = v$1997[0];
var v$1999 = v$1997[1];
switch (v$1999[0]) { case 1: {return [basics$StatObject$.Id$836,v$2045];
 break; }default: {var v$1996 = v$1999[1];
var v$1993 = fix$6355.$traverseRecPatrow(v$2043,v$2044,v$1996);
return [v$1993[0],[2,[v$1998,[0,v$1993[1]]]]];
} };
 break; }default: {var v$2040 = v$2045[1];
var v$2041 = v$2040[0];
var v$2042 = v$2040[1];
var v$2037 = fix$6355.$traverseRecPat(v$2043,v$2044,v$2042);
return [v$2037[0],[3,[v$2041,v$2037[1]]]];
} };
};
fix$6355.$traverseRecPat = function(v$1958,v$1959,v$1960){switch (v$1960[0]) { case 4: {var v$1955 = v$1960[1];
var v$1956 = v$1955[0];
var v$1957 = v$1955[1];
var v$1952 = fix$6355.$traverseRecAtpat(v$1958,v$1959,v$1957);
return [v$1952[0],[4,[v$1956,v$1952[1]]]];
 break; }case 3: {var v$1944 = v$1960[1];
var v$1945 = v$1944[0];
var v$1946 = v$1944[1];
var v$1947 = v$1944[2];
var v$1941 = fix$6355.$traverseRecAtpat(v$1958,v$1959,v$1947);
return [v$1941[0],[3,[v$1945,v$1946,v$1941[1]]]];
 break; }case 1: {var v$1933 = v$1960[1];
var v$1934 = v$1933[0];
var v$1935 = v$1933[1];
var v$1936 = v$1933[2];
var v$1930 = fix$6355.$traverseRecPat(v$1958,v$1959,v$1935);
return [v$1930[0],[1,[v$1934,v$1930[1],v$1936]]];
 break; }case 2: {var v$1918 = v$1960[1];
var v$1919 = v$1918[0];
var v$1920 = v$1918[1];
var v$1921 = v$1920[1];
var v$1922 = v$1921[0];
var v$1924 = v$1918[2];
var v$1925 = v$1918[3];
var v$1915 = fix$6355.$traverseRecPat(v$1958,v$1959,v$1925);
var v$1917 = v$1915[1];
return [0,[2,[(processID$1763(v$1919,v$1958,v$1959,v$1922))[1],v$1920,v$1924,v$1917]]];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.traverseRecPat(UNRES_INFIX)");
} };
};
fix$6355.$traverseRecPatrow = function(v$2091,v$2092,v$2093){switch (v$2093[0]) { case 1: {return [basics$StatObject$.Id$836,v$2093];
 break; }default: {var v$2086 = v$2093[1];
var v$2087 = v$2086[0];
var v$2088 = v$2086[1];
var v$2089 = v$2086[2];
var v$2090 = v$2086[3];
var t$6367 = 0;
var t$6366;
var t$6365;
var t$6364 = v$2087;
var t$6363 = v$2088;
var t$6362 = (fix$6355.$traverseRecPat(v$2091,v$2092,v$2089))[1];
var t$6361;
var t$6360;
switch (v$2090[0]) { case 1: {t$6360 = [basics$StatObject$.Id$836,[1]];
 break; }default: {var v$2082 = v$2090[1];
var v$2079 = fix$6355.$traverseRecPatrow(v$2091,v$2092,v$2082);
t$6360 = [v$2079[0],[0,v$2079[1]]];
} };
t$6361 = t$6360[1];
t$6365 = [t$6364,t$6363,t$6362,t$6361];
t$6366 = [0,t$6365];
return [t$6367,t$6366];
} };
};
var traverseRecAtpat$1815 = fix$6355.$traverseRecAtpat;
var traverseRecPat$1816 = fix$6355.$traverseRecPat;
var traverseRecPatrow$1814 = fix$6355.$traverseRecPatrow;
var fix$6356 = {};
fix$6356.$traverseRecValbind = function(v$1873,v$1874,v$1875){switch (v$1875[0]) { case 1: {var v$1859 = v$1875[1];
var v$1860 = v$1859[0];
var v$1861 = v$1859[1];
var v$1862 = v$1859[2];
var v$1863 = v$1859[3];
var v$1856 = traverseRecPat$1816(v$1873,v$1874,v$1861);
var v$1857 = v$1856[0];
var v$1858 = v$1856[1];
var v$1840;
switch (v$1863[0]) { case 0: {var v$1855 = v$1863[1];
v$1840 = [0,[0,(fix$6356.$traverseRecValbind(v$1873,v$1874,v$1855))[1]]];
 break; }default: {v$1840 = [v$1857,[1]];
} };
return [v$1840[0],[1,[v$1860,v$1858,v$1862,v$1840[1]]]];
 break; }default: {var v$1870 = v$1875[1];
var v$1871 = v$1870[0];
var v$1872 = v$1870[1];
var v$1867 = fix$6356.$traverseRecValbind(v$1873,v$1874,v$1872);
return [v$1867[0],[0,[v$1871,v$1867[1]]]];
} };
};
var traverseRecValbind$1817 = fix$6356.$traverseRecValbind;
var domain_list$2094 = dom_vb$492(v$2125,v$2124);
var VE$2105;
var fix$6357 = {};
fix$6357.$foldl = function(v$4924,v$4925){lab$foldl: while (true) {if (v$4925 == null) {return v$4924;
} else {var v$4926 = v$4925;
var v$4927 = v$4926[0];
var v$4928 = v$4926[1];
var t$6358 = basics$Environments$.plus$1080(v$4924,basics$Environments$.singleton_var$1037(v$4927,[null,basics$StatObject$.fresh_normal$1529(0)]));
var t$6359 = v$4928;
var v$4924 = t$6358;
var v$4925 = t$6359;
continue lab$foldl;
};
};
};
var foldl$4923 = fix$6357.$foldl;
VE$2105 = (foldl$4923(basics$Environments$.empty$1031,domain_list$2094));
var v$2118 = fix$6290.$elab_valbind(basics$Environments$.plus_VE$3208(v$2125,VE$2105),v$2124);
var v$2120 = v$2118[1];
var v$2121 = v$2118[2];
var v$2115 = traverseRecValbind$1817(VE$2105,v$2120,v$2121);
var v$2117 = v$2115[1];
return [0,v$2120,[0,[basics$ElabInfo$.from_ParseInfo$221(v$2123),v$2117]]];
} };
};
var elab_exprow$817 = fix$6290.$elab_exprow;
var elab_decs$811 = fix$6290.$elab_decs;
var elab_dec$812 = fix$6290.$elab_dec;
var elab_atexp$818 = fix$6290.$elab_atexp;
var elab_mrule$813 = fix$6290.$elab_mrule;
var elab_match$814 = fix$6290.$elab_match;
var elab_exp$$815 = fix$6290.$elab_exp$;
var elab_exp$816 = fix$6290.$elab_exp;
var elab_valbind$810 = fix$6290.$elab_valbind;
basics$ElabDec$.elab_dec$4059 = function(v$4075,v$4076){var v$4070 = elab_dec$812(v$4075,v$4076);
var v$4071 = v$4070[0];
var v$4072 = v$4070[1];
var v$4073 = v$4070[2];
var v$4074 = v$4070[3];
var t$6342 = v$4072;
var t$6341 = v$4073;
var t$6291;
var tau_to_overloadinginfo_alist$5458 = [[basics$StatObject$.Int31$2138,[9]],[[basics$StatObject$.Int32$2139,[8]],[[basics$StatObject$.IntInf$2140,[7]],[[basics$StatObject$.Real$2148,[6]],[[basics$StatObject$.String$2149,[5]],[[basics$StatObject$.Char$2151,[10]],[[basics$StatObject$.Word8$2152,[2]],[[basics$StatObject$.Word31$2153,[4]],[[basics$StatObject$.Word32$2154,[3]],null]]]]]]]]];
var fix$6292 = {};
fix$6292.$resolve_tau = function(tau$5460){var tau$$5461 = basics$StatObject$.on$845(v$4071,tau$5460);
var v$5462 = basics$StatObject$.to_TyVar$1513(tau$$5461);
switch (v$5462[0]) { case 1: {var v$5464 = basis$List$.find$361(function(v$5465){var v$5466 = v$5465[0];
return basics$StatObject$.eq$1159([tau$$5461,v$5466]);
},tau_to_overloadinginfo_alist$5458);
switch (v$5464[0]) { case 0: {return v$5464[1][1];
 break; }default: {return basics$OverloadingInfo$.resolvedIntDefault$62(0);
} };
 break; }default: {var v$5467 = v$5462[1];
if (basics$StatObject$.eq$1159([tau$$5461,tau$5460])) {var t$5468;
var ts$5470 = basics$StatObject$.resolve_overloaded$522(v$5467);
if ((special_objects$TyName$$3.member$2542(special_objects$TyName$$1.tyName_INT32$210[0],special_objects$TyName$$1.tyName_INT32$210[1],special_objects$TyName$$1.tyName_INT32$210[2],special_objects$TyName$$1.tyName_INT32$210[3],special_objects$TyName$$1.tyName_INT32$210[4],special_objects$TyName$$1.tyName_INT32$210[5]))(ts$5470)) {t$5468 = (((special_objects$TyName$$3.member$2542(special_objects$TyName$$1.tyName_INT31$206[0],special_objects$TyName$$1.tyName_INT31$206[1],special_objects$TyName$$1.tyName_INT31$206[2],special_objects$TyName$$1.tyName_INT31$206[3],special_objects$TyName$$1.tyName_INT31$206[4],special_objects$TyName$$1.tyName_INT31$206[5]))(ts$5470))?(basics$StatObject$.IntDefault$2141(0)):basics$StatObject$.Int32$2139);
} else {if ((special_objects$TyName$$3.member$2542(special_objects$TyName$$1.tyName_WORD32$226[0],special_objects$TyName$$1.tyName_WORD32$226[1],special_objects$TyName$$1.tyName_WORD32$226[2],special_objects$TyName$$1.tyName_WORD32$226[3],special_objects$TyName$$1.tyName_WORD32$226[4],special_objects$TyName$$1.tyName_WORD32$226[5]))(ts$5470)) {t$5468 = (((special_objects$TyName$$3.member$2542(special_objects$TyName$$1.tyName_WORD31$222[0],special_objects$TyName$$1.tyName_WORD31$222[1],special_objects$TyName$$1.tyName_WORD31$222[2],special_objects$TyName$$1.tyName_WORD31$222[3],special_objects$TyName$$1.tyName_WORD31$222[4],special_objects$TyName$$1.tyName_WORD31$222[5]))(ts$5470))?(basics$StatObject$.WordDefault$2155(0)):basics$StatObject$.Word32$2154);
} else {var t$6340 = tools$Crash$.impossible$50;
var t$6339;
var t$6338;
var t$6337 = "resolve_tv.hmm; maybe insert cases for string, etc; ts = {";
var t$6336;
var t$6335 = basis$String$.concatWith$173;
var t$6334 = ",";
var t$6332;
var l$5473 = special_objects$TyName$$3.list$2937(ts$5470);
var fix$6333 = {};
fix$6333.$map = function(v$5475){if (v$5475 == null) {return null;
} else {var v$5476 = v$5475;
var v$5477 = v$5476[0];
var v$5478 = v$5476[1];
return [special_objects$TyName$$1.pr_TyName$289(v$5477[0],v$5477[1],v$5477[2],v$5477[3],v$5477[4],v$5477[5]),fix$6333.$map(v$5478)];
};
};
var map$5474 = fix$6333.$map;
t$6332 = (map$5474(l$5473));
t$6336 = (t$6335(t$6334,t$6332));
t$6338 = (t$6337 + t$6336);
t$6339 = (t$6338 + "}");
t$5468 = (t$6340(t$6339));
};
};
basics$StatObject$.unify$3287(t$5468,tau$$5461);
var v$5480 = basis$List$.find$361(function(v$5481){var v$5482 = v$5481[0];
return basics$StatObject$.eq$1159([tau$$5461,v$5482]);
},tau_to_overloadinginfo_alist$5458);
switch (v$5480[0]) { case 0: {return v$5480[1][1];
 break; }default: {return basics$OverloadingInfo$.resolvedIntDefault$62(0);
} };
} else {return fix$6292.$resolve_tau(tau$$5461);
};
} };
};
var resolve_tau$5459 = fix$6292.$resolve_tau;
var resolve_i$5483 = function(ElabInfo$5484){var v$5485 = basics$ElabInfo$.to_TypeInfo$192(ElabInfo$5484);
switch (v$5485[0]) { case 0: {var v$5486 = v$5485[1];
var t$6302 = basics$ElabInfo$.plus_TypeInfo$118;
var t$6301 = ElabInfo$5484;
var t$6293;
switch (v$5486[0]) { case 10: {t$6293 = [10,[v$5486[1][0]]];
 break; }case 5: {var v$5490 = v$5486[1];
var v$5491 = v$5490[0];
t$6293 = [5,[basics$StatObject$.on$845(v$4071,v$5491)]];
 break; }case 1: {var v$5492 = v$5486[1];
var v$5493 = v$5492[0];
var t$6300;
var t$6299;
var fix$6298 = {};
fix$6298.$map = function(v$5495){if (v$5495 == null) {return null;
} else {var v$5496 = v$5495;
var v$5497 = v$5496[0];
var v$5498 = v$5496[1];
return [basics$StatObject$.on$845(v$4071,v$5497),fix$6298.$map(v$5498)];
};
};
var map$5494 = fix$6298.$map;
t$6299 = (map$5494(v$5493));
t$6300 = [t$6299];
t$6293 = [1,t$6300];
 break; }case 0: {var v$5500 = v$5486[1];
var v$5501 = v$5500[1];
var v$5502 = v$5500[0];
t$6293 = [0,[basics$StatObject$.on$845(v$4071,v$5502),v$5501]];
 break; }case 18: {var v$5503 = v$5486[1];
var v$5504 = v$5503[3];
var v$5505 = v$5503[0];
var v$5506 = v$5503[2];
var v$5507 = v$5503[1];
var t$6297;
var t$6296 = v$5505;
var t$6295;
var fix$6294 = {};
fix$6294.$map = function(v$5509){if (v$5509 == null) {return null;
} else {var v$5510 = v$5509;
var v$5511 = v$5510[0];
var v$5512 = v$5510[1];
return [basics$StatObject$.on$845(v$4071,v$5511),fix$6294.$map(v$5512)];
};
};
var map$5508 = fix$6294.$map;
t$6295 = (map$5508(v$5507));
t$6297 = [t$6296,t$6295,v$5506,v$5504];
t$6293 = [18,t$6297];
 break; }case 15: {var v$5514 = v$5486[1];
var v$5515 = v$5514[0];
var v$5516 = v$5514[1];
t$6293 = [15,[basics$StatObject$.on$845(v$4071,v$5515),v$5516]];
 break; }case 16: {var v$5517 = v$5486[1];
var v$5518 = v$5517[0];
switch (v$5518[0]) { case 1: {t$6293 = [16,[[1]]];
 break; }default: {var v$5519 = v$5518[1];
t$6293 = [16,[[0,basics$StatObject$.on$845(v$4071,v$5519)]]];
} };
 break; }case 2: {var v$5520 = v$5486[1];
t$6293 = [2,v$5520];
 break; }case 19: {var v$5521 = v$5486[1];
t$6293 = [19,[v$5521[0],v$5521[1]]];
 break; }case 14: {var v$5522 = v$5486[1];
var v$5523 = v$5522[0];
t$6293 = [14,[basics$StatObject$.on$845(v$4071,v$5523)]];
 break; }case 9: {var v$5524 = v$5486[1];
var v$5525 = v$5524[0];
t$6293 = [9,[basics$StatObject$.on$845(v$4071,v$5525)]];
 break; }case 6: {var v$5526 = v$5486[1];
var v$5527 = v$5526[1];
var v$5528 = v$5526[0];
t$6293 = [6,[basics$StatObject$.on$845(v$4071,v$5528),v$5527]];
 break; }case 7: {var v$5529 = v$5486[1];
t$6293 = [7,v$5529];
 break; }case 11: {var v$5530 = v$5486[1];
t$6293 = [11,v$5530];
 break; }case 12: {var v$5531 = v$5486[1];
t$6293 = [12,v$5531];
 break; }case 13: {var v$5532 = v$5486[1];
t$6293 = [13,v$5532];
 break; }case 3: {var v$5533 = v$5486[1];
t$6293 = [3,v$5533];
 break; }case 8: {var v$5534 = v$5486[1];
t$6293 = [8,v$5534];
 break; }case 4: {t$6293 = (tools$Crash$.impossible$50("ElabDec.on_TypeInfo.SIGBIND_INFO"));
 break; }default: {t$6293 = (tools$Crash$.impossible$50("ElabDec.on_TypeInfo.DELAYED_REALISATION"));
} };
return t$6302(t$6301,t$6293);
 break; }default: {return ElabInfo$5484;
} };
};
var en$DDD_IS_EMPTY$3557 = new String("DDD_IS_EMPTY");
var exn$DDD_IS_EMPTY$3557 = [en$DDD_IS_EMPTY$3557];
var fix$6303 = {};
fix$6303.$resolve_patrow = function(patrow$5631){switch (patrow$5631[0]) { case 1: {var v$5632 = patrow$5631[1];
var v$5633 = basics$ElabInfo$.to_OverloadingInfo$197(v$5632);
switch (v$5633[0]) { case 1: {return patrow$5631;
 break; }default: {var v$5634 = v$5633[1];
switch (v$5634[0]) { case 1: {var v$5635 = v$5634[1];
var t$6323;
var fix$6321 = {};
fix$6321.$loop = function(typ$5638){lab$loop: while (true) {var typ$$5639 = basics$StatObject$.on$845(v$4071,typ$5638);
if (basics$StatObject$.eq$1159([typ$$5639,typ$5638])) {return typ$5638;
} else {var t$6322 = typ$$5639;
var typ$5638 = t$6322;
continue lab$loop;
};
};
};
var loop$5637 = fix$6321.$loop;
t$6323 = ((basics$StatObject$.contains_row_variable$1550(loop$5637(basics$StatObject$.from_RecType$1530(v$5635))))?1:0);
switch (t$6323) { case 0: {var i0$5640 = basics$ElabInfo$.from_ParseInfo$221(basics$ElabInfo$.to_ParseInfo$182(v$5632));
var labs_and_types$5641 = basics$StatObject$.to_list$1753(v$5635);
var v$5642;
var b$5649 = [1];
var fix$6324 = {};
fix$6324.$foldr = function(v$5652){if (v$5652 == null) {return b$5649;
} else {var v$5653 = v$5652;
var v$5654 = v$5653[0];
var v$5655 = v$5653[1];
var v$6107 = fix$6324.$foldr(v$5655);
var v$5803 = v$5654[0];
var v$5804 = v$5654[1];
return [0,[0,[basics$ElabInfo$.plus_TypeInfo$118(i0$5640,[10,[0]]),v$5803,[4,[i0$5640,[0,basics$ElabInfo$.plus_TypeInfo$118(i0$5640,[0,[v$5804,null]])]]],v$6107]]];
};
};
var foldr$5651 = fix$6324.$foldr;
v$5642 = (foldr$5651(labs_and_types$5641));
switch (v$5642[0]) { case 0: {return v$5642[1];
 break; }default: {throw exn$DDD_IS_EMPTY$3557;
} };
 break; }default: {return [1,basics$ElabInfo$.plus_ErrorInfo$92(v$5632,[35])];
} };
 break; }default: {return tools$Crash$.impossible$50("ElabDec.resolve_patrow");
} };
} };
 break; }default: {var v$5658 = patrow$5631[1];
var v$5659 = v$5658[3];
switch (v$5659[0]) { case 1: {var v$5660 = v$5658[0];
var v$5661 = v$5658[1];
var v$5662 = v$5658[2];
return [0,[resolve_i$5483(v$5660),v$5661,fix$6303.$resolve_pat(v$5662),[1]]];
 break; }default: {var v$5663 = v$5658[0];
var v$5664 = v$5658[1];
var v$5665 = v$5658[2];
var v$5666 = v$5659[1];
var t$6331;
var t$6330 = resolve_i$5483(v$5663);
var t$6329 = v$5664;
var t$6328 = fix$6303.$resolve_pat(v$5665);
var t$6326;
try {t$6326 = [0,fix$6303.$resolve_patrow(v$5666)];
} catch(v$6325) {t$6326 = ((function(DDD_IS_EMPTY$5667){var t$6327 = DDD_IS_EMPTY$5667;
if (t$6327[0] == en$DDD_IS_EMPTY$3557) {return [1];
} else {throw DDD_IS_EMPTY$5667;
};
})(v$6325));
};
t$6331 = [t$6330,t$6329,t$6328,t$6326];
return [0,t$6331];
} };
} };
};
fix$6303.$resolve_atpat = function(atpat$5559){switch (atpat$5559[0]) { case 0: {return atpat$5559;
 break; }case 1: {var v$5560 = atpat$5559[1];
var v$5561 = v$5560[0];
var v$5562 = v$5560[1];
var v$5563 = basics$ElabInfo$.to_OverloadingInfo$197(v$5561);
switch (v$5563[0]) { case 1: {return [1,[resolve_i$5483(v$5561),v$5562]];
 break; }default: {var v$5564 = v$5563[1];
switch (v$5564[0]) { case 0: {var v$5565 = v$5564[1];
return [1,[basics$ElabInfo$.plus_OverloadingInfo$143(v$5561,resolve_tau$5459(basics$StatObject$.from_TyVar$1509(v$5565))),v$5562]];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.resolve_atpat.SCON");
} };
} };
 break; }case 4: {var v$5572 = atpat$5559[1];
var v$5573 = v$5572[0];
var v$5574 = v$5572[1];
return [4,[resolve_i$5483(v$5573),v$5574]];
 break; }case 2: {var v$5575 = atpat$5559[1];
var v$5576 = v$5575[1];
switch (v$5576[0]) { case 1: {var v$5577 = v$5575[0];
return [2,[resolve_i$5483(v$5577),[1]]];
 break; }default: {var v$5578 = v$5575[0];
var v$5579 = v$5576[1];
var i$$5580 = resolve_i$5483(v$5578);
try {var patrow$$5581 = fix$6303.$resolve_patrow(v$5579);
var v$5582 = basics$ElabInfo$.to_TypeInfo$192(i$$5580);
switch (v$5582[0]) { case 0: {var v$5583 = v$5582[1];
switch (v$5583[0]) { case 5: {var v$5584 = v$5583[1];
var v$5585 = v$5584[0];
var t$6319;
var t$6318 = i$$5580;
var t$6317;
var t$6306;
var recType$5589;
var v$5590 = basics$StatObject$.to_RecType$1534(v$5585);
switch (v$5590[0]) { case 1: {recType$5589 = (tools$Crash$.impossible$50("ElabDec.addLabelIndexInfo"));
 break; }default: {recType$5589 = v$5590[1];
} };
var labtys$5595 = basics$StatObject$.to_list$1753(recType$5589);
var sortedLabs$5596;
var fix$6307 = {};
fix$6307.$map = function(v$5598){if (v$5598 == null) {return null;
} else {var v$5599 = v$5598;
var v$5600 = v$5599[0];
var v$5601 = v$5599[1];
return [v$5600[0],fix$6307.$map(v$5601)];
};
};
var map$5597 = fix$6307.$map;
sortedLabs$5596 = (map$5597(labtys$5595));
var fix$6308 = {};
fix$6308.$f = function(v$5603){switch (v$5603[0]) { case 0: {var v$5604 = v$5603[1];
var v$5605 = v$5604[0];
var v$5606 = v$5604[1];
var v$5607 = v$5604[2];
var v$5608 = v$5604[3];
switch ((basics$ElabInfo$.to_ErrorInfo$187(v$5605))[0]) { case 1: {var index$5609;
var v$5610;
var fix$6309 = {};
fix$6309.$count = function(v$6216,v$6217){lab$count: while (true) {if (v$6216 == null) {return [1];
} else {var v$6218 = v$6216;
var v$6219 = v$6218[0];
var v$6220 = v$6218[1];
if (syntax_objects$Lab$.eq_lab$138(v$6219,v$5606)) {return [0,v$6217];
} else {var t$6310 = v$6220;
var t$6311 = SmlPrims.chk_ovf_i32(v$6217 + 1);
var v$6216 = t$6310;
var v$6217 = t$6311;
continue lab$count;
};
};
};
};
var count$6215 = fix$6309.$count;
v$5610 = (count$6215(sortedLabs$5596,0));
switch (v$5610[0]) { case 0: {index$5609 = v$5610[1];
 break; }default: {index$5609 = (tools$Crash$.impossible$50("ElabDec.where'"));
} };
var t$6316;
var t$6315 = basics$ElabInfo$.plus_TypeInfo$118(v$5605,[10,[index$5609]]);
var t$6314 = v$5606;
var t$6313 = v$5607;
var t$6312;
switch (v$5608[0]) { case 0: {var v$5619 = v$5608[1];
t$6312 = [0,fix$6308.$f(v$5619)];
 break; }default: {t$6312 = [1];
} };
t$6316 = [t$6315,t$6314,t$6313,t$6312];
return [0,t$6316];
 break; }default: {return [0,[v$5605,v$5606,v$5607,v$5608]];
} };
 break; }default: {var v$5620 = v$5603[1];
return [1,v$5620];
} };
};
var f$5602 = fix$6308.$f;
t$6306 = (f$5602(patrow$$5581));
t$6317 = [0,t$6306];
t$6319 = [t$6318,t$6317];
return [2,t$6319];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.resolve_atpat(RECORDatpat): wrong typeinfo");
} };
 break; }default: {return tools$Crash$.impossible$50("ElabDec.resolve_atpat(RECORDatpat): no typeinfo");
} };
} catch(v$6305) {return (function(DDD_IS_EMPTY$5627){var t$6320 = DDD_IS_EMPTY$5627;
if (t$6320[0] == en$DDD_IS_EMPTY$3557) {return [2,[i$$5580,[1]]];
} else {throw DDD_IS_EMPTY$5627;
};
})(v$6305);
};
} };
 break; }default: {var v$5628 = atpat$5559[1];
var v$5629 = v$5628[0];
var v$5630 = v$5628[1];
return [3,[resolve_i$5483(v$5629),fix$6303.$resolve_pat(v$5630)]];
} };
};
fix$6303.$resolve_pat = function(pat$5540){switch (pat$5540[0]) { case 4: {var v$5541 = pat$5540[1];
var v$5542 = v$5541[0];
var v$5543 = v$5541[1];
return [4,[resolve_i$5483(v$5542),fix$6303.$resolve_atpat(v$5543)]];
 break; }case 3: {var v$5544 = pat$5540[1];
var v$5545 = v$5544[0];
var v$5546 = v$5544[1];
var v$5547 = v$5544[2];
return [3,[resolve_i$5483(v$5545),v$5546,fix$6303.$resolve_atpat(v$5547)]];
 break; }case 1: {var v$5548 = pat$5540[1];
var v$5549 = v$5548[0];
var v$5550 = v$5548[1];
var v$5551 = v$5548[2];
return [1,[resolve_i$5483(v$5549),fix$6303.$resolve_pat(v$5550),v$5551]];
 break; }case 2: {var v$5552 = pat$5540[1];
var v$5553 = v$5552[0];
var v$5554 = v$5552[1];
var v$5555 = v$5552[2];
var v$5556 = v$5552[3];
return [2,[resolve_i$5483(v$5553),v$5554,v$5555,fix$6303.$resolve_pat(v$5556)]];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.resolve_pat(UNRES_INFIX)");
} };
};
var resolve_patrow$5539 = fix$6303.$resolve_patrow;
var resolve_atpat$5538 = fix$6303.$resolve_atpat;
var resolve_pat$5537 = fix$6303.$resolve_pat;
var fix$6304 = {};
fix$6304.$resolve_exprow = function(exprow$5791){var v$5792 = exprow$5791[1];
var v$5793 = v$5792[3];
switch (v$5793[0]) { case 1: {var v$5794 = v$5792[0];
var v$5795 = v$5792[1];
var v$5796 = v$5792[2];
return [0,[resolve_i$5483(v$5794),v$5795,fix$6304.$resolve_exp(v$5796),[1]]];
 break; }default: {var v$5797 = v$5792[0];
var v$5798 = v$5792[1];
var v$5799 = v$5792[2];
var v$5800 = v$5793[1];
return [0,[resolve_i$5483(v$5797),v$5798,fix$6304.$resolve_exp(v$5799),[0,fix$6304.$resolve_exprow(v$5800)]]];
} };
};
fix$6304.$resolve_dec = function(dec$5762){switch (dec$5762[0]) { case 0: {var v$5763 = dec$5762[1];
var v$5764 = v$5763[0];
var v$5765 = v$5763[1];
var v$5766 = v$5763[2];
return [0,[resolve_i$5483(v$5764),v$5765,fix$6304.$resolve_valbind(v$5766)]];
 break; }case 1: {return tools$Crash$.impossible$50("ElabDec.resolve_dec(UNRES_FUNdec)");
 break; }case 2: {return dec$5762;
 break; }case 11: {var v$5769 = dec$5762[1];
var v$5770 = v$5769[0];
var v$5771 = v$5769[1];
return [11,[resolve_i$5483(v$5770),v$5771]];
 break; }case 12: {var v$5772 = dec$5762[1];
var v$5773 = v$5772[0];
var v$5774 = v$5772[1];
var v$5775 = v$5772[2];
return [12,[resolve_i$5483(v$5773),v$5774,v$5775]];
 break; }case 13: {var v$5776 = dec$5762[1];
var v$5777 = v$5776[0];
var v$5778 = v$5776[1];
var v$5779 = v$5776[2];
return [13,[resolve_i$5483(v$5777),v$5778,fix$6304.$resolve_dec(v$5779)]];
 break; }case 9: {var v$5780 = dec$5762[1];
var v$5781 = v$5780[0];
var v$5782 = v$5780[1];
return [9,[resolve_i$5483(v$5781),v$5782]];
 break; }case 6: {var v$5783 = dec$5762[1];
var v$5784 = v$5783[0];
var v$5785 = v$5783[1];
var v$5786 = v$5783[2];
return [6,[resolve_i$5483(v$5784),fix$6304.$resolve_dec(v$5785),fix$6304.$resolve_dec(v$5786)]];
 break; }case 4: {return dec$5762;
 break; }case 3: {var v$5787 = dec$5762[1];
var v$5788 = v$5787[0];
var v$5789 = v$5787[1];
var v$5790 = v$5787[2];
return [3,[resolve_i$5483(v$5788),fix$6304.$resolve_dec(v$5789),fix$6304.$resolve_dec(v$5790)]];
 break; }case 7: {return dec$5762;
 break; }case 8: {return dec$5762;
 break; }case 5: {return dec$5762;
 break; }default: {return dec$5762;
} };
};
fix$6304.$resolve_atexp = function(atexp$5725){switch (atexp$5725[0]) { case 0: {var v$5726 = atexp$5725[1];
var v$5727 = v$5726[0];
var v$5728 = v$5726[1];
var v$5729 = basics$ElabInfo$.to_OverloadingInfo$197(v$5727);
switch (v$5729[0]) { case 1: {return [0,[resolve_i$5483(v$5727),v$5728]];
 break; }default: {var v$5730 = v$5729[1];
switch (v$5730[0]) { case 0: {var v$5731 = v$5730[1];
return [0,[basics$ElabInfo$.plus_OverloadingInfo$143(v$5727,resolve_tau$5459(basics$StatObject$.from_TyVar$1509(v$5731))),v$5728]];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.resolve_atexp.SCON");
} };
} };
 break; }case 4: {var v$5738 = atexp$5725[1];
var v$5739 = v$5738[0];
var v$5740 = v$5738[1];
var v$5741 = basics$ElabInfo$.to_OverloadingInfo$197(v$5739);
switch (v$5741[0]) { case 1: {return [4,[resolve_i$5483(v$5739),v$5740]];
 break; }default: {var v$5742 = v$5741[1];
switch (v$5742[0]) { case 0: {var v$5743 = v$5742[1];
return [4,[basics$ElabInfo$.plus_OverloadingInfo$143(v$5739,resolve_tau$5459(basics$StatObject$.from_TyVar$1509(v$5743))),v$5740]];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.resolve_atexp");
} };
} };
 break; }case 1: {var v$5750 = atexp$5725[1];
var v$5751 = v$5750[1];
switch (v$5751[0]) { case 1: {var v$5752 = v$5750[0];
return [1,[resolve_i$5483(v$5752),[1]]];
 break; }default: {var v$5753 = v$5750[0];
var v$5754 = v$5751[1];
return [1,[resolve_i$5483(v$5753),[0,fix$6304.$resolve_exprow(v$5754)]]];
} };
 break; }case 3: {var v$5755 = atexp$5725[1];
var v$5756 = v$5755[0];
var v$5757 = v$5755[1];
var v$5758 = v$5755[2];
return [3,[resolve_i$5483(v$5756),fix$6304.$resolve_dec(v$5757),fix$6304.$resolve_exp(v$5758)]];
 break; }default: {var v$5759 = atexp$5725[1];
var v$5760 = v$5759[0];
var v$5761 = v$5759[1];
return [2,[resolve_i$5483(v$5760),fix$6304.$resolve_exp(v$5761)]];
} };
};
fix$6304.$resolve_mrule = function(v$5720){var v$5721 = v$5720[1];
var v$5722 = v$5721[0];
var v$5723 = v$5721[1];
var v$5724 = v$5721[2];
return [0,[resolve_i$5483(v$5722),resolve_pat$5537(v$5723),fix$6304.$resolve_exp(v$5724)]];
};
fix$6304.$resolve_match = function(match$5712){var v$5713 = match$5712[1];
var v$5714 = v$5713[2];
switch (v$5714[0]) { case 1: {var v$5715 = v$5713[0];
var v$5716 = v$5713[1];
return [0,[resolve_i$5483(v$5715),fix$6304.$resolve_mrule(v$5716),[1]]];
 break; }default: {var v$5717 = v$5713[0];
var v$5718 = v$5713[1];
var v$5719 = v$5714[1];
return [0,[resolve_i$5483(v$5717),fix$6304.$resolve_mrule(v$5718),[0,fix$6304.$resolve_match(v$5719)]]];
} };
};
fix$6304.$resolve_exp = function(exp$5688){switch (exp$5688[0]) { case 5: {var v$5689 = exp$5688[1];
var v$5690 = v$5689[0];
var v$5691 = v$5689[1];
return [5,[resolve_i$5483(v$5690),fix$6304.$resolve_atexp(v$5691)]];
 break; }case 6: {var v$5692 = exp$5688[1];
var v$5693 = v$5692[0];
var v$5694 = v$5692[1];
var v$5695 = v$5692[2];
return [6,[resolve_i$5483(v$5693),fix$6304.$resolve_exp(v$5694),fix$6304.$resolve_atexp(v$5695)]];
 break; }case 1: {var v$5696 = exp$5688[1];
var v$5697 = v$5696[0];
var v$5698 = v$5696[1];
var v$5699 = v$5696[2];
return [1,[resolve_i$5483(v$5697),fix$6304.$resolve_exp(v$5698),v$5699]];
 break; }case 3: {var v$5700 = exp$5688[1];
var v$5701 = v$5700[0];
var v$5702 = v$5700[1];
var v$5703 = v$5700[2];
return [3,[resolve_i$5483(v$5701),fix$6304.$resolve_exp(v$5702),fix$6304.$resolve_match(v$5703)]];
 break; }case 2: {var v$5704 = exp$5688[1];
var v$5705 = v$5704[0];
var v$5706 = v$5704[1];
return [2,[resolve_i$5483(v$5705),fix$6304.$resolve_exp(v$5706)]];
 break; }case 4: {var v$5707 = exp$5688[1];
var v$5708 = v$5707[0];
var v$5709 = v$5707[1];
return [4,[resolve_i$5483(v$5708),fix$6304.$resolve_match(v$5709)]];
 break; }default: {return tools$Crash$.impossible$50("ElabDec.resolve_exp(UNRES_INFIX)");
} };
};
fix$6304.$resolve_valbind = function(valbind$5675){switch (valbind$5675[0]) { case 1: {var v$5676 = valbind$5675[1];
var v$5677 = v$5676[3];
switch (v$5677[0]) { case 1: {var v$5678 = v$5676[0];
var v$5679 = v$5676[1];
var v$5680 = v$5676[2];
return [1,[v$5678,resolve_pat$5537(v$5679),fix$6304.$resolve_exp(v$5680),[1]]];
 break; }default: {var v$5681 = v$5676[0];
var v$5682 = v$5676[1];
var v$5683 = v$5676[2];
var v$5684 = v$5677[1];
return [1,[v$5681,resolve_pat$5537(v$5682),fix$6304.$resolve_exp(v$5683),[0,fix$6304.$resolve_valbind(v$5684)]]];
} };
 break; }default: {var v$5685 = valbind$5675[1];
var v$5686 = v$5685[0];
var v$5687 = v$5685[1];
return [0,[v$5686,fix$6304.$resolve_valbind(v$5687)]];
} };
};
var resolve_exprow$5674 = fix$6304.$resolve_exprow;
var resolve_dec$5673 = fix$6304.$resolve_dec;
var resolve_atexp$5672 = fix$6304.$resolve_atexp;
var resolve_mrule$5671 = fix$6304.$resolve_mrule;
var resolve_match$5670 = fix$6304.$resolve_match;
var resolve_exp$5669 = fix$6304.$resolve_exp;
var resolve_valbind$5668 = fix$6304.$resolve_valbind;
t$6291 = (resolve_dec$5673(v$4074));
return [t$6342,t$6341,t$6291];
};
return 0;
})();
