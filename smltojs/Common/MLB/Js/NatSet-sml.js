if ((typeof(tools$NatSet$)) == "undefined") {tools$NatSet$ = {};
};
(function(){var fix$1275 = {};
fix$1275.$eq_natset = function(v$814,v$815){lab$eq_natset: while (true) {if (v$814 == null) {return (v$815 == null)?true:false;
} else {if (v$815 == null) {return false;
} else {var v$816 = v$814;
var v$817 = v$815;
if (v$816[0] == v$817[0]) {if (fix$1275.$eq_natset(v$816[1],v$817[1])) {var t$1276 = v$816[2];
var t$1277 = v$817[2];
var v$814 = t$1276;
var v$815 = t$1277;
continue lab$eq_natset;
} else {return false;
};
} else {return false;
};
};
};
};
};
tools$NatSet$.eq_natset$812 = fix$1275.$eq_natset;
var fix$1278 = {};
fix$1278.$member = function(v$1256,v$97){lab$member: while (true) {if (v$97 == null) {return false;
} else {var v$108 = v$97;
var v$109 = v$108[0];
var v$110 = v$108[1];
var v$111 = v$108[2];
if (v$1256 < 31) {var v$1195 = ((v$1256 >= 32)?0:(v$109 >>> v$1256)) & 1;
return (v$1195 == 0)?false:true;
} else {var t$1279;
var v$1086 = v$1256 & 1;
t$1279 = ((v$1086 == 0)?false:true);
if (t$1279) {var t$1280 = ((v$1256 - 31) & 4294967295) >>> 1;
var t$1281 = v$110;
var v$1256 = t$1280;
var v$97 = t$1281;
continue lab$member;
} else {var t$1282 = ((((v$1256 - 31) & 4294967295) - 1) & 4294967295) >>> 1;
var t$1283 = v$111;
var v$1256 = t$1282;
var v$97 = t$1283;
continue lab$member;
};
};
};
};
};
var member$84 = fix$1278.$member;
var fix$1284 = {};
fix$1284.$add0 = function(v$125,v$1257){if (v$125 == null) {if (v$1257 < 31) {return [0 | ((v$1257 >= 32)?0:((1 << (v$1257 & 31)) & 4294967295)),null,null];
} else {var t$1336;
var v$1100 = v$1257 & 1;
t$1336 = ((v$1100 == 0)?false:true);
return t$1336?[0,fix$1284.$add0(null,((v$1257 - 31) & 4294967295) >>> 1),null]:[0,null,fix$1284.$add0(null,((((v$1257 - 31) & 4294967295) - 1) & 4294967295) >>> 1)];
};
} else {var v$143 = v$125;
var v$144 = v$143[0];
var v$145 = v$143[1];
var v$146 = v$143[2];
if (v$1257 < 31) {return [v$144 | ((v$1257 >= 32)?0:((1 << (v$1257 & 31)) & 4294967295)),v$145,v$146];
} else {var t$1337;
var v$1114 = v$1257 & 1;
t$1337 = ((v$1114 == 0)?false:true);
return t$1337?[v$144,fix$1284.$add0(v$145,((v$1257 - 31) & 4294967295) >>> 1),v$146]:[v$144,v$145,fix$1284.$add0(v$146,((((v$1257 - 31) & 4294967295) - 1) & 4294967295) >>> 1)];
};
};
};
var add0$112 = fix$1284.$add0;
tools$NatSet$.singleton$148 = function(i$151){return add0$112(null,i$151);
};
var fix$1285 = {};
fix$1285.$union = function(v$257,v$1258){if (v$257 == null) {return v$1258;
} else {if (v$1258 == null) {return v$257;
} else {var v$260 = v$257;
var v$261 = v$260[0];
var v$262 = v$260[1];
var v$263 = v$260[2];
var v$264 = v$1258;
var v$265 = v$264[0];
var v$266 = v$264[1];
var v$267 = v$264[2];
return [v$261 | v$265,fix$1285.$union(v$262,v$266),fix$1285.$union(v$263,v$267)];
};
};
};
var union$239 = fix$1285.$union;
var fix$1286 = {};
fix$1286.$intersection = function(v$286,v$1259){if (v$286 == null) {return null;
} else {if (v$1259 == null) {return null;
} else {var v$289 = v$286;
var v$290 = v$289[0];
var v$291 = v$289[1];
var v$292 = v$289[2];
var v$293 = v$1259;
var v$294 = v$293[0];
var v$295 = v$293[1];
var v$296 = v$293[2];
var v$918 = [v$290 & v$294,fix$1286.$intersection(v$291,v$295),fix$1286.$intersection(v$292,v$296)];
switch (v$918[0]) { case 0: {return (v$918[1] == null)?((v$918[2] == null)?null:v$918):v$918;
 break; }default: {return v$918;
} };
};
};
};
var intersection$268 = fix$1286.$intersection;
var fix$1287 = {};
fix$1287.$difference = function(v$315,v$1260){if (v$315 == null) {return null;
} else {if (v$1260 == null) {return v$315;
} else {var v$318 = v$315;
var v$319 = v$318[0];
var v$320 = v$318[1];
var v$321 = v$318[2];
var v$322 = v$1260;
var v$323 = v$322[0];
var v$324 = v$322[1];
var v$325 = v$322[2];
var v$920 = [v$319 & (v$323 ^ 4294967295),fix$1287.$difference(v$320,v$324),fix$1287.$difference(v$321,v$325)];
switch (v$920[0]) { case 0: {return (v$920[1] == null)?((v$920[2] == null)?null:v$920):v$920;
 break; }default: {return v$920;
} };
};
};
};
var difference$297 = fix$1287.$difference;
var fix$1288 = {};
fix$1288.$delete0 = function(v$339,v$1261){if (v$339 == null) {return null;
} else {var v$349 = v$339;
var v$350 = v$349[0];
var v$351 = v$349[1];
var v$352 = v$349[2];
if (v$1261 < 31) {var v$923 = [v$350 & (((v$1261 >= 32)?0:((1 << (v$1261 & 31)) & 4294967295)) ^ 4294967295),v$351,v$352];
switch (v$923[0]) { case 0: {return (v$923[1] == null)?((v$923[2] == null)?null:v$923):v$923;
 break; }default: {return v$923;
} };
} else {var t$1335;
var v$1134 = v$1261 & 1;
t$1335 = ((v$1134 == 0)?false:true);
if (t$1335) {var v$937 = [v$350,fix$1288.$delete0(v$351,((v$1261 - 31) & 4294967295) >>> 1),v$352];
switch (v$937[0]) { case 0: {return (v$937[1] == null)?((v$937[2] == null)?null:v$937):v$937;
 break; }default: {return v$937;
} };
} else {var v$941 = [v$350,v$351,fix$1288.$delete0(v$352,((((v$1261 - 31) & 4294967295) - 1) & 4294967295) >>> 1)];
switch (v$941[0]) { case 0: {return (v$941[1] == null)?((v$941[2] == null)?null:v$941):v$941;
 break; }default: {return v$941;
} };
};
};
};
};
var delete0$326 = fix$1288.$delete0;
var foldset$402 = function(f$405,v$409){var v$473 = v$409[0];
var v$474 = v$409[1];
var fix$1289 = {};
fix$1289.$sl = function(v$1262,v$1263,v$460,v$1264){if (v$460 == null) {return v$1264;
} else {var v$468 = v$460;
var v$469 = v$468[0];
var v$470 = v$468[1];
var v$471 = v$468[2];
var temp$464 = (v$1262 + ((v$1263 * 31) & 4294967295)) & 4294967295;
var d$$465 = (2 * v$1263) & 4294967295;
var t$1307 = fix$1289.$sl;
var t$1306 = temp$464;
var t$1305 = d$$465;
var t$1304 = v$470;
var t$1303;
var t$1302 = fix$1289.$sl;
var t$1301 = (temp$464 + v$1263) & 4294967295;
var t$1300 = d$$465;
var t$1299 = v$471;
var t$1298;
var fix$1290 = {};
fix$1290.$slb$ = function(v$960,v$1265,v$1266){lab$slb$: while (true) {switch (v$960) { case 0: {return v$1266;
 break; }default: {var t$1291;
var v$1204 = ((v$1265 >= 32)?0:(v$960 >>> v$1265)) & 1;
t$1291 = ((v$1204 == 0)?false:true);
if (t$1291) {var t$1292 = v$960 & (((v$1265 >= 32)?0:((1 << (v$1265 & 31)) & 4294967295)) ^ 4294967295);
var t$1293 = (v$1265 + 1) & 4294967295;
var t$1294 = f$405([v$1266,(v$1262 + ((v$1263 * v$1265) & 4294967295)) & 4294967295]);
var v$960 = t$1292;
var v$1265 = t$1293;
var v$1266 = t$1294;
continue lab$slb$;
} else {var t$1295 = v$960;
var t$1296 = (v$1265 + 1) & 4294967295;
var t$1297 = v$1266;
var v$960 = t$1295;
var v$1265 = t$1296;
var v$1266 = t$1297;
continue lab$slb$;
};
} };
};
};
var slb$$958 = fix$1290.$slb$;
t$1298 = (slb$$958(v$469,0,v$1264));
t$1303 = (t$1302(t$1301,t$1300,t$1299,t$1298));
return t$1307(t$1306,t$1305,t$1304,t$1303);
};
};
var sl$443 = fix$1289.$sl;
return sl$443(0,1,v$474,v$473);
};
var fix$1308 = {};
fix$1308.$natsetof = function(v$501){lab$natsetof: while (true) {if (v$501 == null) {return null;
} else {var v$508 = v$501;
var v$509 = v$508[0];
var v$510 = v$508[1];
var v$1152 = fix$1308.$natsetof(v$510);
if (member$84(v$509,v$1152)) {return v$1152;
} else {return add0$112(v$1152,v$509);
};
};
};
};
var natsetof$498 = fix$1308.$natsetof;
var setfilter$522 = function(p$525,t$528){var fix$1309 = {};
fix$1309.$h = function(v$1267,v$1268,v$572){if (v$572 == null) {return null;
} else {var v$577 = v$572;
var v$578 = v$577[0];
var v$579 = v$577[1];
var v$580 = v$577[2];
var v$981;
var t$1317;
var fix$1310 = {};
fix$1310.$h$$ = function(v$987,v$988){lab$h$$: while (true) {if (v$987 < 31) {var t$1312;
var t$1311;
var v$1209 = ((v$987 >= 32)?0:(v$578 >>> v$987)) & 1;
t$1311 = ((v$1209 == 0)?false:true);
t$1312 = (t$1311?(p$525((v$1267 + ((2 * v$987) & 4294967295)) & 4294967295)):false);
if (t$1312) {var t$1313 = (v$987 + 1) & 4294967295;
var t$1314 = v$988 | ((v$987 >= 32)?0:((1 << (v$987 & 31)) & 4294967295));
var v$987 = t$1313;
var v$988 = t$1314;
continue lab$h$$;
} else {var t$1315 = (v$987 + 1) & 4294967295;
var t$1316 = v$988;
var v$987 = t$1315;
var v$988 = t$1316;
continue lab$h$$;
};
} else {return v$988;
};
};
};
var h$$$985 = fix$1310.$h$$;
t$1317 = (h$$$985(0,0));
v$981 = [t$1317,fix$1309.$h((v$1267 + ((v$1268 * 31) & 4294967295)) & 4294967295,(2 * v$1268) & 4294967295,v$579),fix$1309.$h((v$1267 + ((v$1268 * ((31 + 1) & 4294967295)) & 4294967295)) & 4294967295,(2 * v$1268) & 4294967295,v$580)];
switch (v$981[0]) { case 0: {return (v$981[1] == null)?((v$981[2] == null)?null:v$981):v$981;
 break; }default: {return v$981;
} };
};
};
var h$557 = fix$1309.$h;
return h$557(0,1,t$528);
};
tools$NatSet$.size$581 = function(is$996){var fix$1318 = {};
fix$1318.$count = function(v$999,v$1269,v$1270){lab$count: while (true) {switch (v$999) { case 0: {return v$1270;
 break; }default: {var t$1319;
var v$1214 = ((v$1269 >= 32)?0:(v$999 >>> v$1269)) & 1;
t$1319 = ((v$1214 == 0)?false:true);
if (t$1319) {var t$1320 = v$999 & (((v$1269 >= 32)?0:((1 << (v$1269 & 31)) & 4294967295)) ^ 4294967295);
var t$1321 = (v$1269 + 1) & 4294967295;
var t$1322 = SmlPrims.chk_ovf_i32(v$1270 + 1);
var v$999 = t$1320;
var v$1269 = t$1321;
var v$1270 = t$1322;
continue lab$count;
} else {var t$1323 = v$999;
var t$1324 = (v$1269 + 1) & 4294967295;
var t$1325 = v$1270;
var v$999 = t$1323;
var v$1269 = t$1324;
var v$1270 = t$1325;
continue lab$count;
};
} };
};
};
var count$997 = fix$1318.$count;
var fix$1326 = {};
fix$1326.$c = function(v$1011,v$1271){lab$c: while (true) {if (v$1011 == null) {return v$1271;
} else {var v$1012 = v$1011;
var v$1013 = v$1012[0];
var v$1014 = v$1012[1];
var v$1015 = v$1012[2];
var t$1327 = v$1015;
var t$1328 = fix$1326.$c(v$1014,count$997(v$1013,0,v$1271));
var v$1011 = t$1327;
var v$1271 = t$1328;
continue lab$c;
};
};
};
var c$1009 = fix$1326.$c;
return c$1009(is$996,0);
};
tools$NatSet$.member$582 = function(elt$585,set$588){return member$84(elt$585,set$588);
};
tools$NatSet$.isEmpty$589 = function(v$592){return (v$592 == null)?true:false;
};
tools$NatSet$.eq$597 = function(v$825,s$600,s$$603){return v$825([s$600,s$$603]);
};
tools$NatSet$.list$604 = function(t$1021){return foldset$402(function(v$1022){return [v$1022[1],v$1022[0]];
},[null,t$1021]);
};
tools$NatSet$.fromList$605 = function(v$1274){return natsetof$498(v$1274);
};
var fix$1329 = {};
fix$1329.$addList = function(v$609,v$612){lab$addList: while (true) {if (v$609 == null) {return v$612;
} else {var v$623 = v$609;
var v$624 = v$623[0];
var v$625 = v$623[1];
var v$1173 = fix$1329.$addList(v$625,v$612);
if (member$84(v$624,v$1173)) {return v$1173;
} else {return add0$112(v$1173,v$624);
};
};
};
};
tools$NatSet$.addList$606 = fix$1329.$addList;
tools$NatSet$.insert$627 = function(elt$630,set$633){if (member$84(elt$630,set$633)) {return set$633;
} else {return add0$112(set$633,elt$630);
};
};
tools$NatSet$.remove$634 = function(elt$637,set$640){if (member$84(elt$637,set$640)) {return delete0$326(set$640,elt$637);
} else {return set$640;
};
};
tools$NatSet$.difference$641 = function(s1$644,s2$647){return difference$297(s1$644,s2$647);
};
tools$NatSet$.intersect$648 = function(s1$651,s2$654){return intersection$268(s1$651,s2$654);
};
tools$NatSet$.union$655 = function(s1$658,s2$661){return union$239(s1$658,s2$661);
};
tools$NatSet$.partition$662 = function(p$665,t$668){return [setfilter$522(p$665,t$668),setfilter$522(function(x$1035){return (p$665(x$1035))?false:true;
},t$668)];
};
tools$NatSet$.subst$671 = function(v$683,v$684){return function(s$678){if (member$84(v$684,s$678)) {var v$1181 = (member$84(v$684,s$678))?(delete0$326(s$678,v$684)):s$678;
if (member$84(v$683,v$1181)) {return v$1181;
} else {return add0$112(v$1181,v$683);
};
} else {return s$678;
};
};
};
tools$NatSet$.fold$685 = function(f$688,e$691,s$694){return foldset$402(function(v$698){var v$699 = v$698[0];
var v$700 = v$698[1];
return (f$688(v$700))(v$699);
},[e$691,s$694]);
};
tools$NatSet$.apply$724 = function(f$727,s$730){var fix$1330 = {};
fix$1330.$app = function(v$1252){lab$app: while (true) {if (v$1252 == null) {return 0;
} else {var v$1253 = v$1252;
var v$1254 = v$1253[0];
var v$1255 = v$1253[1];
f$727(v$1254);
var t$1331 = v$1255;
var v$1252 = t$1331;
continue lab$app;
};
};
};
var app$1251 = fix$1330.$app;
return app$1251(foldset$402(function(v$1046){return [v$1046[1],v$1046[0]];
},[null,s$730]));
};
tools$NatSet$.layoutSet$731 = function(v$750,v$749,v$748){return function(pr_elt$739){return function(s$742){var t$1332;
var v$746 = [0,v$749];
var t$1333;
var l$1048 = foldset$402(function(v$1055){return [v$1055[1],v$1055[0]];
},[null,s$742]);
var fix$1334 = {};
fix$1334.$map = function(v$1050){if (v$1050 == null) {return null;
} else {var v$1051 = v$1050;
var v$1052 = v$1051[0];
var v$1053 = v$1051[1];
return [pr_elt$739(v$1052),fix$1334.$map(v$1053)];
};
};
var map$1049 = fix$1334.$map;
t$1333 = (map$1049(l$1048));
t$1332 = [t$1333,v$746,v$750,0,v$748];
return [0,t$1332];
};
};
};
tools$NatSet$.map$751 = function(f$754,x$1059){return natsetof$498(foldset$402(function(v$1223){var v$1224 = v$1223[0];
var v$1225 = v$1223[1];
return [f$754(v$1225),v$1224];
},[null,x$1059]));
};
tools$NatSet$.pu$762 = function(v$764){var fun_empty$773;
var v$1272 = null;
fun_empty$773 = (function(v$1273){return pickle$pickle$.con0$1979(v$1272,v$1273);
});
return pickle$pickle$.dataGen$1479(["NatSet",function(v$1069){return (v$1069 == null)?0:1;
},[fun_empty$773,[function(pu$1070){return pickle$pickle$.con1$2005(function(v$1071){return v$1071;
},function(v$1072){if (v$1072 == null) {basis$General$.print$156("Impossible.NatSet: pu.some");
throw [basis$Initial$.en$Fail$45,"Impossible.NatSet: pu.some"];
} else {return v$1072;
};
},pickle$pickle$.tup3Gen0$2340(pickle$pickle$.word$718,pu$1070,pu$1070));
},null]]]);
};
return 0;
})();
