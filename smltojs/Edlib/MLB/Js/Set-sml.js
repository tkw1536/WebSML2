if ((typeof(edlib$Set$)) == "undefined") {edlib$Set$ = {};
};
(function(){edlib$Set$.eq_Set$555 = function(v$559,v$556){var v$557 = v$556[0];
var v$558 = v$556[1];
switch (v$558[0]) { case 0: {var v$560 = v$557[1];
var v$561 = v$558[1];
var fix$922 = {};
fix$922.$eq_list = function(v$565,v$566){lab$eq_list: while (true) {if (v$565 == null) {return (v$566 == null)?true:false;
} else {if (v$566 == null) {return false;
} else {var v$567 = v$565;
var v$568 = v$566;
if (v$559([v$567[0],v$568[0]])) {var t$923 = v$567[1];
var t$924 = v$568[1];
var v$565 = t$923;
var v$566 = t$924;
continue lab$eq_list;
} else {return false;
};
};
};
};
};
var eq_list$563 = fix$922.$eq_list;
return eq_list$563(v$560,v$561);
 break; }default: {return false;
} };
};
edlib$Set$.empty$104 = function(v$921){return [0,null];
};
edlib$Set$.singleton$105 = function(elem$108){return [0,[elem$108,null]];
};
edlib$Set$.list$109 = function(v$112){return v$112[1];
};
edlib$Set$.fromList$117 = function(elemEq$120,l$123){var t$926;
var fix$925 = {};
fix$925.$dropRepeats = function(v$733){if (v$733 == null) {return null;
} else {var v$734 = v$733;
var v$735 = v$734[1];
if (v$735 == null) {return [v$734[0],null];
} else {var v$736 = v$734[0];
var t$929;
var fix$927 = {};
fix$927.$memberEq = function(v$853){lab$memberEq: while (true) {if (v$853 == null) {return false;
} else {var v$854 = v$853;
var v$855 = v$854[0];
var v$856 = v$854[1];
if ((elemEq$120(v$736))(v$855)) {return true;
} else {var t$928 = v$856;
var v$853 = t$928;
continue lab$memberEq;
};
};
};
};
var memberEq$852 = fix$927.$memberEq;
t$929 = (memberEq$852(v$735));
if (t$929) {return fix$925.$dropRepeats(v$735);
} else {return [v$736,fix$925.$dropRepeats(v$735)];
};
};
};
};
var dropRepeats$732 = fix$925.$dropRepeats;
t$926 = (dropRepeats$732(l$123));
return [0,t$926];
};
edlib$Set$.isEmpty$124 = function(v$127){return (v$127[1] == null)?true:false;
};
var fix$930 = {};
fix$930.$member = function(v$136,v$139,v$142){lab$member: while (true) {var v$154 = v$142[1];
if (v$154 == null) {return false;
} else {var v$163 = v$154;
var v$164 = v$163[0];
var v$165 = v$163[1];
if ((v$136(v$139))(v$164)) {return true;
} else {var t$931 = v$136;
var t$932 = v$139;
var t$933 = [0,v$165];
var v$136 = t$931;
var v$139 = t$932;
var v$142 = t$933;
continue lab$member;
};
};
};
};
edlib$Set$.member$133 = fix$930.$member;
edlib$Set$.size$166 = function(v$169){var v$173 = v$169[1];
var fix$934 = {};
fix$934.$acc = function(v$572,v$573){lab$acc: while (true) {if (v$572 == null) {return v$573;
} else {var v$574 = v$572;
var v$575 = v$574[1];
var t$935 = v$575;
var t$936 = SmlPrims.chk_ovf_i32(v$573 + 1);
var v$572 = t$935;
var v$573 = t$936;
continue lab$acc;
};
};
};
var acc$571 = fix$934.$acc;
return acc$571(v$173,0);
};
edlib$Set$.eq$204 = function(elemEq$207,s1$210,s2$213){var v$226 = s1$210[1];
var t$946;
var t$942;
var v$577 = s1$210[1];
var fix$943 = {};
fix$943.$acc = function(v$580,v$581){lab$acc: while (true) {if (v$580 == null) {return v$581;
} else {var v$582 = v$580;
var v$583 = v$582[1];
var t$944 = v$583;
var t$945 = SmlPrims.chk_ovf_i32(v$581 + 1);
var v$580 = t$944;
var v$581 = t$945;
continue lab$acc;
};
};
};
var acc$579 = fix$943.$acc;
t$942 = (acc$579(v$577,0));
var t$938;
var v$585 = s2$213[1];
var fix$939 = {};
fix$939.$acc = function(v$588,v$589){lab$acc: while (true) {if (v$588 == null) {return v$589;
} else {var v$590 = v$588;
var v$591 = v$590[1];
var t$940 = v$591;
var t$941 = SmlPrims.chk_ovf_i32(v$589 + 1);
var v$588 = t$940;
var v$589 = t$941;
continue lab$acc;
};
};
};
var acc$587 = fix$939.$acc;
t$938 = (acc$587(v$585,0));
t$946 = (t$942 == t$938);
if (t$946) {var fix$937 = {};
fix$937.$allContained = function(v$754,v$755){if (v$754 == null) {return true;
} else {var v$756 = v$754;
var v$757 = v$756[0];
var v$758 = v$756[1];
var t$949;
var fix$947 = {};
fix$947.$member = function(v$859){lab$member: while (true) {var v$860 = v$859[1];
if (v$860 == null) {return false;
} else {var v$861 = v$860;
var v$862 = v$861[0];
var v$863 = v$861[1];
if ((elemEq$207(v$757))(v$862)) {return true;
} else {var t$948 = [0,v$863];
var v$859 = t$948;
continue lab$member;
};
};
};
};
var member$858 = fix$947.$member;
t$949 = (member$858(v$755));
if (t$949) {return fix$937.$allContained(v$758,v$755);
} else {return false;
};
};
};
var allContained$753 = fix$937.$allContained;
return allContained$753(v$226,s2$213);
} else {return false;
};
};
edlib$Set$.en$Empty$228 = new String("Empty");
edlib$Set$.select$229 = function(v$232){var v$239 = v$232[1];
if (v$239 == null) {throw [edlib$Set$.en$Empty$228,"select"];
} else {var v$240 = v$239;
return [v$240[0],[0,v$240[1]]];
};
};
edlib$Set$.insert$243 = function(elemEq$246,elem$249,s$252){var v$266 = s$252[1];
var t$952;
var fix$950 = {};
fix$950.$member = function(v$866){lab$member: while (true) {var v$867 = v$866[1];
if (v$867 == null) {return false;
} else {var v$868 = v$867;
var v$869 = v$868[0];
var v$870 = v$868[1];
if ((elemEq$246(elem$249))(v$869)) {return true;
} else {var t$951 = [0,v$870];
var v$866 = t$951;
continue lab$member;
};
};
};
};
var member$865 = fix$950.$member;
t$952 = (member$865(s$252));
return t$952?s$252:[0,[elem$249,v$266]];
};
var fix$953 = {};
fix$953.$intersect = function(v$270,v$273,v$276){var v$288 = v$276[1];
if (v$288 == null) {return edlib$Set$.empty$104(0);
} else {var v$297 = v$288;
var v$298 = v$297[0];
var v$299 = v$297[1];
var t$997;
var fix$995 = {};
fix$995.$member = function(v$873){lab$member: while (true) {var v$874 = v$873[1];
if (v$874 == null) {return false;
} else {var v$875 = v$874;
var v$876 = v$875[0];
var v$877 = v$875[1];
if ((v$270(v$298))(v$876)) {return true;
} else {var t$996 = [0,v$877];
var v$873 = t$996;
continue lab$member;
};
};
};
};
var member$872 = fix$995.$member;
t$997 = (member$872(v$273));
if (t$997) {var s$594 = fix$953.$intersect(v$270,v$273,[0,v$299]);
var v$599 = s$594[1];
var t$1000;
var fix$998 = {};
fix$998.$member = function(v$880){lab$member: while (true) {var v$881 = v$880[1];
if (v$881 == null) {return false;
} else {var v$882 = v$881;
var v$883 = v$882[0];
var v$884 = v$882[1];
if ((v$270(v$298))(v$883)) {return true;
} else {var t$999 = [0,v$884];
var v$880 = t$999;
continue lab$member;
};
};
};
};
var member$879 = fix$998.$member;
t$1000 = (member$879(s$594));
return t$1000?s$594:[0,[v$298,v$599]];
} else {return fix$953.$intersect(v$270,v$273,[0,v$299]);
};
};
};
edlib$Set$.intersect$267 = fix$953.$intersect;
var fix$954 = {};
fix$954.$partition$ = function(v$909,v$323,v$910,v$911){var v$324 = v$323[1];
if (v$324 == null) {return [v$910,v$911];
} else {var v$333 = v$324;
var v$334 = v$333[0];
var v$335 = v$333[1];
if (v$909(v$334)) {var t$986 = fix$954.$partition$;
var t$985 = v$909;
var t$984 = [0,v$335];
var t$980;
var v$607 = v$910[1];
var t$983;
var fix$981 = {};
fix$981.$member = function(v$887){lab$member: while (true) {var v$888 = v$887[1];
if (v$888 == null) {return false;
} else {var v$889 = v$888;
var v$890 = v$889[1];
var t$982 = [0,v$890];
var v$887 = t$982;
continue lab$member;
};
};
};
var member$886 = fix$981.$member;
t$983 = (member$886(v$910));
t$980 = (t$983?v$910:[0,[v$334,v$607]]);
return t$986(t$985,t$984,t$980,v$911);
} else {var t$994 = fix$954.$partition$;
var t$993 = v$909;
var t$992 = [0,v$335];
var t$991 = v$910;
var t$987;
var v$617 = v$911[1];
var t$990;
var fix$988 = {};
fix$988.$member = function(v$893){lab$member: while (true) {var v$894 = v$893[1];
if (v$894 == null) {return false;
} else {var v$895 = v$894;
var v$896 = v$895[1];
var t$989 = [0,v$896];
var v$893 = t$989;
continue lab$member;
};
};
};
var member$892 = fix$988.$member;
t$990 = (member$892(v$911));
t$987 = (t$990?v$911:[0,[v$334,v$617]]);
return t$994(t$993,t$992,t$991,t$987);
};
};
};
var partition$$307 = fix$954.$partition$;
edlib$Set$.partition$338 = function(f$341,s$344){return partition$$307(f$341,s$344,edlib$Set$.empty$104(0),edlib$Set$.empty$104(0));
};
edlib$Set$.remove$345 = function(eq$348,elem$351,set$354){return (partition$$307(function(a$723){return ((eq$348(elem$351))(a$723))?false:true;
},set$354,edlib$Set$.empty$104(0),edlib$Set$.empty$104(0)))[0];
};
var fix$955 = {};
fix$955.$difference = function(v$365,v$368,v$371){var v$383 = v$371[1];
if (v$383 == null) {return v$368;
} else {var v$389 = v$383;
var v$390 = v$389[0];
var v$391 = v$389[1];
var s$$386 = (partition$$307(function(a$629){return ((v$365(v$390))(a$629))?false:true;
},v$368,edlib$Set$.empty$104(0),edlib$Set$.empty$104(0)))[0];
return fix$955.$difference(v$365,s$$386,[0,v$391]);
};
};
edlib$Set$.difference$362 = fix$955.$difference;
edlib$Set$.union$392 = function(elemEq$395,v$398,v$401){var v$409 = v$398[1];
var v$411 = v$401[1];
var t$957;
var fix$956 = {};
fix$956.$dropRepeats = function(v$817){if (v$817 == null) {return null;
} else {var v$818 = v$817;
var v$819 = v$818[1];
if (v$819 == null) {return [v$818[0],null];
} else {var v$820 = v$818[0];
var t$960;
var fix$958 = {};
fix$958.$memberEq = function(v$899){lab$memberEq: while (true) {if (v$899 == null) {return false;
} else {var v$900 = v$899;
var v$901 = v$900[0];
var v$902 = v$900[1];
if ((elemEq$395(v$820))(v$901)) {return true;
} else {var t$959 = v$902;
var v$899 = t$959;
continue lab$memberEq;
};
};
};
};
var memberEq$898 = fix$958.$memberEq;
t$960 = (memberEq$898(v$819));
if (t$960) {return fix$956.$dropRepeats(v$819);
} else {return [v$820,fix$956.$dropRepeats(v$819)];
};
};
};
};
var dropRepeats$816 = fix$956.$dropRepeats;
t$957 = (dropRepeats$816(basis$List$.s$n$645([v$409,v$411])));
return [0,t$957];
};
var fix$961 = {};
fix$961.$closure$ = function(v$912,v$428,v$913,v$914){if (v$428 == null) {return v$914;
} else {var v$439 = v$428;
var v$440 = v$439[0];
var v$441 = v$439[1];
var more$432 = v$913(v$440);
var new$436;
var fix$969 = {};
fix$969.$difference = function(v$830,v$831){var v$832 = v$831[1];
if (v$832 == null) {return v$830;
} else {var v$833 = v$832;
var v$834 = v$833[0];
var v$835 = v$833[1];
var s$$836 = (partition$$307(function(a$837){return ((v$912(v$834))(a$837))?false:true;
},v$830,edlib$Set$.empty$104(0),edlib$Set$.empty$104(0)))[0];
return fix$969.$difference(s$$836,[0,v$835]);
};
};
var difference$829 = fix$969.$difference;
new$436 = (difference$829(more$432,v$914));
var v$437 = new$436[1];
var t$979 = fix$961.$closure$;
var t$978 = v$912;
var t$977 = basis$List$.s$n$645([v$441,v$437]);
var t$976 = v$913;
var t$970;
var v$636 = v$914[1];
var v$638 = new$436[1];
var t$972;
var fix$971 = {};
fix$971.$dropRepeats = function(v$840){if (v$840 == null) {return null;
} else {var v$841 = v$840;
var v$842 = v$841[1];
if (v$842 == null) {return [v$841[0],null];
} else {var v$843 = v$841[0];
var t$975;
var fix$973 = {};
fix$973.$memberEq = function(v$905){lab$memberEq: while (true) {if (v$905 == null) {return false;
} else {var v$906 = v$905;
var v$907 = v$906[0];
var v$908 = v$906[1];
if ((v$912(v$843))(v$907)) {return true;
} else {var t$974 = v$908;
var v$905 = t$974;
continue lab$memberEq;
};
};
};
};
var memberEq$904 = fix$973.$memberEq;
t$975 = (memberEq$904(v$842));
if (t$975) {return fix$971.$dropRepeats(v$842);
} else {return [v$843,fix$971.$dropRepeats(v$842)];
};
};
};
};
var dropRepeats$839 = fix$971.$dropRepeats;
t$972 = (dropRepeats$839(basis$List$.s$n$645([v$636,v$638])));
t$970 = [0,t$972];
return t$979(t$978,t$977,t$976,t$970);
};
};
var closure$$412 = fix$961.$closure$;
edlib$Set$.closure$444 = function(eq$447,f$450,s$453){var v$463 = s$453[1];
return closure$$412(eq$447,v$463,f$450,s$453);
};
edlib$Set$.map$464 = function(f$467,v$470){var v$477 = v$470[1];
var t$963;
var fix$962 = {};
fix$962.$map = function(v$642){if (v$642 == null) {return null;
} else {var v$643 = v$642;
var v$644 = v$643[0];
var v$645 = v$643[1];
return [f$467(v$644),fix$962.$map(v$645)];
};
};
var map$641 = fix$962.$map;
t$963 = (map$641(v$477));
return [0,t$963];
};
edlib$Set$.apply$478 = function(f$481,v$484){var v$491 = v$484[1];
var fix$964 = {};
fix$964.$apply = function(v$648){lab$apply: while (true) {if (v$648 == null) {return 0;
} else {var v$649 = v$648;
var v$650 = v$649[0];
var v$651 = v$649[1];
f$481(v$650);
var t$965 = v$651;
var v$648 = t$965;
continue lab$apply;
};
};
};
var apply$647 = fix$964.$apply;
return apply$647(v$491);
};
edlib$Set$.fold$492 = function(f$495,base$498,v$501){var v$510 = v$501[1];
var fix$966 = {};
fix$966.$foldL = function(v$654,v$655){lab$foldL: while (true) {if (v$655 == null) {return v$654;
} else {var v$656 = v$655;
var v$657 = v$656[0];
var v$658 = v$656[1];
var t$967 = (f$495(v$657))(v$654);
var t$968 = v$658;
var v$654 = t$967;
var v$655 = t$968;
continue lab$foldL;
};
};
};
var foldL$653 = fix$966.$foldL;
return foldL$653(base$498,v$510);
};
edlib$Set$.fold$$511 = function(v$514,v$517){var v$526 = v$517[1];
if (v$526 == null) {throw [edlib$Set$.en$Empty$228,"fold'"];
} else {return edlib$edList$.foldL$$1727(v$514,v$526);
};
};
return 0;
})();
