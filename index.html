<!DOCTYPE html>
<html lang="en">
	<head>
		<!--
		WebSML2 - Running SML online
		Copyright (C) 2013  Tom Wiesing

		This program is free software; you can redistribute it and/or
		modify it under the terms of the GNU General Public License 
		version 2 as published by the Free Software Foundation

		This program is distributed in the hope that it will be useful,
		but WITHOUT ANY WARRANTY; without even the implied warranty of
		MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
		GNU General Public License for more details.

		You should have received a copy of the GNU General Public License
		along with this program; if not, write to the Free Software
		Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
		-->
		<title>WebSML2</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Basic Deps -->
		<script type="text/javascript" src="libs/jquery/jquery.js"></script>
		<script type="text/javascript" src="libs/jquery-center/jquery.center.js"></script>
		<script type="text/javascript" src="libs/jquery-nicescroll/jquery.nicescroll.min.js"></script>
		<script type="text/javascript" src="libs/jquery-ui/js/jquery-ui-1.10.3.min.js"></script>
		<link href="libs/jquery-ui/css/smoothness/jquery-ui-1.10.3.min.css" rel="stylesheet">
		<script type="text/javascript" src="libs/ZeroClipboard/ZeroClipboard.min.js"></script>

		<!-- Main Scripts-->
		<script type="text/javascript" src="main/loader.js"></script>
		<script type="text/javascript" src="main/main.js"></script>

		<!-- Main CSS -->
		<link href="main/main.css" rel="stylesheet">

	</head>
	<body>
		<!-- Message Box -->
		<div id="msgbox">
	        <h1>WebSML2</h1>
	        <h2>Running SML in your browser. </h2>
	        <div id="progressbar">
	        	<span>
	        		Copyright (C) 2013  Tom Wiesing
	        	</span></div>
			<p id="msgline1">
				<small>
					This program is free software; you can redistribute it and/or 
					modify it under the terms of the GNU General Public License 
					version 2 as published by the Free Software Foundation. 
				</small>
			</p>
	        <p id="msgline2">
		        <small>
				    This program is distributed in the hope that it will be useful,
					but WITHOUT ANY WARRANTY; without even the implied warranty of
					MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
					GNU General Public License for more details.
		        </small>
	        </p>
	    </div>


	    <!-- Toolbar -->
	    <div class="top">
		    <div id="topbar">
		    	<div class="ui-widget-header ui-corner-all">
		    		<button id="runbtn">Run Program</button>
		    		<button id="copybtn">Copy</button>
		    		<button id="clearbtn">Clear</button>
		    		<button id="compressbtn">Compress</button>
		    		<button id="aboutbtn">About</button>
		    	</div>
			</div>
		</div>


	    <!-- About Dialog -->
	    <div id="aboutdialog" title="About WebSML2">
	    	<h4>Running SML in your browser</h4>

	    	WebSML2 is an application which allows you to run SML from your web browser. It is licensed under GPLv2. <br /><br />
	    	<a href="https://github.com/tkw1536/WebSML2" target="_blank">View Source on GitHub</a>
	    	<a href="LICENSE" target="_blank">View Full license text</a>
	    	<br /><br />

	    	It uses the following libraries: 
	    	<br /><br />
	    	<a href="http://www.smlserver.org/smltojs/" target="_blank">SMLtoJs</a> 4.3.5, licensed under MIT / GPLv2 
	    	<br /><br />
	    	<a href="https://github.com/kpj/smlObfuscator" target="_blank">smlObfuscator</a>
	    	<br /><br />
	    	<a href="http://jquery.com/" target="_blank">jQuery</a> 1.10.2, licensed under MIT
	    	<br /><br />
	    	<a href="http://jqueryui.com/" target="_blank">jQuery UI</a> 1.10.3, licensed under MIT
	    	<br /><br />
	    	<a href="http://areaaperta.com/nicescroll" target="_blank">jquery.nicescroll</a> 3.5.1, licensed under MIT
	    	<br /><br />
	    	<a href="https://github.com/zeroclipboard/ZeroClipboard" target="_blank">ZeroClipboard</a> 1.1.7, licensed under MIT
	    	<br /><br />
	    </div>

		<!-- Compress Dialog -->
		<div id="compressdialog" title="Compress">
			<form>
				<textarea id="compressed" rows="15"></textarea>
				<br />
				<label class="checkbox">
					<input type="checkbox" id="remove_comments" checked="checked">remove comments
				</label>
				<br />
				<label class="checkbox">
					<input type="checkbox" id="simple_optimize" checked="checked">Enable simple optimisations
				</label>
				<br />
				<label class="checkbox">
					<input type="checkbox" id="remove_lines">remove line breaks
				</label>
				<br />
				<label class="checkbox">
					<input type="checkbox" id="add_garbage">random comments
				</label>
				<br />
				Variable renamer: <select id="replacer">
				  <option value="static">None</option>
				  <option value="numerical">Numerical</option>
				  <option selected="selected" value="alphanumerical">Alpha-Numeric</option>
				  <option value="random">Obfuscator</option>
				</select> <br />
				Exceptions: <input type="value" value="" id="ignore_funcs" >
			</form>
		</div>


		<!-- Main UI -->
		<div id="ui">
			<div class="leftlines">
				<div id="leftlines">
					<textarea id="lineno" disabled=disabled>
						
					</textarea>
				</div>
			</div>
			<div class="left">
				<div id="left" >
<textarea id="code" cols="1" rows="1">fun loop (n,acc) : IntInf.int =
  if n = 0 then acc
  else loop(n-1,n*acc)

fun fac n =
  print ("fac(" ^ IntInf.toString n ^ ") = " ^
         IntInf.toString (loop(n,1)) ^ "\n")

val () = List.app fac [10,20,30,40]</textarea>
				</div>
			</div>
			<div class="right">
				<div id="right">
					<span class="label label-log">
						Welcome to WebSML2. 
						Type your SML program on the left and click "Run Program"! 
					</span><br>
				</div>
			</div>
		</div>
	</body>
</html>